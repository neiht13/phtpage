/*! For license information please see 11.0e58d70b.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[11],[function(e,t,n){"use strict";e.exports=n(174)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(E([])));g&&g!==t&&n.call(g,o)&&(m=g);var y=v.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(a,o,u,s){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Object(r.a)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,c(y,"constructor",v),c(v,"constructor",p),p.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},O(k.prototype),c(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return re})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return ve})),n.d(t,"m",(function(){return $})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return J})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return se})),n.d(t,"t",(function(){return ne})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return me})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return G})),n.d(t,"y",(function(){return T})),n.d(t,"z",(function(){return S})),n.d(t,"A",(function(){return Y})),n.d(t,"B",(function(){return N})),n.d(t,"C",(function(){return R})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return I})),n.d(t,"H",(function(){return A})),n.d(t,"I",(function(){return K})),n.d(t,"J",(function(){return H})),n.d(t,"K",(function(){return B})),n.d(t,"L",(function(){return X})),n.d(t,"M",(function(){return ee})),n.d(t,"N",(function(){return te})),n.d(t,"O",(function(){return Q})),n.d(t,"P",(function(){return he})),n.d(t,"Q",(function(){return fe})),n.d(t,"R",(function(){return z})),n.d(t,"S",(function(){return de})),n.d(t,"T",(function(){return ue})),n.d(t,"U",(function(){return ce})),n.d(t,"V",(function(){return le})),n.d(t,"W",(function(){return D}));var r=n(10),i=n(9),a=n(41),o=n(12),u=n(13),s=n(171),c=n(3),l=n(4),f=!1,h=!1,d="${JSCORE_VERSION}",p=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database ("+d+") INTERNAL ASSERT FAILED: "+e)},m=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var t=m(e);return b.encodeByteArray(t,!0)},y=function(e){return g(e).replace(/\./g,"")},O=function(e){try{return b.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function k(e){return w(void 0,e)}function w(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=w(e[n],t[n]));return e}var j=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[y(JSON.stringify({alg:"none",type:"JWT"})),y(JSON.stringify(a)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function C(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function T(){return"object"===typeof self&&self.self===self}function S(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){var e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P(){return!0===f||!0===h}function A(){return!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){return"object"===typeof indexedDB}function D(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function M(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}function L(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var F=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var o;return Object(c.a)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(Object(a.a)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(o),U.prototype.create),o}return Object(l.a)(n)}(Object(s.a)(Error)),U=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function V(e,t){return e.replace(q,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var q=/\{\$([^}]+)}/g;function B(e){return JSON.parse(e)}function z(e){return JSON.stringify(e)}var W=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=B(O(a[0])||""),n=B(O(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},H=function(e){var t=W(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},K=function(e){var t=W(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},G=function(e){var t=W(e).claims;return"object"===typeof t&&!0===t.admin};function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Y(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function X(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function J(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Z(u)&&Z(s)){if(!J(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Z(e){return null!==e&&"object"===typeof e}function ee(e){for(var t=[],n=function(){var e=Object(i.a)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function te(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(i.a)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function ne(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var re=function(){function e(){Object(c.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(l.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ie(e,t){var n=new ae(e,t);return n.subscribe.bind(n)}var ae=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var i,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=oe),void 0===i.error&&(i.error=oe),void 0===i.complete&&(i.complete=oe);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(e){}})),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function oe(){}var ue=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function se(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ce(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(se(e,t)+"must be a valid function.")}function le(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(se(e,t)+"must be a valid context object.")}var fe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,p(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},he=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},de=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},pe=144e5;function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(pe,r+i)}function me(e){return e&&e._delegate?e._delegate:e}}).call(this,n(79))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(115);var i=n(66),a=n(116);function o(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(32),i=n(117),a=n(21),o=n(41);function u(e,t){if(t&&("object"===Object(a.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(e)}function s(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},function(e,t,n){"use strict";e.exports=n(181)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(91);var i=n(118),a=n(66);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return A})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return O})),n.d(t,"_addComponent",(function(){return _})),n.d(t,"_addOrOverwriteComponent",(function(){return x})),n.d(t,"_apps",(function(){return w})),n.d(t,"_clearComponents",(function(){return S})),n.d(t,"_components",(function(){return j})),n.d(t,"_getProvider",(function(){return C})),n.d(t,"_registerComponent",(function(){return E})),n.d(t,"_removeServiceInstance",(function(){return T})),n.d(t,"deleteApp",(function(){return L})),n.d(t,"getApp",(function(){return D})),n.d(t,"getApps",(function(){return M})),n.d(t,"initializeApp",(function(){return R})),n.d(t,"onLog",(function(){return V})),n.d(t,"registerVersion",(function(){return U})),n.d(t,"setLogLevel",(function(){return q}));var r=n(15),i=n(1),a=n(6),o=n(10),u=n(5),s=n(3),c=n(4),l=n(20),f=n(24),h=n(2);n.d(t,"FirebaseError",(function(){return h.c}));var d,p,v=n(44),m=function(){function e(t){Object(s.a)(this,e),this.container=t}return Object(c.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var b="@firebase/app",g="0.7.33",y=new f.b("@firebase/app"),O="[DEFAULT]",k=(d={},Object(u.a)(d,b,"fire-core"),Object(u.a)(d,"@firebase/app-compat","fire-core-compat"),Object(u.a)(d,"@firebase/analytics","fire-analytics"),Object(u.a)(d,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(d,"@firebase/app-check","fire-app-check"),Object(u.a)(d,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(d,"@firebase/auth","fire-auth"),Object(u.a)(d,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(d,"@firebase/database","fire-rtdb"),Object(u.a)(d,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(d,"@firebase/functions","fire-fn"),Object(u.a)(d,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(d,"@firebase/installations","fire-iid"),Object(u.a)(d,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(d,"@firebase/messaging","fire-fcm"),Object(u.a)(d,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(d,"@firebase/performance","fire-perf"),Object(u.a)(d,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(d,"@firebase/remote-config","fire-rc"),Object(u.a)(d,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(d,"@firebase/storage","fire-gcs"),Object(u.a)(d,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(d,"@firebase/firestore","fire-fst"),Object(u.a)(d,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(d,"fire-js","fire-js"),Object(u.a)(d,"firebase","fire-js-all"),d),w=new Map,j=new Map;function _(e,t){try{e.container.addComponent(t)}catch(n){y.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function x(e,t){e.container.addOrOverwriteComponent(t)}function E(e){var t=e.name;if(j.has(t))return y.debug("There were multiple attempts to register component ".concat(t,".")),!1;j.set(t,e);var n,r=Object(o.a)(w.values());try{for(r.s();!(n=r.n()).done;){_(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function C(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;C(e,t).clearInstance(n)}function S(){j.clear()}var I=(p={},Object(u.a)(p,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(p,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(p,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(p,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(p,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(p,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(u.a)(p,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(p,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(p,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(p,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),p),N=new h.b("app","Firebase",I),P=function(){function e(t,n,r){var i=this;Object(s.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l.a("app",(function(){return i}),"PUBLIC"))}return Object(c.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}}]),e}(),A="9.10.0";function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:O,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw N.create("bad-app-name",{appName:String(i)});var a=w.get(i);if(a){if(Object(h.q)(e,a.options)&&Object(h.q)(r,a.config))return a;throw N.create("duplicate-app",{appName:i})}var u,s=new l.b(i),c=Object(o.a)(j.values());try{for(c.s();!(u=c.n()).done;){var f=u.value;s.addComponent(f)}}catch(p){c.e(p)}finally{c.f()}var d=new P(e,r,s);return w.set(i,d),d}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=w.get(e);if(!t)throw N.create("no-app",{appName:e});return t}function M(){return Array.from(w.values())}function L(e){return F.apply(this,arguments)}function F(){return F=Object(a.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!w.has(n)){e.next=6;break}return w.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function U(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void y.warn(u.join(" "))}E(new l.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function V(e,t){if(null!==e&&"function"!==typeof e)throw N.create("invalid-log-argument");Object(f.d)(e,t)}function q(e){Object(f.c)(e)}var B="firebase-heartbeat-store",z=null;function W(){return z||(z=Object(v.b)("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(B)}}).catch((function(e){throw N.create("idb-open",{originalErrorMessage:e.message})}))),z}function H(e){return K.apply(this,arguments)}function K(){return(K=Object(a.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:return r=e.sent,e.abrupt("return",r.transaction(B).objectStore(B).get(Q(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof h.c?y.warn(e.t0.message):(a=N.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),y.warn(a.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function G(e,t){return $.apply(this,arguments)}function $(){return($=Object(a.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:return a=e.sent,o=a.transaction(B,"readwrite"),u=o.objectStore(B),e.next=8,u.put(n,Q(t));case 8:return e.abrupt("return",o.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof h.c?y.warn(e.t0.message):(s=N.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),y.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Q(e){return"".concat(e.name,"!").concat(e.options.appId)}var Y=function(){function e(t){var n=this;Object(s.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ee(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Object(c.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=X(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t,n,r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=X(),n=J(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=Object(h.k)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function X(){return(new Date).toISOString().substring(0,10)}function J(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Object(o.a)(e);try{var u=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),te(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),te(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=u();if("break"===s)break}}catch(c){a.e(c)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Z,ee=function(){function e(t){Object(s.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(c.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.C)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(h.W)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,H(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",G(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return a=e.sent,e.abrupt("return",G(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:a.lastSentHeartbeatDate,heartbeats:[].concat(Object(r.a)(a.heartbeats),Object(r.a)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function te(e){return Object(h.k)(JSON.stringify({version:2,heartbeats:e})).length}Z="",E(new l.a("platform-logger",(function(e){return new m(e)}),"PRIVATE")),E(new l.a("heartbeat",(function(e){return new Y(e)}),"PRIVATE")),U(b,g,Z),U(b,g,"esm2017"),U("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return Dt})),n.d(t,"d",(function(){return Ut})),n.d(t,"e",(function(){return qt})),n.d(t,"f",(function(){return Vt})),n.d(t,"g",(function(){return Et})),n.d(t,"h",(function(){return Ft})),n.d(t,"i",(function(){return wi})),n.d(t,"j",(function(){return La})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return ci})),n.d(t,"m",(function(){return Bt})),n.d(t,"n",(function(){return zt})),n.d(t,"o",(function(){return Wt})),n.d(t,"p",(function(){return M})),n.d(t,"q",(function(){return Qe})),n.d(t,"r",(function(){return N})),n.d(t,"s",(function(){return Er})),n.d(t,"t",(function(){return V})),n.d(t,"u",(function(){return ta})),n.d(t,"v",(function(){return Wi})),n.d(t,"w",(function(){return Pe})),n.d(t,"y",(function(){return Tn})),n.d(t,"z",(function(){return kr})),n.d(t,"A",(function(){return Da})),n.d(t,"B",(function(){return jr})),n.d(t,"C",(function(){return In})),n.d(t,"D",(function(){return En})),n.d(t,"E",(function(){return Xe})),n.d(t,"G",(function(){return Rn})),n.d(t,"H",(function(){return E})),n.d(t,"I",(function(){return Wn})),n.d(t,"J",(function(){return lr})),n.d(t,"K",(function(){return dr})),n.d(t,"L",(function(){return Zi})),n.d(t,"M",(function(){return Ne})),n.d(t,"N",(function(){return Kr})),n.d(t,"O",(function(){return Un})),n.d(t,"P",(function(){return dn})),n.d(t,"Q",(function(){return pi})),n.d(t,"R",(function(){return Di})),n.d(t,"S",(function(){return Xi})),n.d(t,"T",(function(){return br})),n.d(t,"U",(function(){return vn})),n.d(t,"V",(function(){return mi})),n.d(t,"W",(function(){return Ai})),n.d(t,"X",(function(){return Qi})),n.d(t,"Y",(function(){return Kn})),n.d(t,"Z",(function(){return _n})),n.d(t,"ab",(function(){return Ln})),n.d(t,"bb",(function(){return Qt})),n.d(t,"cb",(function(){return fn})),n.d(t,"db",(function(){return yn})),n.d(t,"eb",(function(){return Mn})),n.d(t,"fb",(function(){return Vn})),n.d(t,"gb",(function(){return hi})),n.d(t,"hb",(function(){return Ni})),n.d(t,"ib",(function(){return Gi})),n.d(t,"jb",(function(){return en})),n.d(t,"kb",(function(){return er})),n.d(t,"lb",(function(){return tr})),n.d(t,"mb",(function(){return Oi})),n.d(t,"nb",(function(){return Jn})),n.d(t,"ob",(function(){return $n})),n.d(t,"pb",(function(){return Pn})),n.d(t,"x",(function(){return ho})),n.d(t,"F",(function(){return lo}));var r=n(104),i=n(1),a=n(3),o=n(4),u=n(36),s=n(32),c=n(12),l=n(13),f=n(6),h=n(41),d=n(10),p=n(9),v=n(15),m=n(5),b=n(2),g=n(16);function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var O,k=n(24),w=n(20),j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function x(){return Object(m.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var E=function(){var e;return e={},Object(m.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(m.a)(e,"argument-error",""),Object(m.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(m.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(m.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(m.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(m.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(m.a)(e,"cors-unsupported","This browser is not supported."),Object(m.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(m.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(m.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(m.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(m.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(m.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(m.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(m.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(m.a)(e,"expired-action-code","The action code has expired."),Object(m.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(m.a)(e,"internal-error","An internal AuthError has occurred."),Object(m.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(m.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(m.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(m.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(m.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(m.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(m.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(m.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(m.a)(e,"invalid-email","The email address is badly formatted."),Object(m.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(m.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(m.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(m.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(m.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(m.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(m.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(m.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(m.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(m.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(m.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(m.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(m.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(m.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(m.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(m.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(m.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(m.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(m.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(m.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(m.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(m.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(m.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(m.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(m.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(m.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(m.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(m.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(m.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(m.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(m.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(m.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(m.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(m.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(m.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(m.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(m.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(m.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(m.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(m.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(m.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(m.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(m.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(m.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(m.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(m.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(m.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(m.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(m.a)(e,"timeout","The operation has timed out."),Object(m.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(m.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(m.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(m.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(m.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(m.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(m.a)(e,"unverified-email","The operation requires a verified email."),Object(m.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(m.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(m.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(m.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(m.a)(e,"user-signed-out",""),Object(m.a)(e,"weak-password","The password must be 6 characters long or more."),Object(m.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(m.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},C=x,T=new b.b("auth","Firebase",x()),S=new k.b("@firebase/auth");function I(e){if(S.logLevel<=k.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.error.apply(S,["Auth (".concat(g.SDK_VERSION,"): ").concat(e)].concat(n))}}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw D.apply(void 0,[e].concat(n))}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return D.apply(void 0,[e].concat(n))}function A(e,t,n){var r=Object.assign(Object.assign({},C()),Object(m.a)({},t,n));return new b.b("auth","Firebase",r).create(t,{appName:e.name})}function R(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&N(e,"argument-error"),A(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(v.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(v.a)(o)))}return T.create.apply(T,[e].concat(n))}function M(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw D.apply(void 0,[t].concat(r))}}function L(e){var t="INTERNAL ASSERTION FAILED: "+e;throw I(t),new Error(t)}function F(e,t){e||L(t)}var U=new Map;function V(e){F(e instanceof Function,"Expected a class definition");var t=U.get(e);return t?(F(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,U.set(e,t),t)}function q(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function B(){return"http:"===z()||"https:"===z()}function z(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var W=function(){function e(t,n){Object(a.a)(this,e),this.shortDelay=t,this.longDelay=n,F(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(b.D)()||Object(b.G)()}return Object(o.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(B()||Object(b.z)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function H(e,t){F(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var K=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),G=(O={},Object(m.a)(O,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(m.a)(O,"MISSING_CUSTOM_TOKEN","internal-error"),Object(m.a)(O,"INVALID_IDENTIFIER","invalid-email"),Object(m.a)(O,"MISSING_CONTINUE_URI","internal-error"),Object(m.a)(O,"INVALID_PASSWORD","wrong-password"),Object(m.a)(O,"MISSING_PASSWORD","internal-error"),Object(m.a)(O,"EMAIL_EXISTS","email-already-in-use"),Object(m.a)(O,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(m.a)(O,"INVALID_IDP_RESPONSE","invalid-credential"),Object(m.a)(O,"INVALID_PENDING_TOKEN","invalid-credential"),Object(m.a)(O,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(m.a)(O,"MISSING_REQ_TYPE","internal-error"),Object(m.a)(O,"EMAIL_NOT_FOUND","user-not-found"),Object(m.a)(O,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(m.a)(O,"EXPIRED_OOB_CODE","expired-action-code"),Object(m.a)(O,"INVALID_OOB_CODE","invalid-action-code"),Object(m.a)(O,"MISSING_OOB_CODE","internal-error"),Object(m.a)(O,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(m.a)(O,"INVALID_ID_TOKEN","invalid-user-token"),Object(m.a)(O,"TOKEN_EXPIRED","user-token-expired"),Object(m.a)(O,"USER_NOT_FOUND","user-token-expired"),Object(m.a)(O,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(m.a)(O,"INVALID_CODE","invalid-verification-code"),Object(m.a)(O,"INVALID_SESSION_INFO","invalid-verification-id"),Object(m.a)(O,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(m.a)(O,"MISSING_SESSION_INFO","missing-verification-id"),Object(m.a)(O,"SESSION_EXPIRED","code-expired"),Object(m.a)(O,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(m.a)(O,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(m.a)(O,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(m.a)(O,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(m.a)(O,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(m.a)(O,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(m.a)(O,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(m.a)(O,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(m.a)(O,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(m.a)(O,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(m.a)(O,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),O),$=new W(3e4,6e4);function Q(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Y(e,t,n,r){return X.apply(this,arguments)}function X(){return X=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",J(t,o,Object(f.a)(Object(i.a)().mark((function e(){var o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},u={},a&&("GET"===n?u=a:o={body:JSON.stringify(a)}),s=Object(b.M)(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",K.fetch()(ne(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function J(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,v;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},G),n),e.prev=2,o=new re(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ie(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=Object(p.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ie(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ie(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ie(t,"user-disabled",s);case 29:if(v=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw A(t,v,d);case 34:N(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof b.c)){e.next=41;break}throw e.t0;case 41:N(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return te=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u,s=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Y(t,n,r,a,o);case 3:return"mfaPendingCredential"in(u=e.sent)&&N(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?H(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var re=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(P(n.auth,"network-request-failed"))}),$.get())}))}return Object(o.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ie(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=P(e,t,r);return i.customData._tokenResponse=n,i}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function he(){return he=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(b.v)(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,M((o=pe(a))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),u="object"===typeof o.firebase?o.firebase:void 0,s=null===u||void 0===u?void 0:u.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:fe(de(o.auth_time)),issuedAtTime:fe(de(o.iat)),expirationTime:fe(de(o.exp)),signInProvider:s||null,signInSecondFactor:(null===u||void 0===u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function de(e){return 1e3*Number(e)}function pe(e){var t,n=e.split("."),r=Object(p.a)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return I("JWT malformed, contained fewer than 3 sections"),null;try{var u=Object(b.i)(a);return u?JSON.parse(u):(I("Failed to decode base64 JWT payload"),null)}catch(s){return I("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function ve(e,t){return me.apply(this,arguments)}function me(){return me=Object(f.a)(Object(i.a)().mark((function e(t,n){var r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof b.c&&be(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),me.apply(this,arguments)}function be(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ge=function(){function e(t){Object(a.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(o.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(f.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ye=function(){function e(t,n){Object(a.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(o.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fe(this.lastLoginAt),this.creationTime=fe(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Oe(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c,l,f,h,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,ve(t,ce(r,{idToken:a}));case 6:M(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),u=o.users[0],t._notifyReloadListener(u),s=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?_e(u.providerUserInfo):[],c=je(t.providerData,s),l=t.isAnonymous,f=!(t.email&&u.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:c,metadata:new ye(u.createdAt,u.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.v)(t),e.next=3,Oe(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(v.a)(n),Object(v.a)(t))}function _e(e){return e.map((function(e){var t=e.providerId,n=y(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function xe(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,{},Object(f.a)(Object(i.a)().mark((function e(){var r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.M)({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,o=a.tokenApiHost,u=a.apiKey,s=ne(t,o,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",K.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(){function e(){Object(a.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(o.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){M(e.idToken,"internal-error"),M("undefined"!==typeof e.idToken,"internal-error"),M("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pe(e);return M(t,"internal-error"),M("undefined"!==typeof t.exp,"internal-error"),M("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],M(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t,n);case 2:r=e.sent,a=r.accessToken,o=r.refreshToken,u=r.expiresIn,this.updateTokensAndExpiration(a,o,Number(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return L("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(M("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(M("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(M("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Te(e,t){M("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Se=function(){function e(t){Object(a.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=y(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Object(v.a)(o.providerData):[],this.metadata=new ye(o.createdAt||void 0,o.lastLoginAt||void 0)}return Object(o.a)(e,[{key:"getIdToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(M(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return he.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return we.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Oe(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ve(this,ae(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,b=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,y=n.uid,O=n.emailVerified,k=n.isAnonymous,w=n.providerData,j=n.stsTokenManager;M(y&&j,t,"internal-error");var _=Ce.fromJSON(this.name,j);M("string"===typeof y,t,"internal-error"),Te(f,t.name),Te(h,t.name),M("boolean"===typeof O,t,"internal-error"),M("boolean"===typeof k,t,"internal-error"),Te(d,t.name),Te(p,t.name),Te(v,t.name),Te(m,t.name),Te(b,t.name),Te(g,t.name);var x=new e({uid:y,auth:t,email:h,emailVerified:O,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:b,lastLoginAt:g});return w&&Array.isArray(w)&&(x.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){var a,o,u,s=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],(o=new Ce).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:a}),t.next=6,Oe(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ie=function(){function e(){Object(a.a)(this,e),this.type="NONE",this.storage={}}return Object(o.a)(e,[{key:"_isAvailable",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ie.type="NONE";var Ne=Ie;function Pe(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ae=function(){function e(t,n,r){Object(a.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,u=i.name;this.fullUserKey=Pe(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pe("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(o.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Se._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){var a,o,u,s,c,l,h,p,v,m,b,g=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(V(Ne),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),u=o[0]||V(Ne),s=Pe(a,n.config.apiKey,n.name),c=null,l=Object(d.a)(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=29;break}return p=h.value,t.prev=14,t.next=17,p._get(s);case 17:if(!(v=t.sent)){t.next=23;break}return m=Se._fromJSON(n,v),p!==u&&(c=m),u=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(b=o.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&b.length){t.next=40;break}return t.abrupt("return",new e(u,n,a));case 40:if(u=b[0],!c){t.next=44;break}return t.next=44,u._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Re(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(De(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ve(t))return"Blackberry";if(qe(t))return"Webos";if(Me(t))return"Safari";if((t.includes("chrome/")||Le(t))&&!t.includes("edge/"))return"Chrome";if(Ue(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/firefox\//i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/crios\//i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/iemobile/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/android/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/blackberry/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/webos/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ze(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return Be(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function We(){return Object(b.B)()&&10===document.documentMode}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return Be(e)||Ue(e)||qe(e)||Ve(e)||/windows phone/i.test(e)||Fe(e)}function Ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Re(Object(b.w)());break;case"Worker":t="".concat(Re(Object(b.w)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(g.SDK_VERSION,"/").concat(r)}var Ge=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.queue=[]}return Object(o.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,a=Object(d.a)(this.queue),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=14;break}return u=o.value,e.next=11,u(t);case 11:u.onAbort&&r.push(u.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Object(d.a)(r);try{for(s.s();!(c=s.n()).done;){l=c.value;try{l()}catch(i){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$e=function(){function e(t,n,r){Object(a.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(o.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=V(t)),this._initializationPromise=this.queue(Object(f.a)(Object(i.a)().mark((function r(){var a,o;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ae.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return M(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(b.v)(t):null)&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=this,a=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&M(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(f.a)(Object(i.a)().mark((function n(){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(V(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new b.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return M(n=t&&V(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ae.create(this,[V(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qe(e){return Object(b.v)(e)}var Ye=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(b.o)((function(e){return n.observer=e}))}return Object(o.a)(e,[{key:"next",get:function(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xe(e,t,n){var r=Qe(e);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Je(t),o=function(e){var t=Je(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ze(r.substr(a.length+1))}}var o=r.split(":"),u=Object(p.a)(o,2);return{host:u[0],port:Ze(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Je(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var et=function(){function e(t,n){Object(a.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return L("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return L("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return L("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return L("not implemented")}}]),e}();function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:resetPassword",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPassword",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:sendOobCode",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(a.a)(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=u,o}return Object(o.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ut(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yt(t,{email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",kt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(et);function _t(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithIdp",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(o.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _t(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_t(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_t(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(b.M)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):N("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=y(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(et);function Ct(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:sendVerificationCode",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return(St=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return(It=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Q(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ie(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nt=Object(m.a)({},"USER_NOT_FOUND","user-not-found");function Pt(){return(Pt=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Q(t,r),Nt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var At=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return St.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return It.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Pt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(et);var Rt=function(){function e(t){var n,r,i,o,u,s;Object(a.a)(this,e);var c=Object(b.N)(Object(b.t)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);M(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(o.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(b.N)(Object(b.t)(e)).link,n=t?Object(b.N)(Object(b.t)(t)).deep_link_id:null,r=Object(b.N)(Object(b.t)(e)).deep_link_id;return(r?Object(b.N)(Object(b.t)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Dt=function(){function e(){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(o.a)(e,null,[{key:"credential",value:function(e,t){return jt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Rt.parseLink(t);return M(n,"argument-error"),jt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Dt.PROVIDER_ID="password",Dt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Mt=function(){function e(t){Object(a.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(o.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(o.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(v.a)(this.scopes)}}]),n}(Mt),Ft=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return M(e.idToken||e.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return M("providerId"in t&&"signInMethod"in t,"argument-error"),Et._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Lt),Ut=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"facebook.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e){return Et._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lt);Ut.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ut.PROVIDER_ID="facebook.com";var Vt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(o.a)(n,null,[{key:"credential",value:function(e,t){return Et._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lt);Vt.GOOGLE_SIGN_IN_METHOD="google.com",Vt.PROVIDER_ID="google.com";var qt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"github.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e){return Et._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lt);qt.GITHUB_SIGN_IN_METHOD="github.com",qt.PROVIDER_ID="github.com";var Bt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return _t(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_t(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_t(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(et),zt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(a.a)(this,n),M(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Object(o.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Bt.fromJSON(e);return M(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Bt._create(r,n)}catch(i){return null}}}]),n}(Mt),Wt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"twitter.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e,t){return Et._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lt);function Ht(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signUp",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Wt.TWITTER_SIGN_IN_METHOD="twitter.com",Wt.PROVIDER_ID="twitter.com";var Gt=function(){function e(t){Object(a.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(o.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r,a){var o,u,s,c,l=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Se._fromIdTokenResponse(n,a,o);case 3:return u=t.sent,s=$t(a),c=new e({user:u,providerId:s,_tokenResponse:a,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r,a){var o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return o=$t(a),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function $t(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Qt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qe(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ht(r,{returnSecureToken:!0});case 7:return a=e.sent,e.next=10,Gt._fromIdTokenResponse(r,"signIn",a,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o){var u,s;return Object(a.a)(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=o,Object.setPrototypeOf(Object(h.a)(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return Object(o.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(b.c);function Jt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xt._fromErrorAndOperation(e,n,t,r);throw n}))}function Zt(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.v)(t),e.next=3,an(!0,r,n);case 3:return e.t0=ue,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,o=a.providerUserInfo,u=Zt(o||[]),r.providerData=r.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=ve,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Gt._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}function an(e,t,n){return on.apply(this,arguments)}function on(){return(on=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(n);case 2:a=Zt(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",M(a.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e,t){return sn.apply(this,arguments)}function sn(){return sn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c,l,f=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]&&f[2],o=t.auth,u="reauthenticate",e.prev=3,e.next=6,ve(t,Jt(o,u,n,t),r);case 6:return M((s=e.sent).idToken,o,"internal-error"),M(c=pe(s.idToken),o,"internal-error"),l=c.sub,M(t.uid===l,o,"user-mismatch"),e.abrupt("return",Gt._forOperation(t,u,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(a=e.t0)||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&N(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sn.apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return ln=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,Jt(t,a,n);case 4:return o=e.sent,e.next=7,Gt._fromIdTokenResponse(t,a,o);case 7:if(u=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function fn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(Qe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.v)(t),e.next=3,an(!1,r,n.providerId);case 3:return e.abrupt("return",nn(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(Object(b.v)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithCustomToken",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qe(t),e.next=3,bn(r,{token:n,returnSecureToken:!0});case 3:return a=e.sent,e.next=6,Gt._fromIdTokenResponse(r,"signIn",a);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kn=function(){function e(t,n){Object(a.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(o.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wn._fromServerResponse(e,t):N(e,"internal-error")}}]),e}(),wn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(o.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(kn);function jn(e,t,n){var r;M((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),M("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function _n(e,t,n){return xn.apply(this,arguments)}function xn(){return(xn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),o={requestType:"PASSWORD_RESET",email:n},r&&jn(a,o,r),e.next=5,dt(a,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(Object(b.v)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(Object(b.v)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.v)(t),e.next=3,tt(r,{oobCode:n});case 3:a=e.sent,M(o=a.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return M(a.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:M(a.mfaInfo,r,"internal-error");case 13:M(a.email,r,"internal-error");case 14:return u=null,a.mfaInfo&&(u=kn._fromServerResponse(Qe(r),a.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:u},operation:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(Object(b.v)(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qe(t),e.next=3,Ht(a,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Gt._fromIdTokenResponse(a,"signIn",o);case 6:return u=e.sent,e.next=9,a._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e,t,n){return fn(Object(b.v)(e),Dt.credential(t,n))}function Ln(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),o={requestType:"EMAIL_SIGNIN",email:n},M(r.handleCodeInApp,a,"argument-error"),r&&jn(a,o,r),e.next=6,vt(a,o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t){var n=Rt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Vn(e,t,n){return qn.apply(this,arguments)}function qn(){return(qn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),M((o=Dt.credentialWithLink(n,r||q()))._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),e.abrupt("return",fn(a,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:createAuthUri",Q(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B()?q():"http://localhost",a={identifier:n,continueUri:r},e.next=4,Bn(Object(b.v)(t),a);case 4:return o=e.sent,u=o.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(b.v)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_EMAIL",idToken:a},n&&jn(r.auth,o,n),e.next=8,ft(r.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t,n){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),e.next=3,t.getIdToken();case 3:return o=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&jn(a.auth,u,r),e.next=8,bt(a.auth,u);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,a=n.photoURL,void 0!==r||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return o=Object(b.v)(t),e.next=6,o.getIdToken();case 6:return u=e.sent,s={idToken:u,displayName:r,photoUrl:a,returnSecureToken:!0},e.next=10,ve(o,Yn(o.auth,s));case 10:return c=e.sent,o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e,t){return nr(Object(b.v)(e),t,null)}function tr(e,t){return nr(Object(b.v)(e),null,t)}function nr(e,t,n){return rr.apply(this,arguments)}function rr(){return(rr=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,u={idToken:o,returnSecureToken:!0},n&&(u.email=n),r&&(u.password=r),e.next=9,ve(t,rt(a,u));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ir=Object(o.a)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(a.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ar=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o){var u;return Object(a.a)(this,n),(u=t.call(this,e,r,i)).username=o,u}return Object(o.a)(n)}(ir),or=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"facebook.com",r)}return Object(o.a)(n)}(ir),ur=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Object(o.a)(n)}(ar),sr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"google.com",r)}return Object(o.a)(n)}(ir),cr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(a.a)(this,n),t.call(this,e,"twitter.com",r,i)}return Object(o.a)(n)}(ar);function lr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pe(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ir(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new or(a,i);case"github.com":return new ur(a,i);case"google.com":return new sr(a,i);case"twitter.com":return new cr(a,i,e.screenName||null);case"custom":case"anonymous":return new ir(a,null);default:return new ir(a,r,i)}}(n)}var fr=function(){function e(t,n,r){Object(a.a)(this,e),this.type=t,this.credential=n,this.auth=r}return Object(o.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(m.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),hr=function(){function e(t,n,r){Object(a.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(o.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Qe(t),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map((function(e){return kn._fromServerResponse(r,e)}));M(a.mfaPendingCredential,r,"internal-error");var u=fr._fromMfaPendingCredential(a.mfaPendingCredential);return new e(u,o,function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var o,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:o=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,s=Object.assign(Object.assign({},a),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gt._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return M(n.user,r,"internal-error"),e.abrupt("return",Gt._forOperation(n.user,n.operationType,s));case 17:N(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function dr(e,t){var n,r=Object(b.v)(e),i=t;return M(t.customData.operationType,r,"argument-error"),M(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),hr._fromError(r,i)}function pr(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:start",Q(e,t))}var vr=function(){function e(t){var n=this;Object(a.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return kn._fromServerResponse(t.auth,e)})))}))}return Object(o.a)(e,[{key:"getSession",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return a=e.sent,e.next=6,ve(this.user,r._process(this.user.auth,a,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return a=e.sent,e.next=6,ve(this.user,Y(i=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Q(i,{idToken:a,mfaEnrollmentId:r})));case 6:return o=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(o);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var i}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),mr=new WeakMap;function br(e){var t=Object(b.v)(e);return mr.has(t)||mr.set(t,vr._fromUser(t)),mr.get(t)}var gr="__sak",yr=function(){function e(t,n){Object(a.a)(this,e),this.storageRetriever=t,this.type=n}return Object(o.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gr,"1"),this.storage.removeItem(gr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Or=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(b.w)();return Me(e)||Be(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=He(),e._shouldAllowMigration=!0,e}return Object(o.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);We()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yr);Or.type="LOCAL";var kr=Or,wr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(o.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yr);wr.type="SESSION";var jr=wr;function _r(e){return Promise.all(e.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xr=function(){function e(t){Object(a.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(o.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,o=r.eventType,u=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(s).map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_r(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Er(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xr.receivers=[];var Cr=function(){function e(t){Object(a.a)(this,e),this.target=t,this.handlers=new Set}return Object(o.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s=this,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,i){var c=Er("",20);a.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),r);u={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},s.handlers.add(u),a.port1.addEventListener("message",u.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){u&&s.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Tr(){return window}function Sr(){return"undefined"!==typeof Tr().WorkerGlobalScope&&"function"===typeof Tr().importScripts}function Ir(){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Pr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ar="firebaseLocalStorageDb",Rr="firebaseLocalStorage",Dr="fbase_key",Mr=function(){function e(t){Object(a.a)(this,e),this.request=t}return Object(o.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Lr(e,t){return e.transaction([Rr],t?"readwrite":"readonly").objectStore(Rr)}function Fr(){var e=indexedDB.deleteDatabase(Ar);return new Mr(e).toPromise()}function Ur(){var e=indexedDB.open(Ar,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Rr,{keyPath:Dr})}catch(r){n(r)}})),e.addEventListener("success",Object(f.a)(Object(i.a)().mark((function n(){var r;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rr)){n.next=12;break}return r.close(),n.next=5,Fr();case 5:return n.t0=t,n.next=8,Ur();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Vr(e,t,n){return qr.apply(this,arguments)}function qr(){return(qr=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Lr(t,!0).put((a={},Object(m.a)(a,Dr,n),Object(m.a)(a,"value",r),a)),e.abrupt("return",new Mr(o).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Br(e,t){return zr.apply(this,arguments)}function zr(){return(zr=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr(t,!1).get(n),e.next=3,new Mr(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){var n=Lr(e,!0).delete(t);return new Mr(n).toPromise()}var Hr=function(){function e(){Object(a.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(o.a)(e,[{key:"_openDb",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ur();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xr._getInstance(Sr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(f.a)(Object(i.a)().mark((function e(n,r){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Cr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Pr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ur();case 5:return t=e.sent,e.next=8,Vr(t,gr,"1");case 8:return e.next=10,Wr(t,gr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Vr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Br(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Wr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r,a,o,u,s,c,l,f,h;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Lr(e,!1).getAll();return new Mr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=Object(d.a)(t);try{for(a.s();!(o=a.n()).done;)u=o.value,s=u.fbase_key,c=u.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(i){a.e(i)}finally{a.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(f.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hr.type="LOCAL";var Kr=Hr;function Gr(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:start",Q(e,t))}function $r(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=P("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Xr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Jr=1e12,Zr=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.counter=Jr,this._widgets=new Map}return Object(o.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ei(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Jr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Jr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Jr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;M(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(o.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ti=Xr("rcb"),ni=new W(3e4,6e4),ri="https://www.google.com/recaptcha/api.js?",ii=function(){function e(){var t;Object(a.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Tr().grecaptcha)||void 0===t?void 0:t.render)}return Object(o.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return M(ai(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Tr().grecaptcha):new Promise((function(r,i){var a=Tr().setTimeout((function(){i(P(e,"network-request-failed"))}),ni.get());Tr()[ti]=function(){Tr().clearTimeout(a),delete Tr()[ti];var o=Tr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(P(e,"internal-error"))},Yr("".concat(ri,"?").concat(Object(b.M)({onload:ti,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(P(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Tr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ai(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var oi=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"load",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Zr(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ui="recaptcha",si={theme:"light",type:"image"},ci=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},si),r=arguments.length>2?arguments[2]:void 0;Object(a.a)(this,e),this.parameters=n,this.type=ui,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qe(r),this.isInvisible="invisible"===this.parameters.size,M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;M(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oi:new ii,this.validateStartingState()}return Object(o.a)(e,[{key:"verify",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r,a=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){a.tokenChangeListeners.add((function t(n){n&&(a.tokenChangeListeners.delete(t),e(n))})),a.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){M(!this.parameters.sitekey,this.auth,"argument-error"),M(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Tr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){M(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(B()&&!Sr(),this.auth,"internal-error"),e.next=3,li();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,$r(this.auth);case 8:M(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return M(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function li(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var fi=function(){function e(t,n){Object(a.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(o.a)(e,[{key:"confirm",value:function(e){var t=At._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function hi(e,t,n){return di.apply(this,arguments)}function di(){return(di=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qe(t),e.next=3,gi(a,n,Object(b.v)(r));case 3:return o=e.sent,e.abrupt("return",new fi(o,(function(e){return fn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(e,t,n){return vi.apply(this,arguments)}function vi(){return(vi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),e.next=3,an(!1,a,"phone");case 3:return e.next=5,gi(a.auth,n,Object(b.v)(r));case 5:return o=e.sent,e.abrupt("return",new fi(o,(function(e){return dn(a,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.v)(t),e.next=3,gi(a.auth,n,Object(b.v)(r));case 3:return o=e.sent,e.abrupt("return",new fi(o,(function(e){return vn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,M("string"===typeof o,t,"argument-error"),M(r.type===ui,t,"argument-error"),!("session"in(u="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=u.session,!("phoneNumber"in u)){e.next=17;break}return M("enroll"===s.type,t,"internal-error"),e.next=13,pr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return M("signin"===s.type,t,"internal-error"),M(l=(null===(a=u.multiFactorHint)||void 0===a?void 0:a.uid)||u.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Gr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ct(t,{phoneNumber:u.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function Oi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(Object(b.v)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wi=function(){function e(t){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Qe(t)}return Object(o.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return gi(this.auth,e,Object(b.v)(t))}}],[{key:"credential",value:function(e,t){return At._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?At._fromTokenResponse(n,r):null}}]),e}();function ji(e,t){return t?V(t):(M(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wi.PROVIDER_ID="phone",wi.PHONE_SIGN_IN_METHOD="phone";var _i=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return _t(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _t(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _t(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(et);function xi(e){return cn(e.auth,new _i(e),e.bypassAuthState)}function Ei(e){var t=e.auth,n=e.user;return M(n,t,"internal-error"),un(n,new _i(e),e.bypassAuthState)}function Ci(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,M(r=t.user,n,"internal-error"),e.abrupt("return",nn(r,new _i(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Si=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(a.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(o.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,o=t.tenantId,u=t.error,s=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xi;case"linkViaPopup":case"linkViaRedirect":return Ci;case"reauthViaPopup":case"reauthViaRedirect":return Ei;default:N(this.auth,"internal-error")}}},{key:"resolve",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ii=new W(2e3,1e4);function Ni(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qe(t),R(t,n,Mt),o=ji(a,r),u=new Li(a,"signInViaPopup",n,o),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((a=Object(b.v)(t)).auth,n,Mt),o=ji(a.auth,r),u=new Li(a.auth,"reauthViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t,n){return Mi.apply(this,arguments)}function Mi(){return(Mi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((a=Object(b.v)(t)).auth,n,Mt),o=ji(a.auth,r),u=new Li(a.auth,"linkViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Li=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o,u){var s;return Object(a.a)(this,n),(s=t.call(this,e,r,o,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(h.a)(s),s}return Object(o.a)(n,[{key:"executeNotNull",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return M(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(1===this.filter.length,"Popup operations only handle one event"),t=Er(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(P(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(P(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(P(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ii.get())}()}}]),n}(Si);Li.currentPopupAction=null;var Fi=new Map,Ui=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(a.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return Object(o.a)(n,[{key:"execute",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(u.a)(Object(s.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Fi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Fi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(u.a)(Object(s.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(u.a)(Object(s.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Si);function Vi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki(n),a=Hi(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t)._set(Ki(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(e,t){Fi.set(e._key(),t)}function Hi(e){return V(e._redirectPersistence)}function Ki(e){return Pe("pendingRedirect",e.config.apiKey,e.name)}function Gi(e,t,n){return function(e,t,n){return $i.apply(this,arguments)}(e,t,n)}function $i(){return($i=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qe(t),R(t,n,Mt),o=ji(a,r),e.next=5,Bi(o,a);case 5:return e.abrupt("return",o._openRedirect(a,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((a=Object(b.v)(t)).auth,n,Mt),o=ji(a.auth,r),e.next=5,Bi(o,a.auth);case 5:return e.next=7,ra(a);case 7:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"reauthViaRedirect",u));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R((a=Object(b.v)(t)).auth,n,Mt),o=ji(a.auth,r),e.next=5,an(!1,a,n.providerId);case 5:return e.next=7,Bi(o,a.auth);case 7:return e.next=9,ra(a);case 9:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"linkViaRedirect",u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t)._initializationPromise;case 2:return e.abrupt("return",ta(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=Qe(t),o=ji(a,n),u=new Ui(a,o,r),e.next=6,u.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aa=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(o.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ua(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(P(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(oa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function oa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ua(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sa(e){return ca.apply(this,arguments)}function ca(){return ca=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Y(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}var la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;function ha(){return(ha=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sa(t);case 4:n=e.sent,r=n.authorizedDomains,a=Object(d.a)(r),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(u=o.value,e.prev=11,!da(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:N(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function da(e){var t=q(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!fa.test(r))return!1;if(la.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var pa=new W(3e4,6e4);function va(){var e=Tr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(v.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ma=null;function ba(e){return ma=ma||function(e){return new Promise((function(t,n){var r,i,a;function o(){va(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){va(),n(P(e,"network-request-failed"))},timeout:pa.get()})}if(null===(i=null===(r=Tr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Tr().gapi)||void 0===a?void 0:a.load)){var u=Xr("iframefcb");return Tr()[u]=function(){gapi.load?o():n(P(e,"network-request-failed"))},Yr("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ma=null,e}))}(e),ma}var ga=new W(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(e){var t=e.config;M(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?H(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:g.SDK_VERSION},i=Oa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(b.M)(r).slice(1))}function wa(e){return ja.apply(this,arguments)}function ja(){return ja=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:return n=e.sent,M(r=Tr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ka(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},(function(e){return new Promise(function(){var n=Object(f.a)(Object(i.a)().mark((function n(r,a){var o,u,s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Tr().clearTimeout(u),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=P(t,"network-request-failed"),u=Tr().setTimeout((function(){a(o)}),ga.get()),e.ping(s).then(s,(function(){a(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var _a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xa="_blank",Ea="http://localhost",Ca=function(){function e(t){Object(a.a)(this,e),this.window=t,this.associatedEvent=null}return Object(o.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ta(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},_a),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(b.w)().toLowerCase();n&&(u=Le(c)?xa:n),De(c)&&(t=t||Ea,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(p.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ze(c)&&"_self"!==u)return Sa(t||"",u),new Ca(null);var f=window.open(t||"",u,l);M(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ca(f)}function Sa(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ia="__/auth/handler",Na="emulator/auth/handler";function Pa(e,t,n,r,i,a){M(e.config.authDomain,e,"auth-domain-config-required"),M(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:g.SDK_VERSION,eventId:i};if(t instanceof Mt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(b.A)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(p.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Lt){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,v=0,m=Object.keys(d);v<m.length;v++){var y=m[v];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ia);return H(t,Na)}(e),"?").concat(Object(b.M)(d).slice(1))}var Aa="webStorageSupport",Ra=function(){function e(){Object(a.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=ta,this._overrideRedirectResult=Wi}return Object(o.a)(e,[{key:"_openPopup",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),u=Pa(t,n,r,q(),a),e.abrupt("return",Ta(t,u,Er()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=Pa(t,n,r,q(),a),Tr().location.href=i,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var i}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(F(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t);case 2:return n=e.sent,r=new aa(t),n.register("authEvent",(function(e){return M(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Aa,{type:Aa},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),N(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ha.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return He()||Me()||Be()}}]),e}(),Da=Ra,Ma=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(o.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:finalize",Q(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:finalize",Q(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(a.a)(this,e),this.factorId=t}return Object(o.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return L("unexpected MultiFactorSessionType")}}}]),e}()),La=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"assertion",value:function(e){return Ma._fromCredential(e)}}]),e}();La.FACTOR_ID="phone";var Fa,Ua="@firebase/auth",Va="0.20.7",qa=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(o.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ba(){return window}Fa="Browser",Object(g._registerComponent)(new w.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){M(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),M(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Fa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(Fa)},i=new $e(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(V);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(g._registerComponent)(new w.a("auth-internal",(function(e){return function(e){return new qa(e)}(Qe(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(g.registerVersion)(Ua,Va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fa)),Object(g.registerVersion)(Ua,Va,"esm2017");function za(e,t,n){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ba(),u=o.BuildInfo,F(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ya(n.sessionId);case 4:return s=e.sent,c={},Be()?c.ibi=u.packageName:Ue()?c.apn=u.packageName:N(t,"operation-not-supported-in-this-environment"),u.displayName&&(c.appDisplayName=u.displayName),c.sessionId=s,e.abrupt("return",Pa(t,r,n.type,void 0,null!==(a=n.eventId)&&void 0!==a?a:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(){return(Ha=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ba(),r=n.BuildInfo,a={},Be()?a.iosBundleId=r.packageName:Ue()?a.androidPackageName=r.packageName:N(t,"operation-not-supported-in-this-environment"),e.next=5,sa(t,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e){var t=Ba().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.w)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ga(e,t,n){return $a.apply(this,arguments)}function $a(){return($a=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ba(),o=a.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var a=null;function s(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){a||(a=window.setTimeout((function(){i(P(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ue()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Qa(e){var t,n,r,i,a,o,u,s,c,l,f=Ba();M("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),M("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),M("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ya(e){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ja(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e){if(F(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Za=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(o.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(u.a)(Object(s.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(aa);function eo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ao(),postBody:null,tenantId:e.tenantId,error:P(e,"no-auth-event")}}function to(e,t){return oo()._set(uo(e),t)}function no(e){return ro.apply(this,arguments)}function ro(){return(ro=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo()._get(uo(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,oo()._remove(uo(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){var n,r,i=function(e){var t=so(e),n=t.link?decodeURIComponent(t.link):void 0,r=so(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return so(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=so(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?P(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ao(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function oo(){return V(kr)}function uo(e){return Pe("authEvent",e.config.apiKey,e.name)}function so(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=e.split("?"),n=Object(r.a)(t),i=(n[0],n.slice(1));return Object(b.N)(i.join("?"))}var co=function(){function e(){Object(a.a)(this,e),this._redirectPersistence=jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ta,this._overrideRedirectResult=Wi}return Object(o.a)(e,[{key:"_initialize",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Za(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){N(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qa(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Fi.clear(),e.next=10,this._originValidation(t);case 10:return u=eo(t,r,a),e.next=13,to(t,u);case 13:return e.next=15,za(t,u,n);case 15:return s=e.sent,e.next=18,Ka(s);case 18:return c=e.sent,e.abrupt("return",Ga(t,o,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ha.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ba(),r=n.universalLinks,a=n.handleOpenURL,o=n.BuildInfo,u=setTimeout(Object(f.a)(Object(i.a)().mark((function n(){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,no(e);case 2:t.onEvent(fo());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Object(f.a)(Object(i.a)().mark((function n(r){var a,o;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,no(e);case 3:a=n.sent,o=null,a&&(null===r||void 0===r?void 0:r.url)&&(o=io(a,r.url)),t.onEvent(o||fo());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=a,l="".concat(o.packageName.toLowerCase(),"://");Ba().handleOpenURL=function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),lo=co;function fo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:P("no-auth-event")}}function ho(e,t){Qe(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return wf})),n.d(t,"b",(function(){return ml})),n.d(t,"c",(function(){return el})),n.d(t,"d",(function(){return zc})),n.d(t,"e",(function(){return Ql})),n.d(t,"f",(function(){return vl})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return gl})),n.d(t,"i",(function(){return Yl})),n.d(t,"j",(function(){return Xl})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return xf})),n.d(t,"m",(function(){return Qe})),n.d(t,"n",(function(){return ne})),n.d(t,"o",(function(){return te})),n.d(t,"p",(function(){return Fc})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return Ue})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return Rc})),n.d(t,"u",(function(){return Lf})),n.d(t,"v",(function(){return Gf})),n.d(t,"w",(function(){return Kf})),n.d(t,"x",(function(){return sl})),n.d(t,"y",(function(){return Kc})),n.d(t,"z",(function(){return Gc})),n.d(t,"A",(function(){return Bc})),n.d(t,"B",(function(){return Mf})),n.d(t,"C",(function(){return Wf})),n.d(t,"D",(function(){return fl})),n.d(t,"E",(function(){return $c})),n.d(t,"F",(function(){return al})),n.d(t,"G",(function(){return ol})),n.d(t,"H",(function(){return ll})),n.d(t,"I",(function(){return mf})),n.d(t,"J",(function(){return vf})),n.d(t,"K",(function(){return rl})),n.d(t,"L",(function(){return Vf})),n.d(t,"M",(function(){return Cf})),n.d(t,"N",(function(){return Sf})),n.d(t,"O",(function(){return If})),n.d(t,"P",(function(){return Nf})),n.d(t,"Q",(function(){return Pf})),n.d(t,"R",(function(){return Af})),n.d(t,"S",(function(){return nl})),n.d(t,"T",(function(){return $f})),n.d(t,"U",(function(){return cf})),n.d(t,"V",(function(){return lf})),n.d(t,"W",(function(){return hl})),n.d(t,"X",(function(){return dl})),n.d(t,"Y",(function(){return Ff})),n.d(t,"Z",(function(){return Uf})),n.d(t,"ab",(function(){return uf})),n.d(t,"bb",(function(){return nf})),n.d(t,"cb",(function(){return Yc})),n.d(t,"db",(function(){return Qc})),n.d(t,"eb",(function(){return zf})),n.d(t,"fb",(function(){return Hf})),n.d(t,"gb",(function(){return Rf})),n.d(t,"hb",(function(){return x})),n.d(t,"ib",(function(){return Zl})),n.d(t,"jb",(function(){return df})),n.d(t,"kb",(function(){return hf})),n.d(t,"lb",(function(){return Df})),n.d(t,"mb",(function(){return cl})),n.d(t,"nb",(function(){return af}));var r=n(83),i=n(36),a=n(32),o=n(9),u=n(10),s=n(1),c=n(6),l=n(12),f=n(13),h=n(15),d=n(3),p=n(4),v=n(16),m=n(20),b=n(24),g=n(2),y=n(45),O="@firebase/firestore",k=function(){function e(t){Object(d.a)(this,e),this.uid=t}return Object(p.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");var w="9.10.0",j=new b.b("@firebase/firestore");function _(){return j.logLevel}function x(e){j.setLogLevel(e)}function E(e){if(j.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(S);j.debug.apply(j,["Firestore (".concat(w,"): ").concat(e)].concat(Object(h.a)(i)))}}function C(e){if(j.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(S);j.error.apply(j,["Firestore (".concat(w,"): ").concat(e)].concat(Object(h.a)(i)))}}function T(e){if(j.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(S);j.warn.apply(j,["Firestore (".concat(w,"): ").concat(e)].concat(Object(h.a)(i)))}}function S(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(w,") INTERNAL ASSERTION FAILED: ")+e;throw C(t),new Error(t)}function N(e,t){e||I()}function P(e,t){e||I()}function A(e,t){return e}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Object(p.a)(n)}(g.c),M=Object(p.a)((function e(){var t=this;Object(d.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),L=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),F=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(k.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),U=function(){function e(t){Object(d.a)(this,e),this.token=t,this.changeListener=null}return Object(p.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),V=function(){function e(t){Object(d.a)(this,e),this.t=t,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(p.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){E("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(N("string"==typeof n.accessToken),new L(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e),new k(e)}}]),e}(),q=function(){function e(t,n,r,i){Object(d.a)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=k.FIRST_PARTY,this.p=new Map}return Object(p.a)(e,[{key:"I",value:function(){return this.g?this.g():(N(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),B=function(){function e(t,n,r,i){Object(d.a)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Object(p.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new q(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(k.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),z=Object(p.a)((function e(t){Object(d.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),W=function(){function e(t){Object(d.a)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Object(p.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&E("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,E("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){E("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(N("string"==typeof t.token),e.A=t.token,new z(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var K=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function G(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Q(e){return e+"\0"}var Y=function(){function e(t,n){if(Object(d.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(p.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(d.a)(this,e),this.timestamp=t}return Object(p.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Y(0,0))}},{key:"max",value:function(){return new e(new Y(253402300799,999999999))}}]),e}(),J=function(){function e(t,n,r){Object(d.a)(this,e),void 0===n?n=0:n>t.length&&I(),void 0===r?r=t.length-n:r>t.length-n&&I(),this.segments=t,this.offset=n,this.len=r}return Object(p.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Z=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new D(R.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(h.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(J),ee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,te=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ee.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new D(R.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new D(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new D(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new D(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(J),ne=function(){function e(t){Object(d.a)(this,e),this.path=t}return Object(p.a)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Z.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Z.fromString(t))}},{key:"fromName",value:function(t){return new e(Z.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Z.emptyPath())}},{key:"comparator",value:function(e,t){return Z.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Z(t.slice()))}}]),e}(),re=Object(p.a)((function e(t,n,r,i){Object(d.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ie(e){return e.fields.find((function(e){return 2===e.kind}))}function ae(e){return e.fields.filter((function(e){return 2!==e.kind}))}re.UNKNOWN_ID=-1;var oe=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.fieldPath=t,this.kind=n}));var ue=function(){function e(t,n){Object(d.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(p.a)(e,null,[{key:"empty",value:function(){return new e(0,le.min())}}]),e}();function se(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new Y(n+1,0):new Y(n,r));return new le(i,ne.empty(),t)}function ce(e){return new le(e.readTime,e.key,-1)}var le=function(){function e(t,n,r){Object(d.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(p.a)(e,null,[{key:"min",value:function(){return new e(X.min(),ne.empty(),-1)}},{key:"max",value:function(){return new e(X.max(),ne.empty(),-1)}}]),e}();function fe(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ne.comparator(e.documentKey,t.documentKey))?n:G(e.largestBatchId,t.largestBatchId)}var he="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",de=function(){function e(){Object(d.a)(this,e),this.onCommittedListeners=[]}return Object(p.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function pe(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===R.FAILED_PRECONDITION&&t.message===he){e.next=2;break}throw t;case 2:E("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(){function e(t){var n=this;Object(d.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(p.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&I(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(u.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),be=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new M,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Oe(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=xe(e.target.error);r.P.reject(new Oe(t,n))}}return Object(p.a)(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new we(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Oe(n,t)}}}]),e}(),ge=function(){function t(e,n,r){Object(d.a)(this,t),this.name=e,this.version=n,this.S=r,12.2===t.D(Object(g.w)())&&C("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(p.a)(t,[{key:"F",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return E("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Oe(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new D(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new D(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Oe(t,n))},i.onupgradeneeded=function(e){E("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){E("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o,u,c,l,f=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Object(s.a)().mark((function e(){var n,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.F(t);case 2:return f.db=e.sent,n=be.open(f.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),me.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),c=e.t1,l="FirebaseError"!==c.name&&o<3,E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(c));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return E("SimpleDb","Removing database:",e),je(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Object(g.C)())return!1;if(t.N())return!0;var e=Object(g.w)(),n=t.D(e),r=0<n&&n<10,i=t.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),ye=function(){function e(t){Object(d.a)(this,e),this.U=t,this.q=!1,this.K=null}return Object(p.a)(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return je(this.U.delete())}}]),e}(),Oe=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,R.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Object(p.a)(n)}(D);function ke(e){return"IndexedDbTransactionError"===e.name}var we=function(){function e(t){Object(d.a)(this,e),this.store=t}return Object(p.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(E("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),je(n)}},{key:"add",value:function(e){return E("SimpleDb","ADD",this.store.name,e,e),je(this.store.add(e))}},{key:"get",value:function(e){var t=this;return je(this.store.get(e)).next((function(n){return void 0===n&&(n=null),E("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return E("SimpleDb","DELETE",this.store.name,e),je(this.store.delete(e))}},{key:"count",value:function(){return E("SimpleDb","COUNT",this.store.name),je(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new me((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new me((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){E("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new me((function(n,r){t.onerror=function(e){var t=xe(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new me((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ye(i),o=t(i.primaryKey,i.value,a);if(o instanceof me){var u=o.catch((function(e){return a.done(),me.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return me.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function je(e){return new me((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xe(e.target.error);n(t)}}))}var _e=!1;function xe(e){var t=ge.D(Object(g.w)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _e||(_e=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ee=function(){function e(t,n){Object(d.a)(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Object(p.a)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;E("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=E,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ke(e.t4)){e.next=17;break}E("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,pe(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ce=function(){function e(t,n){Object(d.a)(this,e),this.localStore=t,this.persistence=n}return Object(p.a)(e,[{key:"st",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n=this,r=arguments;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return me.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return E("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return E("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ce(t);fe(r,n)>0&&(n=r)})),new le(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Te=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Object(p.a)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Se(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ie(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ne(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Te.at=-1;var Pe=function(){function e(t,n){Object(d.a)(this,e),this.comparator=t,this.root=n||Re.EMPTY}return Object(p.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Re.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Re.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ae(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ae(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ae(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ae(this.root,e,this.comparator,!0)}}]),e}(),Ae=function(){function e(t,n,r,i){Object(d.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(p.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Re=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(p.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw I();if(this.right.isRed())throw I();var e=this.left.check();if(e!==this.right.check())throw I();return e+(this.isRed()?0:1)}}]),e}();Re.EMPTY=null,Re.RED=!0,Re.BLACK=!1,Re.EMPTY=new(function(){function e(){Object(d.a)(this,e),this.size=0}return Object(p.a)(e,[{key:"key",get:function(){throw I()}},{key:"value",get:function(){throw I()}},{key:"color",get:function(){throw I()}},{key:"left",get:function(){throw I()}},{key:"right",get:function(){throw I()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Re(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var De=function(){function e(t){Object(d.a)(this,e),this.comparator=t,this.data=new Pe(this.comparator)}return Object(p.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Me(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Me(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Me=function(){function e(t){Object(d.a)(this,e),this.iter=t}return Object(p.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Le(e){return e.hasNext()?e.getNext():void 0}var Fe=function(){function e(t){Object(d.a)(this,e),this.fields=t,t.sort(te.comparator)}return Object(p.a)(e,[{key:"unionWith",value:function(t){var n,r=new De(te.comparator),i=Object(u.a)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Object(u.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r=r.add(c)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Object(u.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();function Ue(){return"undefined"!=typeof atob}var Ve=function(e){function t(e){Object(d.a)(this,t),this.binaryString=e}return Object(p.a)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return G(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Ve.EMPTY_BYTE_STRING=new Ve("");var qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Be(e){if(N(!!e),"string"==typeof e){var t=0,n=qe.exec(e);if(N(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ze(e.seconds),nanos:ze(e.nanos)}}function ze(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function We(e){return"string"==typeof e?Ve.fromBase64String(e):Ve.fromUint8Array(e)}function He(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ke(e){var t=e.mapValue.fields.__previous_value__;return He(t)?Ke(t):t}function Ge(e){var t=Be(e.mapValue.fields.__local_write_time__.timestampValue);return new Y(t.seconds,t.nanos)}var $e=Object(p.a)((function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Qe=function(){function e(t,n){Object(d.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(p.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ye(e){return null==e}function Xe(e){return 0===e&&1/e==-1/0}function Je(e){return"number"==typeof e&&Number.isInteger(e)&&!Xe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ze={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},et={nullValue:"NULL_VALUE"};function tt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?He(e)?4:vt(e)?9007199254740991:10:I()}function nt(e,t){if(e===t)return!0;var n=tt(e);if(n!==tt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ge(e).isEqual(Ge(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Be(e.timestampValue),r=Be(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return We(e.bytesValue).isEqual(We(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ze(e.geoPointValue.latitude)===ze(t.geoPointValue.latitude)&&ze(e.geoPointValue.longitude)===ze(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ze(e.integerValue)===ze(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ze(e.doubleValue),r=ze(t.doubleValue);return n===r?Xe(n)===Xe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],nt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Se(n)!==Se(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nt(n[i],r[i])))return!1;return!0}(e,t);default:return I()}}function rt(e,t){return void 0!==(e.values||[]).find((function(e){return nt(e,t)}))}function it(e,t){if(e===t)return 0;var n=tt(e),r=tt(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ze(e.integerValue||e.doubleValue),r=ze(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return at(e.timestampValue,t.timestampValue);case 4:return at(Ge(e),Ge(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(e,t){var n=We(e),r=We(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=G(n[i],r[i]);if(0!==a)return a}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=G(ze(e.latitude),ze(t.latitude));return 0!==n?n:G(ze(e.longitude),ze(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=it(n[i],r[i]);if(a)return a}return G(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ze.mapValue&&t===Ze.mapValue)return 0;if(e===Ze.mapValue)return 1;if(t===Ze.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=G(r[o],a[o]);if(0!==u)return u;var s=it(n[r[o]],i[a[o]]);if(0!==s)return s}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw I()}}function at(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return G(e,t);var n=Be(e),r=Be(t),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function ot(e){return ut(e)}function ut(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Be(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?We(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(u.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ut(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(ut(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):I();var t,n}function st(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ct(e){return!!e&&"integerValue"in e}function lt(e){return!!e&&"arrayValue"in e}function ft(e){return!!e&&"nullValue"in e}function ht(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dt(e){return!!e&&"mapValue"in e}function pt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ie(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=pt(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mt(e){return"nullValue"in e?et:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?st(Qe.empty(),ne.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:I()}function bt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?st(Qe.empty(),ne.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ze:I()}function gt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ot=function(){function e(t){Object(d.a)(this,e),this.value=t}return Object(p.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!dt(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pt(t)}},{key:"setAll",value:function(e){var t=this,n=te.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=pt(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());dt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];dt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ie(t,(function(t,n){return e[t]=n}));var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(pt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function kt(e){var t=[];return Ie(e.fields,(function(e,n){var r=new te([e]);if(dt(n)){var i=kt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(u.a)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new Fe(t)}var wt=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(p.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=X.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),X.min(),Ot.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,X.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,X.min(),Ot.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,X.min(),Ot.empty(),2)}}]),e}(),jt=Object(p.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(d.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jt(e,t,n,r,i,a,o)}function xt(e){var t=A(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ot(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ye(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ot(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ot(e)})).join(",")),t.ht=n}return t.ht}function Et(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nt(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wt(e.startAt,t.startAt)&&Wt(e.endAt,t.endAt)}function Ct(e){return ne.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tt(e,t){return e.filters.filter((function(e){return e instanceof Nt&&e.field.isEqual(t)}))}function St(e,t,n){var r,i=et,a=!0,o=Object(u.a)(Tt(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=et,l=!0;switch(s.op){case"<":case"<=":c=mt(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,l=!1;break;case"!=":case"not-in":c=et}gt({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];gt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function It(e,t,n){var r,i=Ze,a=!0,o=Object(u.a)(Tt(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,c=Ze,l=!0;switch(s.op){case">=":case">":c=bt(s.value),l=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,l=!1;break;case"!=":case"not-in":c=Ze}yt({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];yt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var Nt=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(p.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(it(t,this.value)):null!==t&&tt(this.value)===tt(t)&&this.ft(it(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return I()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Pt(e,t,r):"array-contains"===t?new Mt(e,r):"in"===t?new Lt(e,r):"not-in"===t?new Ft(e,r):"array-contains-any"===t?new Ut(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new At(e,n):new Rt(e,n)}}]),n}(function(){return Object(p.a)((function e(){Object(d.a)(this,e)}))}()),Pt=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this,e,r,i)).key=ne.fromName(i.referenceValue),a}return Object(p.a)(n,[{key:"matches",value:function(e){var t=ne.comparator(e.key,this.key);return this.ft(t)}}]),n}(Nt),At=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e,"in",r)).keys=Dt("in",r),i}return Object(p.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nt),Rt=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=Dt("not-in",r),i}return Object(p.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nt);function Dt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ne.fromName(e.referenceValue)}))}var Mt=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){return Object(d.a)(this,n),t.call(this,e,"array-contains",r)}return Object(p.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return lt(t)&&rt(t.arrayValue,this.value)}}]),n}(Nt),Lt=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){return Object(d.a)(this,n),t.call(this,e,"in",r)}return Object(p.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rt(this.value.arrayValue,t)}}]),n}(Nt),Ft=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){return Object(d.a)(this,n),t.call(this,e,"not-in",r)}return Object(p.a)(n,[{key:"matches",value:function(e){if(rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rt(this.value.arrayValue,t)}}]),n}(Nt),Ut=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){return Object(d.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(p.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!lt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rt(t.value.arrayValue,e)}))}}]),n}(Nt),Vt=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.position=t,this.inclusive=n})),qt=Object(p.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(d.a)(this,e),this.field=t,this.dir=n}));function Bt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ne.comparator(ne.fromName(o.referenceValue),n.key):it(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nt(e.position[n],t.position[n]))return!1;return!0}var Ht=Object(p.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(d.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Kt(e,t,n,r,i,a,o,u){return new Ht(e,t,n,r,i,a,o,u)}function Gt(e){return new Ht(e)}function $t(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yt(e){var t,n=Object(u.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Xt(e){return null!==e.collectionGroup}function Jt(e){var t=A(e);if(null===t._t){t._t=[];var n=Yt(t),r=Qt(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new qt(n)),t._t.push(new qt(te.keyField(),"asc"));else{var i,a=!1,o=Object(u.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new qt(te.keyField(),c))}}}return t._t}function Zt(e){var t=A(e);if(!t.wt)if("F"===t.limitType)t.wt=_t(t.path,t.collectionGroup,Jt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(u.a)(Jt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new qt(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Vt(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new Vt(t.startAt.position,t.startAt.inclusive):null;t.wt=_t(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.wt}function en(e,t,n){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tn(e,t){return Et(Zt(e),Zt(t))&&e.limitType===t.limitType}function nn(e){return"".concat(xt(Zt(e)),"|lt:").concat(e.limitType)}function rn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ot(t.value));var t})).join(", "),"]")),Ye(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ot(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ot(e)})).join(",")),"Target(".concat(t,")")}(Zt(e)),"; limitType=").concat(e.limitType,")")}function an(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ne.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(u.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jt(e),t))&&!(e.endAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jt(e),t))}(e,t)}function on(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function un(e){return function(t,n){var r,i=!1,a=Object(u.a)(Jt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=sn(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function sn(e,t,n){var r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?it(r,i):I()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return I()}}function cn(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(t)?"-0":t}}function ln(e){return{integerValue:""+e}}function fn(e,t){return Je(t)?ln(t):cn(e,t)}var hn=Object(p.a)((function e(){Object(d.a)(this,e),this._=void 0}));function dn(e,t,n){return e instanceof mn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bn?gn(e,t):e instanceof yn?On(e,t):function(e,t){var n=vn(e,t),r=wn(n)+wn(e.yt);return ct(n)&&ct(e.yt)?ln(r):cn(e.It,r)}(e,t)}function pn(e,t,n){return e instanceof bn?gn(e,t):e instanceof yn?On(e,t):n}function vn(e,t){return e instanceof kn?ct(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var mn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n)}(hn),bn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).elements=e,r}return Object(p.a)(n)}(hn);function gn(e,t){var n,r=jn(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return nt(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).elements=e,r}return Object(p.a)(n)}(hn);function On(e,t){var n,r=jn(t),i=Object(u.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!nt(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Object(p.a)(n)}(hn);function wn(e){return ze(e.integerValue||e.doubleValue)}function jn(e){return lt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _n=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.field=t,this.transform=n}));var xn=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.version=t,this.transformResults=n})),En=function(){function e(t,n){Object(d.a)(this,e),this.updateTime=t,this.exists=n}return Object(p.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Cn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tn=Object(p.a)((function e(){Object(d.a)(this,e)}));function Sn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qn(e.key,En.none()):new Rn(e.key,e.data,En.none());var n,r=e.data,i=Ot.empty(),a=new De(te.comparator),o=Object(u.a)(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var c=r.field(s);null===c&&s.length>1&&(s=s.popLast(),c=r.field(s)),null===c?i.delete(s):i.set(s,c),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Dn(e.key,i,new Fe(a.toArray()),En.none())}function In(e,t,n){e instanceof Rn?function(e,t,n){var r=e.value.clone(),i=Ln(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dn?function(e,t,n){if(Cn(e.precondition,t)){var r=Ln(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nn(e,t,n,r){return e instanceof Rn?function(e,t,n,r){if(!Cn(e.precondition,t))return n;var i=e.value.clone(),a=Fn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dn?function(e,t,n,r){if(!Cn(e.precondition,t))return n;var i=Fn(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mn(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Cn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pn(e,t){var n,r=null,i=Object(u.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=vn(a.transform,o||null);null!=s&&(null===r&&(r=Ot.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function An(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bn&&t instanceof bn||e instanceof yn&&t instanceof yn?$(e.elements,t.elements,nt):e instanceof kn&&t instanceof kn?nt(e.yt,t.yt):e instanceof mn&&t instanceof mn}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(d.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Object(p.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),Dn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(d.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Object(p.a)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Tn);function Mn(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ln(e,t,n){var r=new Map;N(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pn(o,u,n[i]))}return r}function Fn(e,t,n){var r,i=new Map,a=Object(u.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,dn(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Un,Vn,qn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Object(p.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),Bn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Object(p.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tn),zn=Object(p.a)((function e(t){Object(d.a)(this,e),this.count=t}));function Wn(e){switch(e){default:return I();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Hn(e){if(void 0===e)return C("GRPC error has no .code"),R.UNKNOWN;switch(e){case Un.OK:return R.OK;case Un.CANCELLED:return R.CANCELLED;case Un.UNKNOWN:return R.UNKNOWN;case Un.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Un.INTERNAL:return R.INTERNAL;case Un.UNAVAILABLE:return R.UNAVAILABLE;case Un.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Un.NOT_FOUND:return R.NOT_FOUND;case Un.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Un.ABORTED:return R.ABORTED;case Un.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Un.DATA_LOSS:return R.DATA_LOSS;default:return I()}}(Vn=Un||(Un={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";var Kn=function(){function e(t,n){Object(d.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(p.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];if(this.equalsFn(s,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ie(this.inner,(function(t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),s=a[0],c=a[1];e(s,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ne(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gn=new Pe(ne.comparator);function $n(){return Gn}var Qn=new Pe(ne.comparator);function Yn(){for(var e=Qn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Xn(e){var t=Qn;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Jn(){return er()}function Zn(){return er()}function er(){return new Kn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tr=new Pe(ne.comparator),nr=new De(ne.comparator);function rr(){for(var e=nr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ir=new De(G);function ar(){return ir}var or=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(p.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ur.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,ar(),$n(),rr())}}]),e}(),ur=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(p.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ve.EMPTY_BYTE_STRING,n,rr(),rr(),rr())}}]),e}(),sr=Object(p.a)((function e(t,n,r,i){Object(d.a)(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),cr=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.targetId=t,this.At=n})),lr=Object(p.a)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ve.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fr=function(){function e(){Object(d.a)(this,e),this.Rt=0,this.bt=pr(),this.Pt=Ve.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Object(p.a)(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=rr(),t=rr(),n=rr();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:I()}})),new ur(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=pr()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),hr=function(){function e(t){Object(d.a)(this,e),this.Bt=t,this.Lt=new Map,this.Ut=$n(),this.qt=dr(),this.Kt=new De(G)}return Object(p.a)(e,[{key:"Gt",value:function(e){var t,n=Object(u.a)(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=Object(u.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:I()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Ct(i))if(0===n){var a=new ne(i.path);this.jt(t,a,wt.newNoDocument(a,X.min()))}else N(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Ct(a.target)){var o=new ne(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,wt.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=rr();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new or(e,n,this.Kt,this.Ut,r);return this.Ut=$n(),this.qt=dr(),this.Kt=new De(G),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new fr,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new De(G),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||E("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new fr),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function dr(){return new Pe(ne.comparator)}function pr(){return new Pe(ne.comparator)}var vr={asc:"ASCENDING",desc:"DESCENDING"},mr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},br=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.databaseId=t,this.gt=n}));function gr(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yr(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Or(e,t){return gr(e,t.toTimestamp())}function kr(e){return N(!!e),X.fromTimestamp(function(e){var t=Be(e);return new Y(t.seconds,t.nanos)}(e))}function wr(e,t){return function(e){return new Z(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jr(e){var t=Z.fromString(e);return N(Kr(t)),t}function _r(e,t){return wr(e.databaseId,t.path)}function xr(e,t){var n=jr(t);if(n.get(1)!==e.databaseId.projectId)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(Sr(n))}function Er(e,t){return wr(e.databaseId,t)}function Cr(e){var t=jr(e);return 4===t.length?Z.emptyPath():Sr(t)}function Tr(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sr(e){return N(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ir(e,t,n){return{name:_r(e,t),fields:n.value.mapValue.fields}}function Nr(e,t,n){var r=xr(e,t.name),i=kr(t.updateTime),a=new Ot({mapValue:{fields:t.fields}}),o=wt.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pr(e,t){return"found"in t?function(e,t){N(!!t.found),t.found.name,t.found.updateTime;var n=xr(e,t.found.name),r=kr(t.found.updateTime),i=new Ot({mapValue:{fields:t.found.fields}});return wt.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){N(!!t.missing),N(!!t.readTime);var n=xr(e,t.missing),r=kr(t.readTime);return wt.newNoDocument(n,r)}(e,t):I()}function Ar(e,t){var n;if(t instanceof Rn)n={update:Ir(e,t.key,t.value)};else if(t instanceof qn)n={delete:_r(e,t.key)};else if(t instanceof Dn)n={update:Ir(e,t.key,t.data),updateMask:Hr(t.fieldMask)};else{if(!(t instanceof Bn))return I();n={verify:_r(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof mn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kn)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw I()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Or(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:I()}(e,t.precondition)),n}function Rr(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?En.updateTime(kr(e.updateTime)):void 0!==e.exists?En.exists(e.exists):En.none()}(t.currentDocument):En.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)N("REQUEST_TIME"===t.setToServerValue),n=new mn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new bn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yn(i)}else"increment"in t?n=new kn(e,t.increment):I();var a=te.fromServerFormat(t.fieldPath);return new _n(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xr(e,t.update.name),a=new Ot({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Fe(t.map((function(e){return te.fromServerFormat(e)})))}(t.updateMask);return new Dn(i,a,o,n,r)}return new Rn(i,a,n,r)}if(t.delete){var u=xr(e,t.delete);return new qn(u,n)}if(t.verify){var s=xr(e,t.verify);return new Bn(s,n)}return I()}function Dr(e,t){return{documents:[Er(e,t.path)]}}function Mr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Er(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Er(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ht(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if(ft(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ht(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if(ft(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:Vr(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qr(e.field),direction:Ur(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Ye(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lr(e){var t=Cr(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){N(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Fr(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new qt(Br(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ye(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Vt(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Vt(n,t)}(n.endAt)),Kt(t,i,u,o,s,"F",c,l)}function Fr(e){return e?void 0!==e.unaryFilter?[Wr(e)]:void 0!==e.fieldFilter?[zr(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Fr(e)})).reduce((function(e,t){return e.concat(t)})):I():[]}function Ur(e){return vr[e]}function Vr(e){return mr[e]}function qr(e){return{fieldPath:e.canonicalString()}}function Br(e){return te.fromServerFormat(e.fieldPath)}function zr(e){return Nt.create(Br(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return I()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wr(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Br(e.unaryFilter.field);return Nt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Br(e.unaryFilter.field);return Nt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Br(e.unaryFilter.field);return Nt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Br(e.unaryFilter.field);return Nt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return I()}}function Hr(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Kr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qr(t)),t=$r(e.get(n),t);return Qr(t)}function $r(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Qr(e){return e+"\x01\x01"}function Yr(e){var t=e.length;if(N(t>=2),2===t)return N("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Z.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&I(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:I()}a=o+2}return new Z(r)}var Xr=["userId","batchId"];function Jr(e,t){return[e,Gr(t)]}function Zr(e,t,n){return[e,Gr(t),n]}var ei={},ti=["prefixPath","collectionGroup","readTime","documentId"],ni=["prefixPath","collectionGroup","documentId"],ri=["collectionGroup","readTime","prefixPath","documentId"],ii=["canonicalId","targetId"],ai=["targetId","path"],oi=["path","targetId"],ui=["collectionId","parent"],si=["indexId","uid"],ci=["uid","sequenceNumber"],li=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fi=["indexId","uid","orderedDocumentKey"],hi=["userId","collectionPath","documentId"],di=["userId","collectionPath","largestBatchId"],pi=["userId","collectionGroup","largestBatchId"],vi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),mi=[].concat(Object(h.a)(vi),["documentOverlays"]),bi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gi=bi,yi=[].concat(gi,["indexConfiguration","indexState","indexEntries"]),Oi=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Object(p.a)(n)}(de);function ki(e,t){var n=A(e);return ge.O(n.ie,t)}var wi=function(){function e(t,n,r,i){Object(d.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(p.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&In(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Object(u.a)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Nn(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=Object(u.a)(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Nn(s,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zn();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Sn(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(X.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,(function(e,t){return An(e,t)}))&&$(this.baseMutations,e.baseMutations,(function(e,t){return An(e,t)}))}}]),e}(),ji=function(){function e(t,n,r,i){Object(d.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(p.a)(e,null,[{key:"from",value:function(t,n,r){N(t.mutations.length===r.length);for(var i=tr,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_i=function(){function e(t,n){Object(d.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(p.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ve.EMPTY_BYTE_STRING;Object(d.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(p.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ei=Object(p.a)((function e(t){Object(d.a)(this,e),this.re=t}));function Ci(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ti(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_r(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gr(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Si(t.version)};else{if(!t.isUnknownDocument())return I();r.unknownDocument={path:n.path.toArray(),version:Si(t.version)}}return r}function Ti(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Si(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ii(e){var t=new Y(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function Ni(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Rr(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Rr(e.re,t)})),u=Y.fromMillis(t.localWriteTimeMs);return new wi(t.batchId,u,n,o)}function Pi(e){var t,n,r=Ii(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ii(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(N(1===(n=e.query).documents.length),t=Zt(Gt(Cr(n.documents[0])))):t=function(e){return Zt(Lr(e))}(e.query),new xi(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ve.fromBase64String(e.resumeToken))}function Ai(e,t){var n,r=Si(t.snapshotVersion),i=Si(t.lastLimboFreeSnapshotVersion);n=Ct(t.target)?Dr(e.re,t.target):Mr(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xt(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ri(e){var t=Lr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?en(t,t.limit,"L"):t}function Di(e,t){return new _i(t.largestBatchId,Rr(e.re,t.overlayMutation))}function Mi(e,t){var n=t.path.lastSegment();return[e,Gr(t.path.popLast()),n]}function Li(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Si(r.readTime),documentKey:Gr(r.documentKey.path),largestBatchId:r.largestBatchId}}var Fi=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Ui(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ii(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ui(e).put({bundleId:(n=t).id,createTime:Si(kr(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vi(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ri(t.bundledQuery),readTime:Ii(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vi(e).put(function(e){return{name:e.name,readTime:Si(kr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ui(e){return ki(e,"bundles")}function Vi(e){return ki(e,"namedQueries")}var qi=function(){function e(t,n){Object(d.a)(this,e),this.It=t,this.userId=n}return Object(p.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bi(e).get(Mi(this.userId,t)).next((function(e){return e?Di(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jn();return me.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _i(t,a);i.push(r.ue(e,o))})),me.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gr(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bi(e).Y("collectionPathOverlayIndex",i))})),me.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jn(),a=Gr(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bi(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Di(r.It,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jn(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bi(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Di(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Bi(e).put(function(e,t,n){var r=Mi(t,n.mutation.key),i=Object(o.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ar(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bi(e){return ki(e,"documentOverlays")}var zi=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ze(e.integerValue));else if("doubleValue"in e){var n=ze(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Xe(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(We(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?vt(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):I()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ne.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Wi(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Hi(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Wi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zi.Te=new zi;var Ki=function(){function e(){Object(d.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(p.a)(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Hi(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Hi(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gi=function(){function e(t){Object(d.a)(this,e),this.Be=t}return Object(p.a)(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),$i=function(){function e(t){Object(d.a)(this,e),this.Be=t}return Object(p.a)(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),Qi=function(){function e(){Object(d.a)(this,e),this.Be=new Ki,this.Le=new Gi(this.Be),this.Ue=new $i(this.Be)}return Object(p.a)(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Yi=function(){function e(t,n,r,i){Object(d.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(p.a)(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Xi(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ji(e.arrayValue,t.arrayValue))?n:0!==(n=Ji(e.directionalValue,t.directionalValue))?n:ne.comparator(e.documentKey,t.documentKey)}function Ji(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Zi=function(){function e(t){Object(d.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Object(u.a)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(p.a)(e,[{key:"We",value:function(e){var t=ie(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=ae(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Object(u.a)(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ea=function(){function e(){Object(d.a)(this,e),this.Ye=new ta}return Object(p.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),me.resolve()}},{key:"getCollectionParents",value:function(e,t){return me.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return me.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return me.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return me.resolve(null)}},{key:"getIndexType",value:function(e,t){return me.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return me.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return me.resolve(null)}},{key:"getMinOffset",value:function(e,t){return me.resolve(le.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return me.resolve(le.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return me.resolve()}},{key:"updateIndexEntries",value:function(e,t){return me.resolve()}}]),e}(),ta=function(){function e(){Object(d.a)(this,e),this.index={}}return Object(p.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new De(Z.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new De(Z.comparator)).toArray()}}]),e}(),na=new Uint8Array(0),ra=function(){function e(t,n){Object(d.a)(this,e),this.user=t,this.databaseId=n,this.Xe=new ta,this.Ze=new Kn((function(e){return xt(e)}),(function(e,t){return Et(e,t)})),this.uid=t.uid||""}return Object(p.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Gr(i)};return ia(e).put(a)}return me.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Q(t),""],!1,!0);return ia(e).W(r).next((function(e){var r,i=Object(u.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Yr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=oa(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ua(e);return a.next((function(e){o.put(Li(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=oa(e),r=ua(e),i=aa(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=aa(e),i=!0,a=new Map;return me.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rr(),o=[];return me.forEach(a,(function(i,a){var s;E("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xt(t)));var c=function(e,t){var n=ie(t);if(void 0===n)return null;var r,i=Object(u.a)(Tt(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=Object(u.a)(ae(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Object(u.a)(Tt(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=Object(u.a)(ae(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?St(e,o.fieldPath,e.startAt):It(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new Vt(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=Object(u.a)(ae(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?It(e,o.fieldPath,e.endAt):St(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new Vt(r,i)}(a,i),d=n.nn(i,a,f),p=n.nn(i,a,h),v=n.sn(i,a,l),m=n.rn(i.indexId,c,d,f.inclusive,p,h.inclusive,v);return me.forEach(m,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ne.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return me.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):na,d=u.un(e,f,n[s%c],r),p=u.cn(e,f,i[s%c],a),v=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Object(h.a)(u.createRange(d,p,v)))},d=0;d<s;++d)f(d);return l}},{key:"un",value:function(e,t,n,r){var i=new Yi(e,ne.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Yi(e,ne.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Zi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return me.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new De(te.comparator),r=!1,i=Object(u.a)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(l){i.e(l)}finally{i.f()}var o,s=Object(u.a)(e.orderBy);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.field.isKeyField()||(n=n.add(c.field))}}catch(l){s.e(l)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Qi,i=Object(u.a)(ae(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);zi.Te.ce(o,s)}}catch(c){i.e(c)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Qi;return zi.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Qi;return zi.Te.ce(st(this.databaseId,t),n.qe(function(e){var t=ae(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qi);var i,a=0,o=Object(u.a)(ae(e));try{for(o.s();!(i=o.n()).done;){var s,c=i.value,l=n[a++],f=Object(u.a)(r);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(this.ln(t,c.fieldPath)&&lt(l))r=this.fn(r,c,l);else{var d=h.qe(c.kind);zi.Te.ce(l,d)}}}catch(p){f.e(p)}finally{f.f()}}}catch(p){o.e(p)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Object(h.a)(e),a=[],o=Object(u.a)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=Object(u.a)(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,d=new Qi;d.seed(f.$e()),zi.Te.ce(c,d.qe(t.kind)),a.push(d)}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Nt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=oa(e),i=ua(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return me.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ue(t.sequenceNumber,new le(Ii(t.readTime),new ne(Yr(t.documentKey)),t.largestBatchId)):ue.empty(),r=e.fields.map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return new oe(te.fromServerFormat(n),r)}));return new re(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:G(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=oa(e),a=ua(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return me.forEach(t,(function(t){return a.put(Li(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return me.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?me.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),me.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?me.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return aa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return aa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=aa(e),i=new De(Xi);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Yi(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new De(Xi),r=this.an(t,e);if(null==r)return n;var i=ie(t);if(null!=i){var a=e.data.field(i.fieldPath);if(lt(a)){var o,s=Object(u.a)(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value;n=n.add(new Yi(t.indexId,e.key,this.on(c),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new Yi(t.indexId,e.key,na,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;E("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Le(a),s=Le(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Le(o)):l?(i(u),u=Le(a)):(u=Le(a),s=Le(o))}}(r,i,Xi,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),me.waitFor(o)}},{key:"_n",value:function(e){var t=1;return ua(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Xi(e,t)})).filter((function(e,t,n){return!t||0!==Xi(e,n[t-1])}));var r=[];r.push(e);var i,a=Object(u.a)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Xi(o,e),c=Xi(o,t);if(0===s)r[0]=e.Ke();else if(s>0&&c<0)r.push(o),r.push(o.Ke());else if(c>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2)l.push(IDBKeyRange.bound([r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,na,[]],[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,na,[]]));return l}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(sa)}},{key:"getMinOffset",value:function(e,t){var n=this;return me.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||I()}))})).next(sa)}}]),e}();function ia(e){return ki(e,"collectionParents")}function aa(e){return ki(e,"indexEntries")}function oa(e){return ki(e,"indexConfiguration")}function ua(e){return ki(e,"indexState")}function sa(e){N(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;fe(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new le(t.readTime,t.documentKey,n)}var ca={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},la=function(){function e(t,n,r){Object(d.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(p.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function fa(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){N(1===s)})));var l,f=[],h=Object(u.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Zr(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return me.waitFor(a).next((function(){return f}))}function ha(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw I();t=e.noDocument}return JSON.stringify(t).length}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);var da=function(){function e(t,n,r,i){Object(d.a)(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Object(p.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return va(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ma(e),o=va(e);return o.add({}).next((function(s){N("number"==typeof s);var c,l=new wi(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Ar(e.re,t)})),i=n.mutations.map((function(t){return Ar(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,l),h=[],d=new De((function(e,t){return G(e.canonicalString(),t.canonicalString())})),p=Object(u.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=Zr(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,ei))}}catch(b){p.e(b)}finally{p.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=l.keys()})),me.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return va(e).get(t).next((function(e){return e?(N(e.userId===n.userId),Ni(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?me.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return va(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(N(t.batchId>=r),a=Ni(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return va(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return va(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ni(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Jr(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ma(e).Z({range:i},(function(r,i,u){var s=Object(o.a)(r,3),c=s[0],l=s[1],f=s[2],h=Yr(l);if(c===n.userId&&t.path.isEqual(h))return va(e).get(f).next((function(e){if(!e)throw I();N(e.userId===n.userId),a.push(Ni(n.It,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new De(G),i=[];return t.forEach((function(t){var a=Jr(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=ma(e).Z({range:u},(function(e,i,a){var u=Object(o.a)(e,3),s=u[0],c=u[1],l=u[2],f=Yr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),me.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Jr(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new De(G);return ma(e).Z({range:u},(function(e,t,a){var u=Object(o.a)(e,3),c=u[0],l=u[1],f=u[2],h=Yr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(va(e).get(t).next((function(e){if(null===e)throw I();N(e.userId===n.userId),r.push(Ni(n.It,e))})))})),me.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return fa(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),me.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return me.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ma(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Yr(e[1]);i.push(a)}else r.done()})).next((function(){N(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return pa(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ba(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return N(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function pa(e,t,n){var r=Jr(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return ma(e).Z({range:a,X:!0},(function(e,n,r){var a=Object(o.a)(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function va(e){return ki(e,"mutations")}function ma(e){return ki(e,"documentMutations")}function ba(e){return ki(e,"mutationQueues")}var ga=function(){function e(t){Object(d.a)(this,e),this.bn=t}return Object(p.a)(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),ya=function(){function e(t,n){Object(d.a)(this,e),this.referenceDelegate=t,this.It=n}return Object(p.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new ga(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return X.fromTimestamp(new Y(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Oa(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return N(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Oa(e).Z((function(o,u){var s=Pi(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return me.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Oa(e).Z((function(e,n){var r=Pi(n);t(r)}))}},{key:"Vn",value:function(e){return ka(e).get("targetGlobalKey").next((function(e){return N(null!==e),e}))}},{key:"Sn",value:function(e,t){return ka(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Oa(e).put(Ai(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Oa(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Pi(n);Et(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wa(e);return t.forEach((function(t){var o=Gr(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),me.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wa(e);return me.forEach(t,(function(t){var a=Gr(t.path);return me.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wa(e),i=rr();return r.Z({range:n,X:!0},(function(e,t,n){var r=Yr(e[1]),a=new ne(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gr(t.path),r=IDBKeyRange.bound([n],[Q(n)],!1,!0),i=0;return wa(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Oa(e).get(t).next((function(e){return e?Pi(e):null}))}}]),e}();function Oa(e){return ki(e,"targets")}function ka(e){return ki(e,"targetGlobal")}function wa(e){return ki(e,"targetDocuments")}function ja(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),u=a[0],s=a[1],c=G(r,u);return 0===c?G(i,s):c}var _a=function(){function e(t){Object(d.a)(this,e),this.xn=t,this.buffer=new De(ja),this.Nn=0}return Object(p.a)(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ja(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xa=function(){function e(t,n,r){Object(d.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Object(p.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;E("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ke(e.t0)){e.next=12;break}E("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,pe(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ea=function(){function e(t,n){Object(d.a)(this,e),this.$n=t,this.params=n}return Object(p.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return me.resolve(Te.at);var r=new _a(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ca)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ca):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_()<=b.a.DEBUG&&E("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ca=function(){function e(t,n){Object(d.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ea(e,t)}(this,n)}return Object(p.a)(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ta(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ba(e).tt((function(r){return pa(e,r,t).next((function(e){return e&&(n=!0),me.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,X.min()),wa(e).delete([0,Gr(o.path)])}))}));i.push(s)}})).next((function(){return me.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ta(e,t)}},{key:"Kn",value:function(e,t){var n,r=wa(e),i=Te.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Object(o.a)(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==Te.at&&t(new ne(Yr(n)),i),i=c,n=s):i=Te.at})).next((function(){i!==Te.at&&t(new ne(Yr(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ta(e,t){return wa(e).put(function(e,t){return{targetId:0,path:Gr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Sa=function(){function e(){Object(d.a)(this,e),this.changes=new Kn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(p.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ia=function(){function e(t){Object(d.a)(this,e),this.It=t}return Object(p.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ra(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ra(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ti(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=wt.newInvalidDocument(t);return Ra(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Da(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:wt.newInvalidDocument(t)};return Ra(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Da(t))},(function(e,i){r={document:n.jn(t,i),size:ha(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=$n();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=$n(),i=new Pe(ne.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,ha(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return me.resolve();var r=new De(La);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Da(r.first()),Da(r.last())),a=r.getIterator(),o=a.getNext();return Ra(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ne.fromSegments([].concat(Object(h.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&La(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Da(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ti(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ra(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=$n(),i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(ne.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=$n(),o=Ma(t,n),u=Ma(t,le.max());return Ra(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(ne.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Pa(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Aa(e).get("remoteDocumentGlobalKey").next((function(e){return N(!!e),e}))}},{key:"Qn",value:function(e,t){return Aa(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Nr(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ne.fromSegments(t.noDocument.path),i=Ii(t.noDocument.readTime);n=wt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return I();var a=ne.fromSegments(t.unknownDocument.path),o=Ii(t.unknownDocument.version);n=wt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Y(e[0],e[1]);return X.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return wt.newInvalidDocument(e)}}]),e}();function Na(e){return new Ia(e)}var Pa=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Kn((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(p.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new De((function(e,t){return G(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ci(t.Yn.It,o);i=i.add(a.path.popLast());var c=ha(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ci(t.Yn.It,o.convertToNoDocument(X.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Sa);function Aa(e){return ki(e,"remoteDocumentGlobal")}function Ra(e){return ki(e,"remoteDocumentsV14")}function Da(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ma(e,t){var n=t.documentKey.path.toArray();return[e,Ti(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function La(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=G(n[a],r[a]))return i;return(i=G(n.length,r.length))||((i=G(n[n.length-2],r[r.length-2]))||G(n[n.length-1],r[r.length-1]))}var Fa=Object(p.a)((function e(t,n){Object(d.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ua=function(){function e(t,n,r,i){Object(d.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(p.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Nn(r.mutation,e,Fe.empty(),Y.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rr()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr(),i=Jn();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yn();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Jn();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rr())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$n(),a=er(),o=er();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dn)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Nn(o.mutation,t,o.mutation.getFieldMask(),Y.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Fa(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=er(),i=new Pe((function(e,t){return e-t})),a=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Object(u.a)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Fe.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||rr()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zn();c.forEach((function(e){if(!a.has(e)){var n=Sn(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return me.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ne.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):me.resolve(Jn()),u=-1,s=a;return o.next((function(t){return me.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?me.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,rr())})).next((function(e){return{batchId:u,changes:Xn(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ne(t)).next((function(e){var t=Yn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yn();return this.indexManager.getCollectionParents(e,i).next((function(o){return me.forEach(o,(function(o){var u=function(e,t){return new Ht(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,wt.newInvalidDocument(n)))}));var n=Yn();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Nn(a.mutation,i,Fe.empty(),Y.now()),an(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(wt.newInvalidDocument(t))}}]),e}(),Va=function(){function e(t){Object(d.a)(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Object(p.a)(e,[{key:"getBundleMetadata",value:function(e,t){return me.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:kr(n.createTime)}),me.resolve()}},{key:"getNamedQuery",value:function(e,t){return me.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ri(e.bundledQuery),readTime:kr(e.readTime)}}(t)),me.resolve()}}]),e}(),qa=function(){function e(){Object(d.a)(this,e),this.overlays=new Pe(ne.comparator),this.es=new Map}return Object(p.a)(e,[{key:"getOverlay",value:function(e,t){return me.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jn();return me.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),me.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),me.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jn(),i=t.length+1,a=new ne(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return me.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pe((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return me.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _i(t,n));var a=this.es.get(t);void 0===a&&(a=rr(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ba=function(){function e(){Object(d.a)(this,e),this.ns=new De(za.ss),this.rs=new De(za.os)}return Object(p.a)(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new za(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new za(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ne(new Z([])),r=new za(n,e),i=new za(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ne(new Z([])),n=new za(t,e),r=new za(t,e+1),i=rr();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new za(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),za=function(){function e(t,n){Object(d.a)(this,e),this.key=t,this._s=n}return Object(p.a)(e,null,[{key:"ss",value:function(e,t){return ne.comparator(e.key,t.key)||G(e._s,t._s)}},{key:"os",value:function(e,t){return G(e._s,t._s)||ne.comparator(e.key,t.key)}}]),e}(),Wa=function(){function e(t,n){Object(d.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new De(za.ss)}return Object(p.a)(e,[{key:"checkEmpty",value:function(e){return me.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wi(i,t,n,r);this.mutationQueue.push(a);var o,s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.gs=this.gs.add(new za(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return me.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return me.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return me.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return me.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new za(t,0),i=new za(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),me.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new De(G);return t.forEach((function(e){var t=new za(e,0),i=new za(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),me.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ne.isDocumentKey(i)||(i=i.child(""));var a=new za(new ne(i),0),o=new De(G);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),me.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;N(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return me.forEach(t.mutations,(function(i){var a=new za(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new za(t,0),r=this.gs.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,me.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ha=function(){function e(t){Object(d.a)(this,e),this.Es=t,this.docs=new Pe(ne.comparator),this.size=0}return Object(p.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():wt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$n();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wt.newInvalidDocument(e))})),me.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=$n(),i=new ne(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||fe(ce(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return me.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){I()}},{key:"As",value:function(e,t){return me.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ka(this)}},{key:"getSize",value:function(e){return me.resolve(this.size)}}]),e}(),Ka=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).Yn=e,r}return Object(p.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Sa),Ga=function(){function e(t){Object(d.a)(this,e),this.persistence=t,this.Rs=new Kn((function(e){return xt(e)}),Et),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ba,this.targetCount=0,this.vs=ga.Pn()}return Object(p.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),me.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return me.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return me.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),me.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),me.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,me.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),me.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,me.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),me.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return me.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return me.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),me.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),me.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),me.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return me.resolve(n)}},{key:"containsKey",value:function(e,t){return me.resolve(this.Ps.containsKey(t))}}]),e}(),$a=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.Vs={},this.overlays={},this.Ss=new Te(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ga(this),this.indexManager=new ea,this.remoteDocumentCache=new Ha((function(e){return r.referenceDelegate.xs(e)})),this.It=new Ei(n),this.Ns=new Va(this.It)}return Object(p.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qa,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Wa(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;E("MemoryPersistence","Starting transaction:",e);var i=new Qa(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return me.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Qa=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Object(p.a)(n)}(de),Ya=function(){function e(t){Object(d.a)(this,e),this.persistence=t,this.Fs=new Ba,this.$s=null}return Object(p.a)(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw I()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),me.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),me.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),me.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ls,(function(r){var i=ne.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,X.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return me.or([function(){return me.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Xa=function(){function e(t){Object(d.a)(this,e),this.It=t}return Object(p.a)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new be("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xr,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ja(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=me.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ja(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:X.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xr,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return me.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:hi});t.createIndex("collectionPathOverlayIndex",di,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",pi,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ti});t.createIndex("documentKeyIndex",ni),t.createIndex("collectionGroupIndex",ri)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:si}).createIndex("sequenceNumberIndex",ci,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:li}).createIndex("documentKeyIndex",fi,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=ha(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return me.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return me.forEach(r,(function(r){N(r.userId===n.userId);var i=Ni(t.It,r);return fa(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Z(n),o=function(e){return[0,Gr(e)]}(a);r.push(t.get(o).next((function(n){return n?me.resolve():function(n){return t.put({targetId:0,path:Gr(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return me.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ui});var n=t.store("collectionParents"),r=new ta,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gr(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Z(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],Yr(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Pi(r),a=Ai(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ne(Z.fromString(i.document.name).popFirst(5)):i.noDocument?ne.fromSegments(i.noDocument.path):i.unknownDocument?ne.fromSegments(i.unknownDocument.path):I()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return me.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Na(this.It),a=new $a(Ya.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rr();Ni(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),me.forEach(r,(function(e,r){var o=new k(r),u=qi.oe(n.It,o),s=a.getIndexManager(o),c=da.oe(o,n.It,s,a.referenceDelegate);return new Ua(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Oi(t,Te.at),e).next()}))}))}}]),e}();function Ja(e){e.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",oi,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ii,{unique:!0}),e.createObjectStore("targetGlobal")}var Za="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eo=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Object(d.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new D(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ca(this,i),this.ii=n+"main",this.It=new Ei(s),this.ri=new ge(this.ii,this.Xs,new Xa(this.It)),this.Cs=new ya(this.referenceDelegate,this.It),this.remoteDocumentCache=Na(this.It),this.Ns=new Fi,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&C("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(p.a)(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new D(R.FAILED_PRECONDITION,Za);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Te(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Object(c.a)(Object(s.a)().mark((function n(r){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Object(c.a)(Object(s.a)().mark((function t(n){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return no(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ke(t))return E("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return E("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return to(e).get("owner").next((function(e){return me.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return no(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n,r,i,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ki(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return me.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Object(u.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?me.resolve(!0):to(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new D(R.FAILED_PRECONDITION,Za);return!1}}return!(!t.networkEnabled||!t.inForeground)||no(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&E("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Oi(e,Te.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return no(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return da.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ra(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return qi.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;E("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?yi:14===i?gi:13===i?bi:12===i?mi:11===i?vi:void I();return this.ri.runTransaction(e,o,u,(function(i){return a=new Oi(i,r.Ss?r.Ss.next():Te.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw C("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new D(R.FAILED_PRECONDITION,he);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return to(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new D(R.FAILED_PRECONDITION,Za)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return to(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=to(e);return n.get("owner").next((function(e){return t.mi(e)?(E("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):me.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(C("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),Object(g.H)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return E("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return C("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){C("Failed to set zombie client id.",e)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return ge.C()}}]),e}();function to(e){return ki(e,"owner")}function no(e){return ki(e,"clientMetadata")}function ro(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var io=function(){function e(t,n,r,i){Object(d.a)(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Object(p.a)(e,null,[{key:"Ci",value:function(t,n){var r,i=rr(),a=rr(),o=Object(u.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ao=function(){function e(){Object(d.a)(this,e),this.xi=!1}return Object(p.a)(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if($t(t))return me.resolve(null);var r=Zt(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=en(t,null,"F"),r=Zt(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rr.apply(void 0,Object(h.a)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,en(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return $t(t)||r.isEqual(X.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(_()<=b.a.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rn(t)),i.Bi(e,o,t,se(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new De(un(e));return t.forEach((function(t,r){an(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return _()<=b.a.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",rn(t)),this.Ni.getDocumentsMatchingQuery(e,t,le.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),oo=function(){function e(t,n,r,i){Object(d.a)(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Pe(G),this.qi=new Kn((function(e){return xt(e)}),Et),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Object(p.a)(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ua(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function uo(e,t,n,r){return new oo(e,t,n,r)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=Object(c.a)(Object(s.a)().mark((function e(t,n){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=rr(),c=Object(u.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=Object(u.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(O){h.e(O)}finally{h.f()}}}catch(O){c.e(O)}finally{c.f()}var p,v=Object(u.a)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var b,g=Object(u.a)(m.mutations);try{for(g.s();!(b=g.n()).done;){var y=b.value;s=s.add(y.key)}}catch(O){g.e(O)}finally{g.f()}}}catch(O){v.e(O)}finally{v.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){var n=A(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=me.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);N(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function fo(e){var t=A(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function ho(e,t){var n=A(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ve.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=$n(),s=rr();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(po(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(X.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return me.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function po(e,t,n){var r=rr(),i=rr();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$n();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(X.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):E("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function vo(e,t){var n=A(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function mo(e,t){var n=A(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,me.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new xi(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function bo(e,t,n){return go.apply(this,arguments)}function go(){return(go=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ke(e.t1)){e.next=12;break}throw e.t1;case 12:E("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function yo(e,t,n){var r=A(e),i=X.min(),a=rr();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=A(e),i=r.qi.get(n);return void 0!==i?me.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Zt(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:X.min(),n?a:rr())})).next((function(e){return wo(r,on(t),e),{documents:e,Hi:a}}))}))}function Oo(e,t){var n=A(e),r=A(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function ko(e,t){var n=A(e),r=n.Ki.get(t)||X.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,se(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return wo(n,t,e),e}))}function wo(e,t,n){var r=X.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function jo(e,t,n,r){return _o.apply(this,arguments)}function _o(){return(_o=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o,c,l,f,h,d,p,v,m;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=A(t),o=rr(),c=$n(),l=Object(u.a)(r);try{for(l.s();!(f=l.n()).done;)h=f.value,d=n.Ji(h.metadata.name),h.document&&(o=o.add(d)),(p=n.Yi(h)).setReadTime(n.Xi(h.metadata.readTime)),c=c.insert(d,p)}catch(s){l.e(s)}finally{l.f()}return v=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,mo(a,function(e){return Zt(Gt(Z.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return po(e,v,c).next((function(t){return v.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o=arguments;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rr(),e.next=3,mo(t,Zt(Ri(n.bundledQuery)));case 3:return i=e.sent,a=A(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kr(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Ve.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Co(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function To(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function So(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Io=function(){function e(t,n,r,i){Object(d.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(p.a)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new D(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(C("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),No=function(){function e(t,n,r){Object(d.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(p.a)(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new D(i.error.code,i.error.message))),a?new e(t,i.state,r):(C("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Po=function(){function e(t,n){Object(d.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(p.a)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ar(),o=0;i&&o<r.activeTargetIds.length;++o)i=Je(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(C("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ao=function(){function e(t,n){Object(d.a)(this,e),this.clientId=t,this.onlineState=n}return Object(p.a)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(C("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ro=function(){function e(){Object(d.a)(this,e),this.activeTargetIds=ar()}return Object(p.a)(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Do=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pe(G),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Co(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ro),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Object(p.a)(e,[{key:"start",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n,r,i,a,o,c,l,f,h,d,p=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Object(u.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Co(this.persistenceKey,i)))&&(o=Po.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(c=this.storage.getItem(this.wr))&&(l=this.yr(c))&&this.pr(l),f=Object(u.a)(this.cr);try{for(f.s();!(h=f.n()).done;)d=h.value,this.rr(d)}catch(s){f.e(s)}finally{f.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(So(this.persistenceKey,e));if(n){var r=No.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(So(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return E("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){E("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){E("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(E("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void C("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Object(c.a)(Object(s.a)().mark((function e(){var r,i,a,o,u,c,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}c=function(e){var t=Te.at;if(null!=e)try{var n=JSON.parse(e);N("number"==typeof n),t=n}catch(e){C("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==Te.at&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return l=t.Mr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Io(this.currentUser,e,t,n),i=To(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=To(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=So(this.persistenceKey,e),i=new No(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Po.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Io.Zi(new k(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return No.Zi(r,t)}},{key:"yr",value:function(e){return Ao.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:E("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=ar();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Mo=function(){function e(){Object(d.a)(this,e),this.Lr=new Ro,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(p.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Ro,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Lo=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fo=function(){function e(){var t=this;Object(d.a)(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Object(p.a)(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(u.a)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(u.a)(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Uo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vo=function(){function e(t){Object(d.a)(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Object(p.a)(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),qo=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(p.a)(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new y.g;o.listenOnce(y.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case y.a.NO_ERROR:var t=o.getResponseJson();E("Connection","XHR received:",JSON.stringify(t)),i(t);break;case y.a.TIMEOUT:E("Connection",'RPC "'+e+'" timed out'),a(new D(R.DEADLINE_EXCEEDED,"Request time out"));break;case y.a.HTTP_ERROR:var n=o.getStatus();if(E("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(t)>=0?t:R.UNKNOWN}(r.status);a(new D(u,r.message))}else a(new D(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new D(R.UNAVAILABLE,"Connection failed."));break;default:I()}}finally{E("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(y.h)(),a=Object(y.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new y.d({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");E("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Vo({Hr:function(e){l?E("Connection","Not sending because WebChannel is closed:",e):(c||(E("Connection","Opening WebChannel transport."),s.open(),c=!0),E("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,y.f.EventType.OPEN,(function(){l||E("Connection","WebChannel transport opened.")})),h(s,y.f.EventType.CLOSE,(function(){l||(l=!0,E("Connection","WebChannel transport closed"),f.io())})),h(s,y.f.EventType.ERROR,(function(e){l||(l=!0,T("Connection","WebChannel transport errored:",e),f.io(new D(R.UNAVAILABLE,"The operation could not be completed")))})),h(s,y.f.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];N(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){E("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Un[e];if(void 0!==t)return Hn(t)}(a),u=i.message;void 0===o&&(o=R.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new D(o,u)),s.close()}else E("Connection","WebChannel received:",n),f.ro(n)}})),h(a,y.b.STAT_EVENT,(function(e){e.stat===y.e.PROXY?E("Connection","Detected buffering proxy"):e.stat===y.e.NOPROXY&&E("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Object(d.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(p.a)(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);E("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return E("RestConnection","Received: ",e),e}),(function(t){throw T("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+w,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Uo[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Bo(){return"undefined"!=typeof window?window:null}function zo(){return"undefined"!=typeof document?document:null}function Wo(e){return new br(e,!0)}var Ho=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(d.a)(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Object(p.a)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Ko=function(){function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ho(t,n)}return Object(p.a)(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(C(n.toString()),C("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Object(o.a)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new D(R.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return E("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Go=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a,o,u){var s;return Object(d.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Object(p.a)(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:I()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(N(void 0===t||"string"==typeof t),Ve.fromBase64String(t||"")):(N(void 0===t||t instanceof Uint8Array),Ve.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?R.UNKNOWN:Hn(e.code);return new D(t,e.message||"")}(o);n=new lr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xr(e,s.document.name),l=kr(s.document.updateTime),f=new Ot({mapValue:{fields:s.document.fields}}),h=wt.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new sr(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=xr(e,v.document),b=v.readTime?kr(v.readTime):X.min(),g=wt.newNoDocument(m,b),y=v.removedTargetIds||[];n=new sr([],y,g.key,g)}else if("documentRemove"in t){t.documentRemove;var O=t.documentRemove;O.document;var k=xr(e,O.document),w=O.removedTargetIds||[];n=new sr([],w,k,null)}else{if(!("filter"in t))return I();t.filter;var j=t.filter;j.targetId;var _=j.count||0,x=new zn(_),E=j.targetId;n=new cr(E,x)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?kr(t.readTime):X.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Tr(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Ct(r)?{documents:Dr(e,r)}:{query:Mr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yr(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=gr(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return I()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Tr(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Ko),$o=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a,o,u){var s;return Object(d.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Object(p.a)(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(N(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(N(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kr(e.updateTime):kr(t);return n.isEqual(X.min())&&(n=kr(t)),new xn(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kr(e.commitTime);return this.listener.Zo(n,t)}return N(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Tr(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ar(t.It,e)}))};this.Bo(n)}}]),n}(Ko),Qo=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Object(p.a)(n,[{key:"su",value:function(){if(this.nu)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Object(o.a)(i,2),u=a[0],s=a[1];return r.Vo.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(R.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var u=Object(o.a)(a,2),s=u[0],c=u[1];return i.Vo.fo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new D(R.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Object(p.a)((function e(){Object(d.a)(this,e)}))}()),Yo=function(){function e(t,n){Object(d.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Object(p.a)(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(C(t),this.ou=!1):E("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Xo=Object(p.a)((function e(t,n,r,i,a){var o=this;Object(d.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=su(o),!e.t0){e.next=5;break}return E("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=A(t))._u.add(4),e.next=4,eu(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Jo(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Yo(r,i)}));function Jo(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=Object(c.a)(Object(s.a)().mark((function e(t){var n,r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!su(t)){e.next=18;break}n=Object(u.a)(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=Object(c.a)(Object(s.a)().mark((function e(t){var n,r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(u.a)(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function nu(e,t){var n=A(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),uu(n)?ou(n):Lu(n).ko()&&iu(n,t))}function ru(e,t){var n=A(e),r=Lu(n);n.du.delete(t),r.ko()&&au(n,t),0===n.du.size&&(r.ko()?r.Fo():su(n)&&n.gu.set("Unknown"))}function iu(e,t){e.yu.Ot(t.targetId),Lu(e).zo(t)}function au(e,t){e.yu.Ot(t),Lu(e).Ho(t)}function ou(e){e.yu=new hr({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Lu(e).start(),e.gu.uu()}function uu(e){return su(e)&&!Lu(e).No()&&e.du.size>0}function su(e){return 0===A(e)._u.size}function cu(e){e.yu=void 0}function lu(e){return fu.apply(this,arguments)}function fu(){return(fu=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){iu(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return(du=Object(c.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cu(t),uu(t)?(t.gu.hu(n),ou(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return vu=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof lr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(u.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),E("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mu(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sr?t.yu.Gt(n):n instanceof cr?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,fo(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ve.EMPTY_BYTE_STRING,n.snapshotVersion)),au(e,t);var r=new xi(n.target,t,1,n.sequenceNumber);iu(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),E("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mu(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vu.apply(this,arguments)}function mu(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=Object(c.a)(Object(s.a)().mark((function e(t,n,r){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,eu(t);case 5:t.gu.set("Offline"),r||(r=function(){return fo(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Jo(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){return t().catch((function(n){return mu(e,n,t)}))}function yu(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(c.a)(Object(s.a)().mark((function e(t){var n,r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t),r=Fu(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ku(n)){e.next=19;break}return e.prev=3,e.next=6,vo(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,wu(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mu(n,e.t0);case 17:e.next=2;break;case 19:ju(n)&&_u(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ku(e){return su(e)&&e.fu.length<10}function wu(e,t){e.fu.push(t);var n=Fu(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function ju(e){return su(e)&&!Fu(e).No()&&e.fu.length>0}function _u(e){Fu(e).start()}function xu(e){return Eu.apply(this,arguments)}function Eu(){return(Eu=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fu(t).eu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e){return Tu.apply(this,arguments)}function Tu(){return(Tu=Object(c.a)(Object(s.a)().mark((function e(t){var n,r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fu(t),r=Object(u.a)(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=ji.from(i,n,r),e.next=3,gu(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yu(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=Object(c.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Fu(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wn(i=n.code)||i===R.ABORTED){e.next=7;break}return r=t.fu.shift(),Fu(t).Oo(),e.next=5,gu(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yu(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ju(t)&&_u(t);case 5:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Au(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=A(t)).asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials"),i=su(r),r._u.add(3),e.next=6,eu(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Jo(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=Object(c.a)(Object(s.a)().mark((function e(t,n){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Jo(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,eu(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e){return e.pu||(e.pu=function(e,t,n){var r=A(e);return r.su(),new Go(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:lu.bind(null,e),Zr:hu.bind(null,e),Wo:pu.bind(null,e)}),e.wu.push(function(){var t=Object(c.a)(Object(s.a)().mark((function t(n){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),uu(e)?ou(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:cu(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Fu(e){return e.Iu||(e.Iu=function(e,t,n){var r=A(e);return r.su(),new $o(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:xu.bind(null,e),Zr:Nu.bind(null,e),tu:Cu.bind(null,e),Zo:Su.bind(null,e)}),e.wu.push(function(){var t=Object(c.a)(Object(s.a)().mark((function t(n){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,yu(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(E("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Uu=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(p.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vu(e,t){if(C("AsyncQueue","".concat(t,": ").concat(e)),ke(e))return new D(R.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qu=function(){function e(t){Object(d.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ne.comparator(e.key,n.key)}:function(e,t){return ne.comparator(e.key,t.key)},this.keyedMap=Yn(),this.sortedSet=new Pe(this.comparator)}return Object(p.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bu=function(){function e(){Object(d.a)(this,e),this.Tu=new Pe(ne.comparator)}return Object(p.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):I():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zu=function(){function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(p.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qu.emptySet(n),a,r,i,!0,!1)}}]),e}(),Wu=Object(p.a)((function e(){Object(d.a)(this,e),this.Au=void 0,this.listeners=[]})),Hu=Object(p.a)((function e(){Object(d.a)(this,e),this.queries=new Kn((function(e){return nn(e)}),tn),this.onlineState="Unknown",this.Ru=new Set}));function Ku(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,u;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Wu),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Vu(e.t0,"Initialization of query '".concat(rn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Ju(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function $u(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,u;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){var n,r=A(e),i=!1,a=Object(u.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=Object(u.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.Au=o}}}catch(h){a.e(h)}finally{a.f()}i&&Ju(r)}function Xu(e,t,n){var r=A(e),i=r.queries.get(t);if(i){var a,o=Object(u.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ju(e){e.Ru.forEach((function(e){e.next()}))}var Zu=function(){function e(t,n,r){Object(d.a)(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Object(p.a)(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(u.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),es=function(){function e(t,n){Object(d.a)(this,e),this.payload=t,this.byteLength=n}return Object(p.a)(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),ts=function(){function e(t){Object(d.a)(this,e),this.It=t}return Object(p.a)(e,[{key:"Ji",value:function(e){return xr(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Nr(this.It,e.document,!1):wt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return kr(e)}}]),e}(),ns=function(){function e(t,n,r){Object(d.a)(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rs(t)}return Object(p.a)(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Z.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new ts(this.It),i=Object(u.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),c=Object(u.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||rr()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n,r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(this.localStore,new ts(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Object(u.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xo(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rs(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var is=Object(p.a)((function e(t){Object(d.a)(this,e),this.key=t})),as=Object(p.a)((function e(t){Object(d.a)(this,e),this.key=t})),os=function(){function e(t,n){Object(d.a)(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=rr(),this.mutatedKeys=rr(),this.Ku=un(t),this.Gu=new qu(this.Ku)}return Object(p.a)(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new Bu,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=an(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return I()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new zu(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Bu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=rr(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new as(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new is(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=rr();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return zu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),us=Object(p.a)((function e(t,n,r){Object(d.a)(this,e),this.query=t,this.targetId=n,this.view=r})),ss=Object(p.a)((function e(t){Object(d.a)(this,e),this.key=t,this.ec=!1})),cs=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Kn((function(e){return nn(e)}),tn),this.ic=new Map,this.rc=new Set,this.oc=new Pe(ne.comparator),this.uc=new Map,this.cc=new Ba,this.ac={},this.hc=new Map,this.lc=ga.vn(),this.onlineState="Unknown",this.fc=void 0}return Object(p.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,u,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rc(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,mo(r.localStore,Zt(n));case 8:return u=e.sent,r.isPrimaryClient&&nu(r.remoteStore,u),c=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,hs(r,n,i,"current"===c);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t,n,r){return ds.apply(this,arguments)}function ds(){return ds=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o,u,l,f,h;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o,u;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,yo(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(As(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yo(t.localStore,n,!0);case 3:return a=e.sent,o=new os(n,a.Hi),u=o.ju(a.documents),l=ur.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=o.applyChanges(u,t.isPrimaryClient,l),As(t,r,f.Yu),h=new us(n,r,o),e.abrupt("return",(t.sc.set(n,h),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!tn(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,bo(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ru(r.remoteStore,i.targetId),Ns(r,i.targetId)})).catch(pe);case 9:e.next=14;break;case 11:return Ns(r,i.targetId),e.next=14,bo(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t,n){return bs.apply(this,arguments)}function bs(){return(bs=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ic(t),e.prev=1,e.next=4,function(e,t){var n,r,i=A(e),a=Y.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rr());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=$n(),c=rr();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],c=Object(u.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Pn(l,n.get(l.key).overlayedDocument);null!=f&&s.push(new Dn(l.key,f,kt(f.value.mapValue),En.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Xn(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Pe(G)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ms(i,a.changes);case 9:return e.next=11,yu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vu(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function gs(e,t){return ys.apply(this,arguments)}function ys(){return(ys=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.prev=1,e.next=4,ho(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?N(n.ec):e.removedDocuments.size>0&&(N(n.ec),n.ec=!1))})),e.next=8,Ms(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,pe(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Os(e,t,n){var r=A(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=A(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(u.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ju(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ks(e,t,n){return ws.apply(this,arguments)}function ws(){return(ws=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,u,c,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=A(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pe(ne.comparator)).insert(o,wt.newNoDocument(o,X.min())),c=rr().add(o),l=new or(X.min(),new Map,new De(G),u,c),e.next=9,gs(i,l);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Ds(i),e.next=16;break;case 14:return e.next=16,bo(i.localStore,n,!1).then((function(){return Ns(i,n,r)})).catch(pe);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=n.batch.batchId,e.prev=1,e.next=4,lo(r.localStore,n);case 4:return a=e.sent,Is(r,i,null),Ss(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ms(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pe(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xs(e,t,n){return Es.apply(this,arguments)}function Es(){return(Es=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=A(t),e.prev=1,e.next=4,function(e,t){var n=A(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return N(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Is(i,n,r),Ss(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ms(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pe(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Cs(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return su((r=A(t)).remoteStore)||E("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=A(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vu(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Ss(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Is(e,t,n){var r=A(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Ns(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(u.a)(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||Ps(e,t)}))}function Ps(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(ru(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Ds(e))}function As(e,t,n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof is?(e.cc.addReference(a.key,t),Rs(e,a)):a instanceof as?(E("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Ps(e,a.key)):I()}}catch(o){i.e(o)}finally{i.f()}}function Rs(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(E("SyncEngine","New document in limbo: "+n),e.rc.add(r),Ds(e))}function Ds(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new ne(Z.fromString(t)),r=e.lc.next();e.uc.set(r,new ss(n)),e.oc=e.oc.insert(n,r),nu(e.remoteStore,new xi(Zt(Gt(n.path)),r,2,Te.at))}}function Ms(e,t,n){return Ls.apply(this,arguments)}function Ls(){return Ls=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A(t),a=[],o=[],l=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){l.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=io.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(l);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,c,l,f,h;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return me.forEach(n,(function(t){return me.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return me.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ke(e.t0)){e.next=10;break}throw e.t0;case 10:E("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(u.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,c=o.targetId,o.fromCache||(l=r.Ui.get(c),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.Ui=r.Ui.insert(c,h))}catch(s){i.e(s)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=A(t)).currentUser.isEqual(n)){e.next=11;break}return E("SyncEngine","User change. New user:",n.toKey()),e.next=5,so(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new D(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ms(r,i.ji);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){var n=A(e),r=n.uc.get(t);if(r&&r.ec)return rr().add(r.key);var i=rr(),a=n.ic.get(t);if(!a)return i;var o,s=Object(u.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.sc.get(c);i=i.unionWith(l.view.Qu)}}catch(f){s.e(f)}finally{s.f()}return i}function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.next=3,yo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&As(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(c.a)(Object(s.a)().mark((function e(t,n){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),e.abrupt("return",ko(r.localStore,n).then((function(e){return Ms(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n,r){return Ks.apply(this,arguments)}function Ks(){return(Ks=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A(t),e.next=3,function(e,t){var n=A(e),r=A(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):me.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Is(a,n,i||null),Ss(a,n),function(e,t){A(A(e).mutationQueue).An(t)}(a.localStore,n)):I();case 11:return e.next=13,Ms(a,o);case 13:e.next=16;break;case 15:E("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return $s.apply(this,arguments)}function $s(){return($s=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,c,l,f,h;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rc(r=A(t)),ic(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Qs(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,Du(r.remoteStore,!0);case 9:o=Object(u.a)(a);try{for(o.s();!(c=o.n()).done;)l=c.value,nu(r.remoteStore,l)}catch(s){o.e(s)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return f=[],h=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return Ns(r,t),bo(r.localStore,t,!0)})),ru(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,Qs(r,f);case 21:return function(e){var t=A(e);t.uc.forEach((function(e,n){ru(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Pe(ne.comparator)}(r),r.fc=!1,e.next=25,Du(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t,n){return Ys.apply(this,arguments)}function Ys(){return(Ys=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,c,l,f,h,d,p,v,m,b,g,y;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=A(t),a=[],o=[],c=Object(u.a)(n),e.prev=2,c.s();case 4:if((l=c.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.ic.get(f))||0===d.length){e.next=34;break}return e.next=11,mo(i.localStore,Zt(d[0]));case 11:h=e.sent,p=Object(u.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,b=i.sc.get(m),e.next=20,qs(i,b);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Oo(i.localStore,f);case 36:return y=e.sent,e.next=39,mo(i.localStore,y);case 39:return h=e.sent,e.next=42,hs(i,Xs(y),f,!1);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),c.e(e.t1);case 50:return e.prev=50,c.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function Xs(e){return Kt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Js(e){var t=A(e);return A(A(t.localStore).persistence).vi()}function Zs(e,t,n,r){return ec.apply(this,arguments)}function ec(){return(ec=Object(c.a)(Object(s.a)().mark((function e(t,n,r,i){var a,o,u,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=A(t)).fc){e.next=3;break}return e.abrupt("return",void E("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ko(a.localStore,on(o[0]));case 10:return u=e.sent,c=or.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ms(a,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,bo(a.localStore,n,!0);case 17:return Ns(a,n,i),e.abrupt("break",20);case 19:I();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return(nc=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,c,l,f,h,d,p;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rc(t)).fc){e.next=45;break}a=Object(u.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(c=o.value,!i.ic.has(c)){e.next=10;break}return E("SyncEngine","Adding an already active target "+c),e.abrupt("continue",19);case 10:return e.next=12,Oo(i.localStore,c);case 12:return l=e.sent,e.next=15,mo(i.localStore,l);case 15:return f=e.sent,e.next=18,hs(i,Xs(l),f.targetId,!1);case 18:nu(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(u.a)(r),e.prev=30,p=Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,bo(i.localStore,t,!1).then((function(){ru(i.remoteStore,t),Ns(i,t)})).catch(pe);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function rc(e){var t=A(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ks.bind(null,t),t.nc.Wo=Yu.bind(null,t.eventManager),t.nc._c=Xu.bind(null,t.eventManager),t}function ic(e){var t=A(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=js.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xs.bind(null,t),t}function ac(e,t,n){var r=A(e);(function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,u,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=A(e),r=kr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(rs(i)),a=new ns(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,Ms(t,c.Bu,void 0);case 31:return e.next=33,function(e,t){var n=A(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(T("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var oc=function(){function e(){Object(d.a)(this,e),this.synchronizeTabs=!1}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Wo(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return uo(this.persistence,new ao,e.initialUser,this.It)}},{key:"gc",value:function(e){return new $a(Ya.Bs,this.It)}},{key:"mc",value:function(e){return new Mo}},{key:"terminate",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uc=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(p.a)(n,[{key:"initialize",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,ic(this.Ec.syncEngine);case 6:return e.next=8,yu(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return uo(this.persistence,new ao,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new xa(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Ce(t,this.persistence);return new Ee(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=ro(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new eo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bo(),zo(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new Mo}}]),n}(oc),sc=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(p.a)(n,[{key:"initialize",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var r,o=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Do,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Hs.bind(null,r),$r:Zs.bind(null,r),Br:tc.bind(null,r),vi:Js.bind(null,r),Or:zs.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(o.Ec.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start():t||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(t&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():t||o.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=Bo();if(!Do.C(t))throw new D(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ro(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Do(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uc),cc=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Os(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fs.bind(null,this.syncEngine),e.next=12,Du(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Hu}},{key:"createDatastore",value:function(e){var t,n=Wo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new qo(t));return function(e,t,n,r){return new Qo(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Os(o.syncEngine,e,0)},a=Fo.C()?new Fo:new Lo,new Xo(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new cs(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A(t),E("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,eu(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(c.a)(Object(s.a)().mark((function r(){var i;return Object(s.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fc=function(){function e(t){Object(d.a)(this,e),this.observer=t,this.muted=!1}return Object(p.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):C("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hc=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.bc=t,this.It=n,this.metadata=new M,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(p.a)(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n,r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new es(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dc=function(){function e(t){Object(d.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(p.a)(e,[{key:"lookup",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n,r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new D(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a,o,u,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=Tr(r.It)+"/documents",a={documents:n.map((function(e){return _r(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Pr(r.It,e);u.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());N(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t,n=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ne.fromPath(t);n.mutations.push(new Bn(r,n.precondition(r)))})),e.next=7,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A(t),i=Tr(r.It)+"/documents",a={writes:n.map((function(e){return Ar(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw I();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new D(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(X.min())?En.exists(!1):En.updateTime(t):En.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new D(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(t)}return En.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pc=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new Ho(this.asyncQueue,"transaction_retry")}return Object(p.a)(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(Object(c.a)(Object(s.a)().mark((function t(){var n,r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dc(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ye(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wn(t)}return!1}}]),e}(),vc=function(){function e(t,n,r,i){var a=this;Object(d.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=k.UNAUTHENTICATED,this.clientId=K.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return E("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Object(p.a)(e,[{key:"getConfiguration",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(c.a)(Object(s.a)().mark((function n(){var r;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vu(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function mc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,so(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function gc(e,t){return yc.apply(this,arguments)}function yc(){return(yc=Object(c.a)(Object(s.a)().mark((function e(t,n){var r,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Oc(t);case 3:return r=e.sent,E("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Au(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Au(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e){return kc.apply(this,arguments)}function kc(){return(kc=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return E("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,mc(t,new oc);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e){return jc.apply(this,arguments)}function jc(){return(jc=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return E("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gc(t,new cc);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e){return Oc(e).then((function(e){return e.persistence}))}function xc(e){return Oc(e).then((function(e){return e.localStore}))}function Ec(e){return wc(e).then((function(e){return e.remoteStore}))}function Cc(e){return wc(e).then((function(e){return e.syncEngine}))}function Tc(e){return Sc.apply(this,arguments)}function Sc(){return(Sc=Object(c.a)(Object(s.a)().mark((function e(t){var n,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ls.bind(null,n.syncEngine),r.onUnlisten=ps.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function i(){return Object(s.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fc({next:function(a){t.enqueueAndForget((function(){return $u(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new D(R.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new D(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Zu(Gt(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Ku(e,o)},i.next=3,Tc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Nc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function i(){return Object(s.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fc({next:function(n){t.enqueueAndForget((function(){return $u(e,o)})),n.fromCache&&"server"===r.source?i.reject(new D(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Zu(n,a,{includeMetadataChanges:!0,Nu:!0});return Ku(e,o)},i.next=3,Tc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Pc=new Map;function Ac(e,t,n){if(!n)throw new D(R.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rc(e,t,n,r){if(!0===t&&!0===r)throw new D(R.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Dc(e){if(!ne.isDocumentKey(e))throw new D(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mc(e){if(ne.isDocumentKey(e))throw new D(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":I()}function Fc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lc(e);throw new D(R.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Uc(e,t){if(t<=0)throw new D(R.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vc=function(){function e(t){var n;if(Object(d.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new D(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new D(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Rc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qc=function(){function e(t,n,r,i){Object(d.a)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vc({}),this._settingsFrozen=!1}return Object(p.a)(e,[{key:"app",get:function(){if(!this._app)throw new D(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new D(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"gapi":var t=e.client;return new B(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Pc.get(e);t&&(E("ComponentProvider","Removing Datastore"),Pc.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bc(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Fc(e,qc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&T("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=k.MOCK_USER;else{o=Object(g.n)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new D(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new k(s)}e._authCredentials=new U(new L(o,u))}}var zc=function(){function e(t,n,r){Object(d.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(p.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wc=function(){function e(t,n,r){Object(d.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(p.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hc=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this,e,r,Gt(i)))._path=i,a.type="collection",a}return Object(p.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zc(this.firestore,null,new ne(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wc);function Kc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(g.v)(e),Ac("collection","path",t),e instanceof qc){var a=Z.fromString.apply(Z,[t].concat(r));return Mc(a),new Hc(e,null,a)}if(!(e instanceof zc||e instanceof Hc))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Z.fromString.apply(Z,[t].concat(r)));return Mc(o),new Hc(e.firestore,null,o)}function Gc(e,t){if(e=Fc(e,qc),Ac("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new D(R.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Wc(e,null,function(e){return new Ht(Z.emptyPath(),e)}(t))}function $c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(g.v)(e),1===arguments.length&&(t=K.R()),Ac("doc","path",t),e instanceof qc){var a=Z.fromString.apply(Z,[t].concat(r));return Dc(a),new zc(e,null,new ne(a))}if(!(e instanceof zc||e instanceof Hc))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Z.fromString.apply(Z,[t].concat(r)));return Dc(o),new zc(e.firestore,e instanceof Hc?e.converter:null,new ne(o))}function Qc(e,t){return e=Object(g.v)(e),t=Object(g.v)(t),(e instanceof zc||e instanceof Hc)&&(t instanceof zc||t instanceof Hc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yc(e,t){return e=Object(g.v)(e),t=Object(g.v)(t),e instanceof Wc&&t instanceof Wc&&e.firestore===t.firestore&&tn(e._query,t._query)&&e.converter===t.converter}var Xc=function(){function e(){var t=this;Object(d.a)(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ho(this,"async_queue_retry"),this.jc=function(){var e=zo();e&&E("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=zo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Object(p.a)(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=zo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new M;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ke(e.t0)){e.next=12;break}throw e.t0;case 12:E("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw C("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=Uu.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&I()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Object(c.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Object(u.a)(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(u.a)(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Jc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(u.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Zc=function(){function e(){Object(d.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(p.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),el=-1,tl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Xc,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Object(p.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||il(this),this._firestoreClient.terminate()}}]),n}(qc);function nl(e,t){var n="object"==typeof e?e:Object(v.getApp)(),r="string"==typeof e?e:t||"(default)";return Object(v._getProvider)(n,"firestore").getImmediate({identifier:r})}function rl(e){return e._firestoreClient||il(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function il(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new $e(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function al(e,t){pl(e=Fc(e,tl));var n=rl(e),r=e._freezeSettings(),i=new cc;return ul(n,i,new uc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ol(e){pl(e=Fc(e,tl));var t=rl(e),n=e._freezeSettings(),r=new cc;return ul(t,r,new sc(r,n.cacheSizeBytes))}function ul(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(c.a)(Object(s.a)().mark((function i(){var a;return Object(s.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,mc(e,n);case 3:return i.next=5,gc(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:T("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sl(e){if(e._initialized&&!e._terminated)throw new D(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(c.a)(Object(s.a)().mark((function n(){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ge.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ro(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function cl(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function n(){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Cs,n.next=3,Cc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rl(e=Fc(e,tl)))}function ll(e){return function(e){return e.asyncQueue.enqueue(Object(c.a)(Object(s.a)().mark((function t(){var n,r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_c(e);case 2:return n=t.sent,t.next=5,Ec(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=A(e);return t._u.delete(0),Jo(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(rl(e=Fc(e,tl)))}function fl(e){return function(e){return e.asyncQueue.enqueue(Object(c.a)(Object(s.a)().mark((function t(){var n,r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_c(e);case 2:return n=t.sent,t.next=5,Ec(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=A(t))._u.add(0),e.next=4,eu(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(rl(e=Fc(e,tl)))}function hl(e,t){var n=rl(e=Fc(e,tl)),r=new Zc;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hc(e,t)}(function(e,t){if(e instanceof Uint8Array)return lc(e,t);if(e instanceof ArrayBuffer)return lc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Wo(t));e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ac,t.next=3,Cc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dl(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(c.a)(Object(s.a)().mark((function n(){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=A(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,xc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(rl(e=Fc(e,tl)),t).then((function(t){return t?new Wc(e,null,t.query):null}))}function pl(e){if(e._initialized||e._terminated)throw new D(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vl=function(){function e(){Object(d.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new D(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new te(n)}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ml=function(){function e(t){Object(d.a)(this,e),this._byteString=t}return Object(p.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ve.fromBase64String(t))}catch(t){throw new D(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ve.fromUint8Array(t))}}]),e}(),bl=Object(p.a)((function e(t){Object(d.a)(this,e),this._methodName=t})),gl=function(){function e(t,n){if(Object(d.a)(this,e),!isFinite(t)||t<-90||t>90)throw new D(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new D(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(p.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return G(this._lat,e._lat)||G(this._long,e._long)}}]),e}(),yl=/^__.*__$/,Ol=function(){function e(t,n,r){Object(d.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(p.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rn(e,this.data,t,this.fieldTransforms)}}]),e}(),kl=function(){function e(t,n,r){Object(d.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(p.a)(e,[{key:"toMutation",value:function(e,t){return new Dn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function wl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw I()}}var jl=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(p.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return zl(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(wl(this.na)&&yl.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),_l=function(){function e(t,n,r){Object(d.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Wo(t)}return Object(p.a)(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jl({na:e,methodName:t,la:n,path:te.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function xl(e){var t=e._freezeSettings(),n=Wo(e._databaseId);return new _l(e._databaseId,!!t.ignoreUndefinedProperties,n)}function El(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);Ul("Data must be an object, but it was:",o,r);var s,c,l=Ll(r,o);if(a.merge)s=new Fe(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(u.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Vl(t,p,n);if(!o.contains(v))throw new D(R.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Wl(h,v)||h.push(v)}}catch(m){d.e(m)}finally{d.f()}s=new Fe(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new Ol(new Ot(l),s,c)}var Cl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bl);function Tl(e,t,n){return new jl({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Sl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"_toFieldTransform",value:function(e){return new _n(e.path,new mn)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bl),Il=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e)).da=r,i}return Object(p.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Tl(this,e,!0),n=this.da.map((function(e){return Ml(e,t)})),r=new bn(n);return new _n(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bl),Nl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e)).da=r,i}return Object(p.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Tl(this,e,!0),n=this.da.map((function(e){return Ml(e,t)})),r=new yn(n);return new _n(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bl),Pl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e))._a=r,i}return Object(p.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new kn(e.It,fn(e.It,this._a));return new _n(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bl);function Al(e,t,n,r){var i=e.fa(1,t,n);Ul("Data must be an object, but it was:",i,r);var a=[],o=Ot.empty();Ie(r,(function(e,r){var u=Bl(t,e,n);r=Object(g.v)(r);var s=i.ua(u);if(r instanceof Cl)a.push(u);else{var c=Ml(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Fe(a);return new kl(o,u,i.fieldTransforms)}function Rl(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[Vl(t,r,n)],s=[i];if(a.length%2!=0)throw new D(R.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Vl(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ot.empty(),h=u.length-1;h>=0;--h)if(!Wl(l,u[h])){var d=u[h],p=s[h];p=Object(g.v)(p);var v=o.ua(d);if(p instanceof Cl)l.push(d);else{var m=Ml(p,v);null!=m&&(l.push(d),f.set(d,m))}}var b=new Fe(l);return new kl(f,b,o.fieldTransforms)}function Dl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ml(n,e.fa(r?4:3,t))}function Ml(e,t){if(Fl(e=Object(g.v)(e)))return Ul("Unsupported field value:",t,e),Ll(e,t);if(e instanceof bl)return function(e,t){if(!wl(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(u.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Ml(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(g.v)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fn(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Y.fromDate(e);return{timestampValue:gr(t.It,n)}}if(e instanceof Y){var r=new Y(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gr(t.It,r)}}if(e instanceof gl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ml)return{bytesValue:yr(t.It,e._byteString)};if(e instanceof zc){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(Lc(e)))}(e,t)}function Ll(e,t){var n={};return Ne(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ie(e,(function(e,r){var i=Ml(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Y||e instanceof gl||e instanceof ml||e instanceof zc||e instanceof bl)}function Ul(e,t,n){if(!Fl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Lc(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function Vl(e,t,n){if((t=Object(g.v)(t))instanceof vl)return t._internalPath;if("string"==typeof t)return Bl(e,t);throw zl("Field path arguments must be of type string or ",e,!1,void 0,n)}var ql=new RegExp("[~\\*/\\[\\]]");function Bl(e,t,n){if(t.search(ql)>=0)throw zl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(vl,Object(h.a)(t.split(".")))._internalPath}catch(i){throw zl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zl(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new D(R.INVALID_ARGUMENT,u+e+s)}function Wl(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hl=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(p.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zc(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Hl);function Gl(e,t){return"string"==typeof t?Bl(e,t):t instanceof vl?t._internalPath:t._delegate._internalPath}var $l=function(){function e(t,n){Object(d.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ql=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i,a,o,u){var s;return Object(d.a)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(p.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Hl),Yl=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(Ql),Xl=function(){function e(t,n,r,i){Object(d.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}return Object(p.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yl(n._firestore,n._userDataWriter,r.key,r,new $l(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Yl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $l(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $l(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jl(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Jl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return I()}}function Zl(e,t){return e instanceof Ql&&t instanceof Ql?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xl&&t instanceof Xl&&e._firestore===t._firestore&&Yc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ef(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tf=Object(p.a)((function e(){Object(d.a)(this,e)}));function nf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rf=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Object(p.a)(n,[{key:"_apply",value:function(e){var t=xl(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new D(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yf(o,a);var c,l=[],f=Object(u.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(gf(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=gf(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yf(o,a),s=Dl(n,"where",o,"in"===a||"not-in"===a);var d=Nt.create(i,a,s);return function(e,t){if(t.dt()){var n=Yt(e);if(null!==n&&!n.isEqual(t.field))throw new D(R.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Qt(e);null!==r&&Of(e,t.field,r)}var i=function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new D(R.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(R.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Wc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tf);function af(e,t,n){var r=t,i=Gl("where",e);return new rf(i,r,n)}var of=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Object(p.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new D(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qt(t,n);return function(e,t){if(null===Qt(e)){var n=Yt(e);null!==n&&Of(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Wc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ht(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tf);function uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Gl("orderBy",e);return new of(r,n)}var sf=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Object(p.a)(n,[{key:"_apply",value:function(e){return new Wc(e.firestore,e.converter,en(e._query,this.pa,this.Ia))}}]),n}(tf);function cf(e){return Uc("limit",e),new sf("limit",e,"F")}function lf(e){return Uc("limitToLast",e),new sf("limitToLast",e,"L")}var ff=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Object(p.a)(n,[{key:"_apply",value:function(e){var t=bf(e,this.type,this.Ta,this.Ea);return new Wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tf);function hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ff("startAt",t,!0)}function df(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ff("startAfter",t,!1)}var pf=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r,i){var a;return Object(d.a)(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Object(p.a)(n,[{key:"_apply",value:function(e){var t=bf(e,this.type,this.Ta,this.Ea);return new Wc(e.firestore,e.converter,function(e,t){return new Ht(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tf);function vf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pf("endBefore",t,!1)}function mf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pf("endAt",t,!0)}function bf(e,t,n,r){if(n[0]=Object(g.v)(n[0]),n[0]instanceof Hl)return function(e,t,n,r,i){if(!r)throw new D(R.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Object(u.a)(Jt(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(st(t,r.key));else{var l=r.data.field(c.field);if(He(l))throw new D(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new D(R.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Vt(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xl(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new D(R.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new D(R.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Xt(e)&&-1!==c.indexOf("/"))throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Z.fromString(c));if(!ne.isDocumentKey(l))throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ne(l);u.push(st(t,f))}else{var h=Dl(n,r,c);u.push(h)}}return new Vt(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function gf(e,t,n){if("string"==typeof(n=Object(g.v)(n))){if(""===n)throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xt(t)&&-1!==n.indexOf("/"))throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Z.fromString(n));if(!ne.isDocumentKey(r))throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return st(e,new ne(r))}if(n instanceof zc)return st(e,n._key);throw new D(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lc(n),"."))}function yf(e,t){if(!Array.isArray(e)||0===e.length)throw new D(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new D(R.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Of(e,t,n){if(!n.isEqual(t))throw new D(R.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var kf={maxAttempts:5},wf=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(We(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw I()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ie(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gl(ze(e.latitude),ze(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ke(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ge(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Be(e);return new Y(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Z.fromString(e);N(Kr(n));var r=new Qe(n.get(1),n.get(3)),i=new ne(n.popFirst(5));return r.isEqual(t)||C("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _f=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(p.a)(n,[{key:"convertBytes",value:function(e){return new ml(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zc(this.firestore,null,t)}}]),n}(wf),xf=function(){function e(t,n){Object(d.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xl(t)}return Object(p.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ef(e,this._firestore),i=jf(r.converter,t,n),a=El(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,En.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ef(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(g.v)(t))||t instanceof vl?Rl(this._dataReader,"WriteBatch.update",i._key,t,n,o):Al(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,En.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ef(e,this._firestore);return this._mutations=this._mutations.concat(new qn(t._key,En.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new D(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ef(e,t){if((e=Object(g.v)(e)).firestore!==t)throw new D(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Cf(e){e=Fc(e,zc);var t=Fc(e.firestore,tl);return Ic(rl(t),e._key).then((function(n){return qf(t,e,n)}))}var Tf=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(p.a)(n,[{key:"convertBytes",value:function(e){return new ml(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zc(this.firestore,null,t)}}]),n}(wf);function Sf(e){e=Fc(e,zc);var t=Fc(e.firestore,tl),n=rl(t),r=new Tf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function r(){return Object(s.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=A(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new D(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vu(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,xc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ql(t,r,e._key,n,new $l(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function If(e){e=Fc(e,zc);var t=Fc(e.firestore,tl);return Ic(rl(t),e._key,{source:"server"}).then((function(n){return qf(t,e,n)}))}function Nf(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=rl(t),r=new Tf(t);return ef(e._query),Nc(n,e._query).then((function(n){return new Xl(t,r,e,n)}))}function Pf(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=rl(t),r=new Tf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function r(){return Object(s.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(c.a)(Object(s.a)().mark((function e(t,n,r){var i,a,o,u,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo(t,n,!0);case 3:i=e.sent,a=new os(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=Vu(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,xc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Xl(t,r,e,n)}))}function Af(e){e=Fc(e,Wc);var t=Fc(e.firestore,tl),n=rl(t),r=new Tf(t);return Nc(n,e._query,{source:"server"}).then((function(n){return new Xl(t,r,e,n)}))}function Rf(e,t,n){e=Fc(e,zc);var r=Fc(e.firestore,tl),i=jf(e.converter,t,n);return Vf(r,[El(xl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,En.none())])}function Df(e,t,n){e=Fc(e,zc);for(var r=Fc(e.firestore,tl),i=xl(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Vf(r,[("string"==typeof(t=Object(g.v)(t))||t instanceof vl?Rl(i,"updateDoc",e._key,t,n,o):Al(i,"updateDoc",e._key,t)).toMutation(e._key,En.exists(!0))])}function Mf(e){return Vf(Fc(e.firestore,tl),[new qn(e._key,En.none())])}function Lf(e,t){var n=Fc(e.firestore,tl),r=$c(e),i=jf(e.converter,t);return Vf(n,[El(xl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,En.exists(!1))]).then((function(){return r}))}function Ff(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(g.v)(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Jc(n[l])||(u=n[l],l++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(Jc(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof zc)h=Fc(e.firestore,tl),d=Gt(e._key.path),f={next:function(t){n[l]&&n[l](qf(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=Fc(e,Wc);h=Fc(m.firestore,tl),d=m._query;var b=new Tf(h);f={next:function(e){n[l]&&n[l](new Xl(h,b,m,e))},error:n[l+1],complete:n[l+2]},ef(e._query)}return function(e,t,n,r){var i=new fc(r),a=new Zu(t,i,n);return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ku,t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$u,t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rl(h),d,p,f)}function Uf(e,t){return function(e,t){var n=new fc(t);return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){A(e).Ru.add(t),t.next()},t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){A(e).Ru.delete(t)},t.next=3,Tc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rl(e=Fc(e,tl)),Jc(t)?t:{next:t})}function Vf(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function r(){return Object(s.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ms,r.next=3,Cc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rl(e),t)}function qf(e,t,n){var r=n.docs.get(t._key),i=new Tf(e);return new Ql(e,i,t._key,r,new $l(n.hasPendingWrites,n.fromCache),t.converter)}var Bf=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(p.a)(n,[{key:"get",value:function(e){var t=this,r=Ef(e,this._firestore),o=new Tf(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Ql(t._firestore,o,r._key,e._document,new $l(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(d.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=xl(t)}return Object(p.a)(e,[{key:"get",value:function(e){var t=this,n=Ef(e,this._firestore),r=new _f(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return I();var i=e[0];if(i.isFoundDocument())return new Hl(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Hl(t._firestore,r,n._key,null,n.converter);throw I()}))}},{key:"set",value:function(e,t,n){var r=Ef(e,this._firestore),i=jf(r.converter,t,n),a=El(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ef(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(g.v)(t))||t instanceof vl?Rl(this._dataReader,"Transaction.update",i._key,t,n,o):Al(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ef(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zf(e,t,n){e=Fc(e,tl);var r=Object.assign(Object.assign({},kf),n);return function(e){if(e.maxAttempts<1)throw new D(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new M;return e.asyncQueue.enqueueAndForget(Object(c.a)(Object(s.a)().mark((function i(){var a;return Object(s.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return wc(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new pc(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(rl(e),(function(n){return t(new Bf(e,n))}),r)}function Wf(){return new Cl("deleteField")}function Hf(){return new Sl("serverTimestamp")}function Kf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Il("arrayUnion",t)}function Gf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nl("arrayRemove",t)}function $f(e){return new Pl("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){w=e}(v.SDK_VERSION),Object(v._registerComponent)(new m.a("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new tl(new V(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qe(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Object(v.registerVersion)(O,"3.5.0",e),Object(v.registerVersion)(O,"3.5.0","esm2017")}()}).call(this,n(100))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ea})),n.d(t,"b",(function(){return ta})),n.d(t,"c",(function(){return Dt})),n.d(t,"d",(function(){return aa})),n.d(t,"e",(function(){return Za})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return pi})),n.d(t,"h",(function(){return vi})),n.d(t,"i",(function(){return ca})),n.d(t,"j",(function(){return io})),n.d(t,"k",(function(){return uo})),n.d(t,"l",(function(){return Ta})),n.d(t,"m",(function(){return Ia})),n.d(t,"n",(function(){return $a})),n.d(t,"o",(function(){return ro})),n.d(t,"p",(function(){return no})),n.d(t,"q",(function(){return ma})),n.d(t,"r",(function(){return ao})),n.d(t,"s",(function(){return oo})),n.d(t,"t",(function(){return lo})),n.d(t,"u",(function(){return Ma})),n.d(t,"v",(function(){return Fa})),n.d(t,"w",(function(){return xa})),n.d(t,"x",(function(){return ka})),n.d(t,"y",(function(){return wa})),n.d(t,"z",(function(){return ja})),n.d(t,"A",(function(){return _a})),n.d(t,"B",(function(){return Oa})),n.d(t,"C",(function(){return Va})),n.d(t,"D",(function(){return Ba})),n.d(t,"E",(function(){return Wa})),n.d(t,"F",(function(){return Ka})),n.d(t,"G",(function(){return la})),n.d(t,"H",(function(){return Qa})),n.d(t,"I",(function(){return ua})),n.d(t,"J",(function(){return sa})),n.d(t,"K",(function(){return fa})),n.d(t,"L",(function(){return ho})),n.d(t,"M",(function(){return co})),n.d(t,"N",(function(){return ha})),n.d(t,"O",(function(){return da})),n.d(t,"P",(function(){return pa})),n.d(t,"Q",(function(){return Ra})),n.d(t,"R",(function(){return Pa})),n.d(t,"S",(function(){return va}));var r=n(1),i=n(9),a=n(6),o=n(41),u=n(12),s=n(13),c=n(15),l=n(10),f=n(3),h=n(4),d=n(16),p=n(20),v=n(2),m=n(24),b="@firebase/database",g="0.13.6",y="";function O(e){y=e}var k=function(){function e(t){Object(f.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(h.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(v.R)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(v.K)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),w=function(){function e(){Object(f.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(h.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(v.m)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),j=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new k(t)}}catch(n){}return new w},_=j("localStorage"),x=j("sessionStorage"),E=new m.b("@firebase/database"),C=function(){var e=1;return function(){return e++}}(),T=function(e){var t=Object(v.Q)(e),n=new v.d;n.update(t);var r=n.digest();return v.h.encodeByteArray(r)},S=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(v.R)(r):r,t+=" "}return t},I=null,N=!0,P=function(e,t){Object(v.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(E.logLevel=m.a.VERBOSE,I=E.log.bind(E),t&&x.set("logging_enabled",!0)):"function"===typeof e?I=e:(I=null,x.remove("logging_enabled"))},A=function(){if(!0===N&&(N=!1,null===I&&!0===x.get("logging_enabled")&&P(!0)),I){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=S.apply(null,t);I(r)}},R=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];A.apply(void 0,[e].concat(n))}},D=function(){var e="FIREBASE INTERNAL ERROR: "+S.apply(void 0,arguments);E.error(e)},M=function(){var e="FIREBASE FATAL ERROR: ".concat(S.apply(void 0,arguments));throw E.error(e),new Error(e)},L=function(){var e="FIREBASE WARNING: "+S.apply(void 0,arguments);E.warn(e)},F=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},U="[MIN_NAME]",V="[MAX_NAME]",q=function(e,t){if(e===t)return 0;if(e===U||t===V)return-1;if(t===U||e===V)return 1;var n=X(e),r=X(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},B=function(e,t){return e===t?0:e<t?-1:1},z=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(v.R)(t))},W=function e(t){if("object"!==typeof t||null===t)return Object(v.R)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(v.R)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function K(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var G=function(e){Object(v.f)(!F(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),Q=-2147483648,Y=2147483647,X=function(e){if($.test(e)){var t=Number(e);if(t>=Q&&t<=Y)return t}return null},J=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw L("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Z=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},ee=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Object(h.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){L('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),te=function(){function e(t,n,r){var i=this;Object(f.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Object(h.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(A("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',L(e)}}]),e}(),ne=function(){function e(t){Object(f.a)(this,e),this.accessToken=t}return Object(h.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ne.OWNER="owner";var re="5",ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="websocket",oe="long_polling",ue=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(f.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_.get("host:"+t)||this._host}return Object(h.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function se(e,t,n){var r;if(Object(v.f)("string"===typeof t,"typeof type must == string"),Object(v.f)("object"===typeof n,"typeof params must == object"),t===ae)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==oe)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return K(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ce=function(){function e(){Object(f.a)(this,e),this.counters_={}}return Object(h.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(v.m)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(v.p)(this.counters_)}}]),e}(),le={},fe={};function he(e){var t=e.toString();return le[t]||(le[t]=new ce),le[t]}var de=function(){function e(t){Object(f.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(h.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&J((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),pe="start",ve="close",me=function(){function e(t,n,r,i,a,o,u){var s=this;Object(f.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R(t),this.stats_=he(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),se(n,oe,e)}}return Object(h.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new de(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(v.F)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new be((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===pe)n.id=a,n.password=o;else{if(i!==ve)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=re,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(v.R)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(v.j)(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(v.F)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(v.R)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(v.F)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),be=function(){function e(t,n,r,i){if(Object(f.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(v.F)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){A("frame writing exception"),u.stack&&A(u.stack),A(u)}}}return Object(h.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Object(v.F)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){A("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||A("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ge=null;"undefined"!==typeof MozWebSocket?ge=MozWebSocket:"undefined"!==typeof WebSocket&&(ge=WebSocket);var ye=function(){function t(e,n,r,i,a,o,u){Object(f.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R(this.connId),this.stats_=he(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(h.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_.set("previous_websocket_failure",!0);try{var i;if(Object(v.F)()){var a=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":"Firebase/".concat(re,"/").concat(y,"/").concat(e.platform,"/").concat(a),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(i.proxy={origin:u})}this.mySock=new ge(this.connURL,[],i)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){_.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(v.K)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(v.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(v.R)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=re,!Object(v.F)()&&"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),se(e,ae,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ge&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return _.isInMemoryStorage||!0===_.get("previous_websocket_failure")}}]),t}();ye.responsesRequiredToBeHealthy=2,ye.healthyTimeout=3e4;var Oe=function(){function e(t){Object(f.a)(this,e),this.initTransports_(t)}return Object(h.a)(e,[{key:"initTransports_",value:function(t){var n=ye&&ye.isAvailable(),r=n&&!ye.previouslyFailed();if(t.webSocketOnly&&(n||L("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ye];else{var i,a=this.transports_=[],o=Object(l.a)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[me,ye]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Oe.globalTransportInitialized_=!1;var ke=function(){function e(t,n,r,i,a,o,u,s,c,l){Object(f.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R("c:"+this.id+":"),this.transportManager_=new Oe(n),this.log_("Connection created"),this.start_()}return Object(h.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=z("t",e),n=z("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=z("t",e),n=z("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=z("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?D("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),re!==n&&L("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),we=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),je=function(){function e(t){Object(f.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(v.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(h.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(c.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(v.f)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),_e=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(v.D)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(h.a)(n,[{key:"getInitialEvent",value:function(e){return Object(v.f)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),xe=function(){function e(t,n){if(Object(f.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(h.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ee(){return new xe("")}function Ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Te(e){return e.pieces_.length-e.pieceNum_}function Se(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new xe(e.pieces_,t)}function Ie(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new xe(t,0)}function Ae(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof xe)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new xe(n,0)}function Re(e){return e.pieceNum_>=e.pieces_.length}function De(e,t){var n=Ce(e),r=Ce(t);if(null===n)return t;if(n===r)return De(Se(e),Se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Me(e,t){for(var n=Ne(e,0),r=Ne(t,0),i=0;i<n.length&&i<r.length;i++){var a=q(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Le(e,t){if(Te(e)!==Te(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Fe(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Te(e)>Te(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ue=Object(h.a)((function e(t,n){Object(f.a)(this,e),this.errorPrefix_=n,this.parts_=Ne(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(v.P)(this.parts_[r]);Ve(this)}));function Ve(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qe(e))}function qe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Be=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e,r,i;return Object(f.a)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Object(h.a)(n,[{key:"getInitialEvent",value:function(e){return Object(v.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),ze=1e3,We=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,a,u,s,c,l){var h;if(Object(f.a)(this,n),(h=t.call(this)).repoInfo_=e,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=u,h.authTokenProvider_=s,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=n.nextPersistentConnectionId_++,h.log_=R("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=ze,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(v.F)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Be.getInstance().on("visible",h.onVisible_,Object(o.a)(h)),-1===e.host.indexOf("fblocal")&&_e.getInstance().on("online",h.onOnline_,Object(o.a)(h)),h}return Object(h.a)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(v.R)(i)),Object(v.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new v.a,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(v.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(v.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(v.x)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(v.I)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(v.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(v.R)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):D("Unrecognized action received from server: "+Object(v.R)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(v.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ze),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t,a,o,u,s,c,l,f,h,d,p,m,b,g,y=this;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,o())},h=function(e){Object(v.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,m=Object(i.a)(p,2),b=m[0],g=m[1],c?A("getToken() completed but was canceled"):(A("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=g&&g.token,l=new ke(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,a,o,(function(e){L(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&L(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){A("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){A("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(v.A)(this.interruptReasons_)&&(this.reconnectDelay_=ze,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return W(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new xe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){A("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){A("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Object(l.a)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=Object(l.a)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(v.F)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+y.replace(/\./g,"-")]=1,Object(v.D)()?e["framework.cordova"]=1:Object(v.G)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=_e.getInstance().currentlyOnline();return Object(v.A)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(v.m)(e,"w")){var n=Object(v.O)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();L("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(we);We.nextPersistentConnectionId_=0,We.nextConnectionId_=0;var He,Ke=function(){function e(t,n){Object(f.a)(this,e),this.name=t,this.node=n}return Object(h.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ge=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ke(U,e),r=new Ke(U,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ke.MIN}}]),e}(),$e=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"compare",value:function(e,t){return q(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(v.g)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ke.MIN}},{key:"maxPost",value:function(){return new Ke(V,He)}},{key:"makePost",value:function(e,t){return Object(v.f)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ke(e,He)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return He},set:function(e){He=e}}]),n}(Ge),Qe=new $e,Ye=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(f.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(h.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Xe=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:et.EMPTY_NODE,this.right=null!=a?a:et.EMPTY_NODE}return Object(h.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return et.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return et.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Xe.RED=!0,Xe.BLACK=!1;var Je,Ze=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xe(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),et=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(f.a)(this,e),this.comparator_=t,this.root_=n}return Object(h.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xe.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ye(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ye(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ye(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ye(this.root_,null,this.comparator_,!0,e)}}]),e}();function tt(e,t){return q(e.name,t.name)}function nt(e,t){return q(e,t)}et.EMPTY_NODE=new Ze;var rt,it,at,ot=function(e){return"number"===typeof e?"number:"+G(e):"string:"+e},ut=function(e){if(e.isLeafNode()){var t=e.val();Object(v.f)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(v.m)(t,".sv"),"Priority must be a string or number.")}else Object(v.f)(e===Je||e.isEmpty(),"priority of unexpected type.");Object(v.f)(e===Je||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},st=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(f.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(v.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ut(this.priorityNode_)}return Object(h.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Re(t)?this:".priority"===Ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Ce(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(v.f)(".priority"!==r||1===Te(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ot(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?G(this.value_):this.value_,this.lazyHash_=T(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(v.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(v.f)(i>=0,"Unknown leaf type: "+n),Object(v.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return rt},set:function(e){rt=e}}]),e}();st.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ct,lt,ft=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ke.MIN}},{key:"maxPost",value:function(){return new Ke(V,new st("[PRIORITY-POST]",at))}},{key:"makePost",value:function(e,t){var n=it(e);return new Ke(t,new st("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ge),ht=new ft,dt=Math.log(2),pt=function(){function e(t){Object(f.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/dt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(h.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),vt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Xe(o,a.node,Xe.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new Xe(o,a.node,Xe.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new Xe(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,Xe.BLACK):(u(f,Xe.BLACK),u(f,Xe.RED))}return a}(new pt(e.length));return new et(r||t,a)},mt={},bt=function(){function e(t,n){Object(f.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(h.a)(e,[{key:"get",value:function(e){var t=Object(v.O)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof et?t:null}},{key:"hasIndex",value:function(e){return Object(v.m)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(v.f)(t!==Qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ke.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?vt(i,t.getCompare()):mt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(v.L)(this.indexes_,(function(e,i){var a=Object(v.O)(r.indexSet_,i);if(Object(v.f)(a,"Missing index implementation for "+i),e===mt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Ke.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),vt(o,a.getCompare())}return mt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ke(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(v.L)(this.indexes_,(function(e){if(e===mt)return e;var r=n.get(t.name);return r?e.remove(new Ke(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Object(v.f)(mt&&ht,"ChildrenNode.ts has not been loaded"),ct=ct||new e({".priority":mt},{".priority":ht})}}]),e}(),gt=function(){function e(t,n,r){Object(f.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ut(this.priorityNode_),this.children_.isEmpty()&&Object(v.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(h.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||lt}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?lt:t}},{key:"getChild",value:function(e){var t=Ce(e);return null===t?this:this.getImmediateChild(t).getChild(Se(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(v.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ke(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?lt:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Ce(e);if(null===n)return t;Object(v.f)(".priority"!==Ce(e)||1===Te(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Se(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ht,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ot(this.getPriority().val())+":"),this.forEachChild(ht,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":T(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ke(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ke(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ke(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yt?-1:0}},{key:"withIndex",value:function(t){if(t===Qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Qe||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ht),r=t.getIterator(ht),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Qe?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return lt||(lt=new e(new et(nt),null,bt.Default))}}]),e}();gt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yt=new(function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.call(this,new et(nt),gt.EMPTY_NODE,bt.Default)}return Object(h.a)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return gt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(gt));Object.defineProperties(Ke,{MIN:{value:new Ke(U,gt.EMPTY_NODE)},MAX:{value:new Ke(V,yt)}}),$e.__EMPTY_NODE=gt.EMPTY_NODE,st.__childrenNodeConstructor=gt,Je=yt,function(e){at=e}(yt);function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return gt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(v.f)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new st(n,Ot(t))}if(e instanceof Array){var r=gt.EMPTY_NODE;return K(e,(function(t,n){if(Object(v.m)(e,t)&&"."!==t.substring(0,1)){var i=Ot(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ot(t))}var i=[],a=!1,o=e;if(K(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ot(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ke(e,n)))}})),0===i.length)return gt.EMPTY_NODE;var u=vt(i,tt,(function(e){return e.name}),nt);if(a){var s=vt(i,ht.getCompare());return new gt(u,Ot(t),new bt({".priority":s},{".priority":ht}))}return new gt(u,Ot(t),bt.Default)}!function(e){it=e}(Ot);var kt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this)).indexPath_=e,Object(v.f)(!Re(e)&&".priority"!==Ce(e),"Can't create PathIndex with empty path or .priority key"),r}return Object(h.a)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ot(e),r=gt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ke(t,r)}},{key:"maxPost",value:function(){var e=gt.EMPTY_NODE.updateChild(this.indexPath_,yt);return new Ke(V,e)}},{key:"toString",value:function(){return Ne(this.indexPath_,0).join("/")}}]),n}(Ge),wt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?q(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ke.MIN}},{key:"maxPost",value:function(){return Ke.MAX}},{key:"makePost",value:function(e,t){var n=Ot(e);return new Ke(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ge),jt=new wt,_t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=_t.charAt(n%64),n=Math.floor(n/64);Object(v.f)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=_t.charAt(t[r]);return Object(v.f)(20===o.length,"nextPushId: Length should be 20."),o}}(),Et=function(e){if("2147483647"===e)return"-";var t=X(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return V;var a=n[i],o=_t.charAt(_t.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},Ct=function(e){if("-2147483648"===e)return U;var t=X(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=_t.charAt(_t.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Tt(e){return{type:"value",snapshotNode:e}}function St(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function It(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Pt=function(){function e(t){Object(f.a)(this,e),this.index_=t}return Object(h.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(v.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(It(t,o)):Object(v.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(St(t,n)):a.trackChildChange(Nt(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ht,(function(e,r){t.hasChild(e)||n.trackChildChange(It(e,r))})),t.isLeafNode()||t.forEachChild(ht,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Nt(t,r,i))}else n.trackChildChange(St(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?gt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),At=function(){function e(t){Object(f.a)(this,e),this.indexedFilter_=new Pt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Object(h.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ke(t,n))||(n=gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=gt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(gt.EMPTY_NODE);var i=this;return t.forEachChild(ht,(function(e,t){i.matches(new Ke(e,t))||(r=r.updateImmediateChild(e,gt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Rt=function(){function e(t){Object(f.a)(this,e),this.rangedFilter_=new At(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Object(h.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ke(t,n))||(n=gt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=gt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(gt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Object(v.f)(u.numChildren()===this.limit_,"");var s=new Ke(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Nt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(It(t,f));var p=u.updateImmediateChild(t,gt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(St(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(It(c.name,c.node)),i.trackChildChange(St(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,gt.EMPTY_NODE)):e}}]),e}(),Dt=function(){function e(){Object(f.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}return Object(h.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(v.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(v.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:U}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(v.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(v.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(v.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ht}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Mt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Lt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ft(e,t){var n=e.copy();return n.index_=t,n}function Ut(e){var t,n={};return e.isDefault()||(e.index_===ht?t="$priority":e.index_===jt?t="$value":e.index_===Qe?t="$key":(Object(v.f)(e.index_ instanceof kt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(v.R)(t),e.startSet_&&(n.startAt=Object(v.R)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(v.R)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(v.R)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(v.R)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Vt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ht&&(t.i=e.index_.toString()),t}var qt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,a){var o;return Object(f.a)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=R("p:rest:"),o.listens_={},o}return Object(h.a)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=Ut(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(v.O)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ut(e._queryParams),r=e._path.toString(),i=new v.a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var o=Object(i.a)(a,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(v.M)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(v.K)(l.responseText)}catch(n){L("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&L("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(v.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(we),Bt=function(){function e(){Object(f.a)(this,e),this.rootNode_=gt.EMPTY_NODE}return Object(h.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function zt(){return{value:null,children:new Map}}function Wt(e,t,n){if(Re(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ce(t);e.children.has(r)||e.children.set(r,zt()),Wt(e.children.get(r),t=Se(t),n)}}function Ht(e,t){if(Re(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ht,(function(t,n){Wt(e,new xe(t),n)})),Ht(e,t)}if(e.children.size>0){var r=Ce(t);if(t=Se(t),e.children.has(r))Ht(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Kt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Kt(r,new xe(t.toString()+"/"+e),n)}))}var Gt,$t=function(){function e(t){Object(f.a)(this,e),this.collection_=t,this.last_=null}return Object(h.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&K(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Qt=function(){function e(t,n){Object(f.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new $t(t);var r=1e4+2e4*Math.random();Z(this.reportStats_.bind(this),Math.floor(r))}return Object(h.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;K(t,(function(t,i){i>0&&Object(v.m)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Yt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gt||(Gt={}));var Xt,Jt=function(){function e(t,n,r){Object(f.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(h.a)(e,[{key:"operationForChild",value:function(t){if(Re(this.path)){if(null!=this.affectedTree.value)return Object(v.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new xe(t));return new e(Ee(),n,this.revert)}return Object(v.f)(Ce(this.path)===t,"operationForChild called for unrelated child."),new e(Se(this.path),this.affectedTree,this.revert)}}]),e}(),Zt=function(){function e(t,n){Object(f.a)(this,e),this.source=t,this.path=n,this.type=Gt.LISTEN_COMPLETE}return Object(h.a)(e,[{key:"operationForChild",value:function(t){return Re(this.path)?new e(this.source,Ee()):new e(this.source,Se(this.path))}}]),e}(),en=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}return Object(h.a)(e,[{key:"operationForChild",value:function(t){return Re(this.path)?new e(this.source,Ee(),this.snap.getImmediateChild(t)):new e(this.source,Se(this.path),this.snap)}}]),e}(),tn=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Gt.MERGE}return Object(h.a)(e,[{key:"operationForChild",value:function(t){if(Re(this.path)){var n=this.children.subtree(new xe(t));return n.isEmpty()?null:n.value?new en(this.source,Ee(),n.value):new e(this.source,Ee(),n)}return Object(v.f)(Ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Se(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),nn=function(){function e(t,n,r){Object(f.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(h.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ce(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),rn=Object(h.a)((function e(t){Object(f.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function an(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(v.g)("Should only compare child_ events.");var r=new Ke(t.childName,t.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function on(e,t){return{eventCache:e,serverCache:t}}function un(e,t,n,r){return on(new nn(t,n,r),e.serverCache)}function sn(e,t,n,r){return on(e.eventCache,new nn(t,n,r))}function cn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ln(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var fn=function(){return Xt||(Xt=new et(B)),Xt},hn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn();Object(f.a)(this,e),this.value=t,this.children=n}return Object(h.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ee(),value:this.value};if(Re(e))return null;var n=Ce(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Se(e),t);return null!=i?{path:Ae(new xe(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Re(t))return this;var n=Ce(t),r=this.children.get(n);return null!==r?r.subtree(Se(t)):new e(null)}},{key:"set",value:function(t,n){if(Re(t))return new e(n,this.children);var r=Ce(t),i=(this.children.get(r)||new e(null)).set(Se(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Re(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ce(t),r=this.children.get(n);if(r){var i,a=r.remove(Se(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Re(e))return this.value;var t=Ce(e),n=this.children.get(t);return n?n.get(Se(e)):null}},{key:"setTree",value:function(t,n){if(Re(t))return n;var r,i=Ce(t),a=(this.children.get(i)||new e(null)).setTree(Se(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ee(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ae(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ee(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Re(e))return null;var i=Ce(e),a=this.children.get(i);return a?a.findOnPath_(Se(e),Ae(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ee(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Re(t))return this;this.value&&r(n,this.value);var i=Ce(t),a=this.children.get(i);return a?a.foreachOnPath_(Se(t),Ae(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ee(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ae(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return K(t,(function(e,t){n=n.set(new xe(e),t)})),n}}]),e}(),dn=function(){function e(t){Object(f.a)(this,e),this.writeTree_=t}return Object(h.a)(e,null,[{key:"empty",value:function(){return new e(new hn(null))}}]),e}();function pn(e,t,n){if(Re(t))return new dn(new hn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=De(i,t);return a=a.updateChild(o,n),new dn(e.writeTree_.set(i,a))}var u=new hn(n),s=e.writeTree_.setTree(t,u);return new dn(s)}function vn(e,t,n){var r=e;return K(n,(function(e,n){r=pn(r,Ae(t,e),n)})),r}function mn(e,t){if(Re(t))return dn.empty();var n=e.writeTree_.setTree(t,new hn(null));return new dn(n)}function bn(e,t){return null!=gn(e,t)}function gn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(De(n.path,t)):null}function yn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ht,(function(e,n){t.push(new Ke(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ke(e,n.value))})),t}function On(e,t){if(Re(t))return e;var n=gn(e,t);return new dn(null!=n?new hn(n):e.writeTree_.subtree(t))}function kn(e){return e.writeTree_.isEmpty()}function wn(e,t){return jn(Ee(),e.writeTree_,t)}function jn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(v.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jn(Ae(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ae(e,".priority"),r)),n}function _n(e,t){return Fn(t,e)}function xn(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function En(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(v.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&Cn(u,r.path)?i=!1:Fe(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Sn(e.allWrites,Tn,Ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=mn(e.visibleWrites,r.path):K(r.children,(function(t){e.visibleWrites=mn(e.visibleWrites,Ae(r.path,t))}));return!0}return!1}function Cn(e,t){if(e.snap)return Fe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Fe(Ae(e.path,n),t))return!0;return!1}function Tn(e){return e.visible}function Sn(e,t,n){for(var r=dn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Fe(n,o)?r=pn(r,u=De(n,o),a.snap):Fe(o,n)&&(u=De(o,n),r=pn(r,Ee(),a.snap.getChild(u)));else{if(!a.children)throw Object(v.g)("WriteRecord should have .snap or .children");if(Fe(n,o))r=vn(r,u=De(n,o),a.children);else if(Fe(o,n))if(Re(u=De(o,n)))r=vn(r,Ee(),a.children);else{var s=Object(v.O)(a.children,Ce(u));if(s){var c=s.getChild(Se(u));r=pn(r,Ee(),c)}}}}}return r}function In(e,t,n,r,i){if(r||i){var a=On(e.visibleWrites,t);if(!i&&kn(a))return n;if(i||null!=n||bn(a,Ee())){return wn(Sn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Fe(e.path,t)||Fe(t,e.path))}),t),n||gt.EMPTY_NODE)}return null}var o=gn(e.visibleWrites,t);if(null!=o)return o;var u=On(e.visibleWrites,t);return kn(u)?n:null!=n||bn(u,Ee())?wn(u,n||gt.EMPTY_NODE):null}function Nn(e,t,n,r){return In(e.writeTree,e.treePath,t,n,r)}function Pn(e,t){return function(e,t,n){var r=gt.EMPTY_NODE,i=gn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ht,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=On(e.visibleWrites,t);return n.forEachChild(ht,(function(e,t){var n=wn(On(a,new xe(e)),t);r=r.updateImmediateChild(e,n)})),yn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return yn(On(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function An(e,t,n,r){return function(e,t,n,r,i){Object(v.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ae(t,n);if(bn(e.visibleWrites,a))return null;var o=On(e.visibleWrites,a);return kn(o)?i.getChild(n):wn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Rn(e,t){return function(e,t){return gn(e.visibleWrites,t)}(e.writeTree,Ae(e.treePath,t))}function Dn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=On(e.visibleWrites,t),c=gn(s,Ee());if(null!=c)u=c;else{if(null==n)return[];u=wn(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Mn(e,t,n){return function(e,t,n,r){var i=Ae(t,n),a=gn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?wn(On(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ln(e,t){return Fn(Ae(e.treePath,t),e.writeTree)}function Fn(e,t){return{treePath:e,writeTree:t}}var Un=function(){function e(){Object(f.a)(this,e),this.changeMap=new Map}return Object(h.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(v.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(v.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Nt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,It(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,St(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(v.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Nt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Vn=new(function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),qn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(f.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(h.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new nn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ln(this.viewCache_),i=Dn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Bn(e,t,n,r,i){var a,o,u=new Un;if(n.type===Gt.OVERWRITE){var s=n;s.source.fromUser?a=Hn(e,t,s.path,s.snap,r,i,u):(Object(v.f)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Re(s.path),a=Wn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Gt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=Ae(n,r);Kn(t,Ce(c))&&(u=Hn(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=Ae(n,r);Kn(t,Ce(c))||(u=Hn(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Object(v.f)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=$n(e,t,c.path,c.children,r,i,o,u))}else if(n.type===Gt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Rn(r,n))return t;var u,s=new qn(r,t,i),c=t.eventCache.getNode();if(Re(n)||".priority"===Ce(n)){var l;if(t.serverCache.isFullyInitialized())l=Nn(r,ln(t));else{var f=t.serverCache.getNode();Object(v.f)(f instanceof gt,"serverChildren would be complete if leaf node"),l=Pn(r,f)}u=e.filter.updateFullNode(c,l,a)}else{var h=Ce(n),d=Mn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Se(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,gt.EMPTY_NODE,Se(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Nn(r,ln(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Rn(r,Ee()),un(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Rn(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Re(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Wn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Re(n)){var c=new hn(null);return s.getNode().forEachChild(Qe,(function(e,t){c=c.set(new xe(e),t)})),$n(e,t,n,c,i,a,u,o)}return t}var l=new hn(null);return r.foreach((function(e,t){var r=Ae(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),$n(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Gt.LISTEN_COMPLETE)throw Object(v.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=sn(t,a.getNode(),a.isFullyInitialized()||Re(n),a.isFiltered());return zn(e,o,n,r,Vn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=cn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Tt(cn(t)))}}(t,a,f),{viewCache:a,changes:f}}function zn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Rn(r,n))return t;if(Re(n))if(Object(v.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=ln(t),l=Pn(r,c instanceof gt?c:gt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Nn(r,ln(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Ce(n);if(".priority"===h){Object(v.f)(1===Te(n),"Can't have a priority with additional path components");var d=s.getNode(),p=An(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var m,b=Se(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=An(r,n,s.getNode(),u);m=null!=g?s.getNode().getImmediateChild(h).updateChild(b,g):s.getNode().getImmediateChild(h)}else m=Mn(r,h,t.serverCache);o=null!=m?e.filter.updateChild(s.getNode(),h,m,b,i,a):s.getNode()}}return un(t,o,s.isFullyInitialized()||Re(n),e.filter.filtersNodes())}function Wn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Re(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Ce(n);if(!c.isCompleteForPath(n)&&Te(n)>1)return t;var d=Se(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Vn,null)}var v=sn(t,s,c.isFullyInitialized()||Re(n),l.filtersNodes());return zn(e,v,n,i,new qn(i,v,a),u)}function Hn(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new qn(i,t,a);if(Re(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=un(t,s,!0,e.filter.filtersNodes());else{var f=Ce(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=un(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Se(n),p=c.getNode().getImmediateChild(f);if(Re(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ie(d)&&v.getChild(Pe(d)).isEmpty()?v:v.updateChild(d,r):gt.EMPTY_NODE}if(p.equals(h))u=t;else u=un(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Kn(e,t){return e.eventCache.isCompleteForChild(t)}function Gn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function $n(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Re(n)?r:new hn(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=Gn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wn(e,c,new xe(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=Gn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wn(e,c,new xe(n),f,i,a,o,u)}})),c}var Qn,Yn=function(){function e(t,n){Object(f.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Pt(i.getIndex()),o=(r=i).loadsAllData()?new Pt(r.getIndex()):r.hasLimit()?new Rt(r):new At(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(gt.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(gt.EMPTY_NODE,s.getNode(),null),h=new nn(c,u.isFullyInitialized(),a.filtersNodes()),d=new nn(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=on(d,h),this.eventGenerator_=new rn(this.query_)}return Object(h.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Xn(e,t){var n=ln(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Re(t)&&!n.getImmediateChild(Ce(t)).isEmpty())?n.getChild(t):null}function Jn(e){return 0===e.eventRegistrations_.length}function Zn(e,t,n){var r=[];if(n){Object(v.f)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function er(e,t,n,r){t.type===Gt.MERGE&&null!==t.source.queryId&&(Object(v.f)(ln(e.viewCache_),"We should always have a full cache before handling merges"),Object(v.f)(cn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Bn(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(v.f)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(v.f)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(v.f)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,tr(e,u.changes,u.viewCache.eventCache.getNode(),null)}function tr(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),an(e,i,"child_removed",t,r,n),an(e,i,"child_added",t,r,n),an(e,i,"child_moved",a,r,n),an(e,i,"child_changed",t,r,n),an(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var nr,rr=Object(h.a)((function e(){Object(f.a)(this,e),this.views=new Map}));function ir(e){return 0===e.views.size}function ar(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(v.f)(null!=a,"SyncTree gave us an op for an invalid query."),er(a,t,n,r)}var o,u=[],s=Object(l.a)(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(er(c,t,n,r))}}catch(f){s.e(f)}finally{s.f()}return u}function or(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Nn(n,i?r:null),s=!1;u?s=!0:r instanceof gt?(u=Pn(n,r),s=!1):(u=gt.EMPTY_NODE,s=!1);var c=on(new nn(u,s,!1),new nn(r,i,!1));return new Yn(t,c)}return o}function ur(e,t,n,r,i,a){var o=or(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ht,(function(e,t){r.push(St(e,t))})),n.isFullyInitialized()&&r.push(Tt(n.getNode())),tr(e,r,n.getNode(),t)}(o,n)}function sr(e,t,n,r){var a=t._queryIdentifier,o=[],u=[],s=dr(e);if("default"===a){var c,f=Object(l.a)(e.views.entries());try{for(f.s();!(c=f.n()).done;){var h=Object(i.a)(c.value,2),d=h[0],p=h[1];u=u.concat(Zn(p,n,r)),Jn(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(b){f.e(b)}finally{f.f()}}else{var m=e.views.get(a);m&&(u=u.concat(Zn(m,n,r)),Jn(m)&&(e.views.delete(a),m.query._queryParams.loadsAllData()||o.push(m.query)))}return s&&!dr(e)&&o.push(new(Object(v.f)(Qn,"Reference.ts has not been loaded"),Qn)(t._repo,t._path)),{removed:o,events:u}}function cr(e){var t,n=[],r=Object(l.a)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function lr(e,t){var n,r=null,i=Object(l.a)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Xn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function fr(e,t){if(t._queryParams.loadsAllData())return pr(e);var n=t._queryIdentifier;return e.views.get(n)}function hr(e,t){return null!=fr(e,t)}function dr(e){return null!=pr(e)}function pr(e){var t,n=Object(l.a)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var vr=1,mr=Object(h.a)((function e(t){Object(f.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new hn(null),this.pendingWriteTree_={visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function br(e,t,n,r,i){return function(e,t,n,r,i){Object(v.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Er(e,new en({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function gr(e,t,n,r){!function(e,t,n,r){Object(v.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=vn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=hn.fromObject(n);return Er(e,new tn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=xn(e.pendingWriteTree_,t),i=En(e.pendingWriteTree_,t);if(i){var a=new hn(null);return null!=r.snap?a=a.set(Ee(),!0):K(r.children,(function(e){a=a.set(new xe(e),!0)})),Er(e,new Jt(r.path,a,n))}return[]}function Or(e,t,n){return Er(e,new en({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function kr(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||hr(o,t))){var s=sr(o,t,n,r);ir(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=s.removed;if(u=s.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return dr(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=Dr(h),p=0;p<d.length;++p){var v=d[p],m=v.query,b=Sr(e,v);e.listenProvider_.startListening(Mr(m),Ir(e,m),b.hashFn,b.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(Mr(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(Nr(t));e.listenProvider_.stopListening(Mr(t),n)}))}Lr(e,c)}return u}function wr(e,t,n,r){var i=Pr(e,r);if(null!=i){var a=Ar(i),o=a.path,u=a.queryId,s=De(o,t);return Rr(e,o,new en(Yt(u),s,n))}return[]}function jr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=De(e,i);a=a||lr(t,n),o=o||dr(t)}));var u,s=e.syncPointTree_.get(i);if(s?(o=o||dr(s),a=a||lr(s,Ee())):(s=new rr,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)u=!0;else{u=!1,a=gt.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=lr(t,Ee());n&&(a=a.updateImmediateChild(e,n))}))}var l=hr(s,t);if(!l&&!t._queryParams.loadsAllData()){var f=Nr(t);Object(v.f)(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=Fr();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=_n(e.pendingWriteTree_,i),p=ur(s,t,n,d,a,u);if(!l&&!o&&!r){var m=fr(s,t);p=p.concat(Ur(e,t,m))}return p}function _r(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=lr(n,De(e,t));if(r)return r}));return In(r,t,i,n,!0)}function xr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=De(e,n);r=r||lr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||lr(i,Ee()):(i=new rr,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new nn(r,!0,!1):null;return function(e){return cn(e.viewCache_)}(or(i,t,_n(e.pendingWriteTree_,t._path),a?o.getNode():gt.EMPTY_NODE,a))}function Er(e,t){return Cr(t,e.syncPointTree_,null,_n(e.pendingWriteTree_,Ee()))}function Cr(e,t,n,r){if(Re(e.path))return Tr(e,t,n,r);var i=t.get(Ee());null==n&&null!=i&&(n=lr(i,Ee()));var a=[],o=Ce(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=Ln(r,o);a=a.concat(Cr(u,s,c,l))}return i&&(a=a.concat(ar(i,e,r,n))),a}function Tr(e,t,n,r){var i=t.get(Ee());null==n&&null!=i&&(n=lr(i,Ee()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=Ln(r,t),s=e.operationForChild(t);s&&(a=a.concat(Tr(s,i,o,u)))})),i&&(a=a.concat(ar(i,e,r,n))),a}function Sr(e,t){var n=t.query,r=Ir(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||gt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Pr(e,n);if(r){var i=Ar(r),a=i.path,o=i.queryId,u=De(a,t);return Rr(e,a,new Zt(Yt(o),u))}return[]}(e,n._path,r):function(e,t){return Er(e,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return kr(e,n,null,i)}}}function Ir(e,t){var n=Nr(t);return e.queryToTagMap.get(n)}function Nr(e){return e._path.toString()+"$"+e._queryIdentifier}function Pr(e,t){return e.tagToQueryMap.get(t)}function Ar(e){var t=e.indexOf("$");return Object(v.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new xe(e.substr(0,t))}}function Rr(e,t,n){var r=e.syncPointTree_.get(t);return Object(v.f)(r,"Missing sync point for query tag that we're tracking"),ar(r,n,_n(e.pendingWriteTree_,t),null)}function Dr(e){return e.fold((function(e,t,n){if(t&&dr(t))return[pr(t)];var r=[];return t&&(r=cr(t)),K(n,(function(e,t){r=r.concat(t)})),r}))}function Mr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(v.f)(nr,"Reference.ts has not been loaded"),nr)(e._repo,e._path):e}function Lr(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Nr(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Fr(){return vr++}function Ur(e,t,n){var r=t._path,i=Ir(e,t),a=Sr(e,n),o=e.listenProvider_.startListening(Mr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(v.f)(!dr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Re(e)&&t&&dr(t))return[pr(t).query];var r=[];return t&&(r=r.concat(cr(t).map((function(e){return e.query})))),K(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Mr(l),Ir(e,l))}return o}var Vr=function(){function e(t){Object(f.a)(this,e),this.node_=t}return Object(h.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),qr=function(){function e(t,n){Object(f.a)(this,e),this.syncTree_=t,this.path_=n}return Object(h.a)(e,[{key:"getImmediateChild",value:function(t){var n=Ae(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return _r(this.syncTree_,this.path_)}}]),e}(),Br=function(e,t,n){return e&&"object"===typeof e?(Object(v.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?zr(e[".sv"],t,n):"object"===typeof e[".sv"]?Wr(e[".sv"],t):void Object(v.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},zr=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(v.f)(!1,"Unexpected server value: "+e)},Wr=function(e,t,n){e.hasOwnProperty("increment")||Object(v.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(v.f)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(v.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Hr=function(e,t,n,r){return Gr(t,new qr(n,e),r)},Kr=function(e,t,n){return Gr(e,new Vr(t),n)};function Gr(e,t,n){var r,i=e.getPriority().val(),a=Br(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Br(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new st(u,Ot(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new st(a))),s.forEachChild(ht,(function(e,i){var a=Gr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var $r=Object(h.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(f.a)(this,e),this.name=t,this.parent=n,this.node=r}));function Qr(e,t){for(var n=t instanceof xe?t:new xe(t),r=e,i=Ce(n);null!==i;){var a=Object(v.O)(r.node.children,i)||{children:{},childCount:0};r=new $r(i,r,a),i=Ce(n=Se(n))}return r}function Yr(e){return e.node.value}function Xr(e,t){e.node.value=t,ni(e)}function Jr(e){return e.node.childCount>0}function Zr(e,t){K(e.node.children,(function(n,r){t(new $r(n,e,r))}))}function ei(e,t,n,r){n&&!r&&t(e),Zr(e,(function(e){ei(e,t,!0,r)})),n&&r&&t(e)}function ti(e){return new xe(null===e.parent?e.name:ti(e.parent)+"/"+e.name)}function ni(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Yr(e)&&!Jr(e)}(n),i=Object(v.m)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ni(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ni(e))}(e.parent,e.name,e)}var ri=/[\[\].#$\/\u0000-\u001F\u007F]/,ii=/[\[\].#$\u0000-\u001F\u007F]/,ai=10485760,oi=function(e){return"string"===typeof e&&0!==e.length&&!ri.test(e)},ui=function(e){return"string"===typeof e&&0!==e.length&&!ii.test(e)},si=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!F(e)||e&&"object"===typeof e&&Object(v.m)(e,".sv")},ci=function(e,t,n,r){r&&void 0===t||li(Object(v.s)(e,"value"),t,n)},li=function e(t,n,r){var i=r instanceof xe?new Ue(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+qe(i));if("function"===typeof n)throw new Error(t+"contains a function "+qe(i)+" with contents = "+n.toString());if(F(n))throw new Error(t+"contains "+n.toString()+" "+qe(i));if("string"===typeof n&&n.length>ai/3&&Object(v.P)(n)>ai)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+qe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(K(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!oi(n)))throw new Error(t+" contains an invalid key ("+n+") "+qe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(v.P)(s),Ve(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(v.P)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+qe(i)+" in addition to actual children.")}},fi=function(e,t,n,r){if(!r||void 0!==t){var i=Object(v.s)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];K(t,(function(e,t){var r=new xe(e);if(li(i,t,Ae(n,r)),".priority"===Ie(r)&&!si(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ne(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!oi(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Me);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Fe(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},hi=function(e,t,n){if(!n||void 0!==t){if(F(t))throw new Error(Object(v.s)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!si(t))throw new Error(Object(v.s)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},di=function(e,t,n,r){if((!r||void 0!==n)&&!oi(n))throw new Error(Object(v.s)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pi=function(e,t,n,r){if((!r||void 0!==n)&&!ui(n))throw new Error(Object(v.s)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vi=function(e,t){if(".info"===Ce(t))throw new Error(e+" failed = Can't modify data under /.info/")},mi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!oi(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ui(e)}(n))throw new Error(Object(v.s)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bi=Object(h.a)((function e(){Object(f.a)(this,e),this.eventLists_=[],this.recursionDepth_=0}));function gi(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Le(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function yi(e,t,n){gi(e,n),ki(e,(function(e){return Le(e,t)}))}function Oi(e,t,n){gi(e,n),ki(e,(function(e){return Fe(e,t)||Fe(t,e)}))}function ki(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(wi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function wi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I&&A("event: "+n.toString()),J(r)}}}var ji="repo_interrupt",_i=function(){function e(t,n,r,i){Object(f.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zt(),this.transactionQueueTree_=new $r,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(h.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function xi(e,t,n){if(e.stats_=he(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new qt(e.repoInfo_,(function(t,n,r,i){Ti(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Si(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(v.R)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new We(e.repoInfo_,t,(function(t,n,r,i){Ti(e,t,n,r,i)}),(function(t){Si(e,t)}),(function(t){!function(e,t){K(t,(function(t,n){Ii(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return fe[n]||(fe[n]=t()),fe[n]}(e.repoInfo_,(function(){return new Qt(e.stats_,e.server_)})),e.infoData_=new Bt,e.infoSyncTree_=new mr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Or(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Ii(e,"connected",!1),e.serverSyncTree_=new mr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Oi(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ei(e){var t=e.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ci(e){return(t=(t={timestamp:Ei(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Ti(e,t,n,r,i){e.dataUpdateCount++;var a=new xe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(v.L)(n,(function(e){return Ot(e)}));o=function(e,t,n,r){var i=Pr(e,r);if(i){var a=Ar(i),o=a.path,u=a.queryId,s=De(o,t),c=hn.fromObject(n);return Rr(e,o,new tn(Yt(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Ot(n);o=wr(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(v.L)(n,(function(e){return Ot(e)}));o=function(e,t,n){var r=hn.fromObject(n);return Er(e,new tn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Ot(n);o=Or(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Bi(e,a)),Oi(e.eventQueue_,f,o)}function Si(e,t){Ii(e,"connected",t),!1===t&&function(e){Li(e,"onDisconnectEvents");var t=Ci(e),n=zt();Kt(e.onDisconnect_,Ee(),(function(r,i){var a=Hr(r,i,e.serverSyncTree_,t);Wt(n,r,a)}));var r=[];Kt(n,Ee(),(function(t,n){r=r.concat(Or(e.serverSyncTree_,t,n));var i=Gi(e,t);Bi(e,i)})),e.onDisconnect_=zt(),Oi(e.eventQueue_,Ee(),r)}(e)}function Ii(e,t,n){var r=new xe("/.info/"+t),i=Ot(n);e.infoData_.updateSnapshot(r,i);var a=Or(e.infoSyncTree_,r,i);Oi(e.eventQueue_,r,a)}function Ni(e){return e.nextWriteId_++}function Pi(e,t,n,r,i){Li(e,"set",{path:t.toString(),value:n,priority:r});var a=Ci(e),o=Ot(n,r),u=_r(e.serverSyncTree_,t),s=Kr(o,u,a),c=Ni(e),l=br(e.serverSyncTree_,t,s,c,!0);gi(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||L("set at "+t+" failed: "+n);var o=yr(e.serverSyncTree_,c,!a);Oi(e.eventQueue_,t,o),Fi(e,i,n,r)}));var f=Gi(e,t);Bi(e,f),Oi(e.eventQueue_,f,[])}function Ai(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ht(e.onDisconnect_,t),Fi(e,n,r,i)}))}function Ri(e,t,n,r){var i=Ot(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Wt(e.onDisconnect_,t,i),Fi(e,r,n,a)}))}function Di(e,t,n){var r;r=".info"===Ce(t._path)?kr(e.infoSyncTree_,t,n):kr(e.serverSyncTree_,t,n),yi(e.eventQueue_,t._path,r)}function Mi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ji)}function Li(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];A.apply(void 0,[t].concat(r))}function Fi(e,t,n,r){t&&J((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ui(e,t,n){return _r(e.serverSyncTree_,t,n)||gt.EMPTY_NODE}function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ki(e,t),Yr(t)){var n=Wi(e,t);Object(v.f)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&qi(e,ti(t),n)}else Jr(t)&&Zr(t,(function(t){Vi(e,t)}))}function qi(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ui(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(v.f)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=De(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Li(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(yr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Ki(e,Qr(e.transactionQueueTree_,t)),Vi(e,e.transactionQueueTree_),Oi(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)J(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{L("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Bi(e,t)}}),o)}function Bi(e,t){var n=zi(e,t),r=ti(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var u,s=t[o],c=De(n,s.path),l=!1,f=void 0;if(Object(v.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(yr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(yr(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Ui(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){li("transaction failed: Data returned ",d,s.path);var p=Ot(d);"object"===typeof d&&null!=d&&Object(v.m)(d,".priority")||(p=p.updatePriority(h.getPriority()));var m=s.currentWriteId,b=Ci(e),g=Kr(p,h,b);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=Ni(e),a.splice(a.indexOf(m),1),i=(i=i.concat(br(e.serverSyncTree_,s.path,g,s.currentWriteId,s.applyLocally))).concat(yr(e.serverSyncTree_,m,!0))}else l=!0,f="nodata",i=i.concat(yr(e.serverSyncTree_,s.currentWriteId,!0))}Oi(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)o(u);Ki(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)J(r[s]);Vi(e,e.transactionQueueTree_)}(e,Wi(e,n),r),r}function zi(e,t){var n,r=e.transactionQueueTree_;for(n=Ce(t);null!==n&&void 0===Yr(r);)r=Qr(r,n),n=Ce(t=Se(t));return r}function Wi(e,t){var n=[];return Hi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Hi(e,t,n){var r=Yr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Zr(t,(function(t){Hi(e,t,n)}))}function Ki(e,t){var n=Yr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Xr(t,n.length>0?n:void 0)}Zr(t,(function(t){Ki(e,t)}))}function Gi(e,t){var n=ti(zi(e,t)),r=Qr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){$i(e,t)})),$i(e,r),ei(r,(function(t){$i(e,t)})),n}function $i(e,t){var n=Yr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(v.f)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(v.f)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Xr(t,void 0):n.length=a+1,Oi(e.eventQueue_,ti(t),i);for(var u=0;u<r.length;u++)J(r[u])}}var Qi=function(e,t){var n=Yi(e),r=n.namespace;"firebase.com"===n.domain&&M(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||M("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ue(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new xe(n.pathString)}},Yi=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Object(l.a)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):L("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Xi=function(){function e(t,n,r,i){Object(f.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(h.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(v.R)(this.snapshot.exportVal())}}]),e}(),Ji=function(){function e(t,n,r){Object(f.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(h.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Zi=function(){function e(t,n){Object(f.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(h.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(v.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),ea=function(){function e(t,n){Object(f.a)(this,e),this._repo=t,this._path=n}return Object(h.a)(e,[{key:"cancel",value:function(){var e=new v.a;return Ai(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){vi("OnDisconnect.remove",this._path);var e=new v.a;return Ri(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){vi("OnDisconnect.set",this._path),ci("OnDisconnect.set",e,this._path,!1);var t=new v.a;return Ri(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){vi("OnDisconnect.setWithPriority",this._path),ci("OnDisconnect.setWithPriority",e,this._path,!1),hi("OnDisconnect.setWithPriority",t,!1);var n=new v.a;return function(e,t,n,r,i){var a=Ot(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Wt(e.onDisconnect_,t,a),Fi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){vi("OnDisconnect.update",this._path),fi("OnDisconnect.update",e,this._path,!1);var t=new v.a;return function(e,t,n,r){if(Object(v.A)(n))return A("onDisconnect().update() called with empty data.  Don't do anything."),void Fi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&K(n,(function(n,r){var i=Ot(r);Wt(e.onDisconnect_,Ae(t,n),i)})),Fi(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),ta=function(){function e(t,n,r,i){Object(f.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(h.a)(e,[{key:"key",get:function(){return Re(this._path)?null:Ie(this._path)}},{key:"ref",get:function(){return new aa(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Vt(this._queryParams),t=W(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Vt(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Object(v.v)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Le(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function na(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ra(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Qe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==U)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==V)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ht){if(null!=t&&!si(t)||null!=n&&!si(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(v.f)(e.getIndex()instanceof kt||e.getIndex()===jt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ia(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var aa=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){return Object(f.a)(this,n),t.call(this,e,r,new Dt,!1)}return Object(h.a)(n,[{key:"parent",get:function(){var e=Pe(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(ta),oa=function(){function e(t,n,r){Object(f.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(h.a)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new xe(t),r=ca(this.ref,t);return new e(this._node.getChild(n),r,ht)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ca(n.ref,r),ht))}))}},{key:"hasChild",value:function(e){var t=new xe(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ua(e,t){return(e=Object(v.v)(e))._checkNotDeleted("ref"),void 0!==t?ca(e._root,t):e._root}function sa(e,t){(e=Object(v.v)(e))._checkNotDeleted("refFromURL");var n=Qi(t,e._repo.repoInfo_.nodeAdmin);mi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||M("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ua(e,n.path.toString())}function ca(e,t){var n,r,i,a;return null===Ce((e=Object(v.v)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),pi(n,r,i,a)):pi("child","path",t,!1),new aa(e._repo,Ae(e._path,t))}function la(e,t){e=Object(v.v)(e),vi("push",e._path),ci("push",t,e._path,!0);var n,r=Ei(e._repo),i=xt(r),a=ca(e,i),o=ca(e,i);return n=null!=t?ha(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function fa(e){return vi("remove",e._path),ha(e,null)}function ha(e,t){e=Object(v.v)(e),vi("set",e._path),ci("set",t,e._path,!1);var n=new v.a;return Pi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function da(e,t){e=Object(v.v)(e),vi("setPriority",e._path),hi("setPriority",t,!1);var n=new v.a;return Pi(e._repo,Ae(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function pa(e,t,n){if(vi("setWithPriority",e._path),ci("setWithPriority",t,e._path,!1),hi("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new v.a;return Pi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function va(e,t){fi("update",t,e._path,!1);var n=new v.a;return function(e,t,n,r){Li(e,"update",{path:t.toString(),value:n});var i=!0,a=Ci(e),o={};if(K(n,(function(n,r){i=!1,o[n]=Hr(Ae(t,n),Ot(r),e.serverSyncTree_,a)})),i)A("update() called with empty data.  Don't do anything."),Fi(0,r,"ok",void 0);else{var u=Ni(e),s=gr(e.serverSyncTree_,t,o,u);gi(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||L("update at "+t+" failed: "+n);var o=yr(e.serverSyncTree_,u,!a),s=o.length>0?Bi(e,t):t;Oi(e.eventQueue_,s,o),Fi(0,r,n,i)})),K(n,(function(n){var r=Gi(e,Ae(t,n));Bi(e,r)})),Oi(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ma(e){e=Object(v.v)(e);var t=new Zi((function(){})),n=new ba(t);return function(e,t,n){var r=xr(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Ot(r).withIndex(t._queryParams.getIndex());if(jr(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Or(e.serverSyncTree_,t._path,a);else{var o=Ir(e.serverSyncTree_,t);i=wr(e.serverSyncTree_,t._path,a,o)}return Oi(e.eventQueue_,t._path,i),kr(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Li(e,"get for query "+Object(v.R)(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new oa(t,new aa(e._repo,e._path),e._queryParams.getIndex())}))}var ba=function(){function e(t){Object(f.a)(this,e),this.callbackContext=t}return Object(h.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Xi("value",this,new oa(e.snapshotNode,new aa(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Ji(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),ga=function(){function e(t,n){Object(f.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(h.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Ji(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(v.f)(null!=e.childName,"Child events should have a childName.");var n=ca(new aa(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Xi(e.type,this,new oa(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ya(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Di(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new Zi(n,a||void 0),c="value"===t?new ba(s):new ga(t,s);return function(e,t,n){var r;r=".info"===Ce(t._path)?jr(e.infoSyncTree_,t,n):jr(e.serverSyncTree_,t,n),yi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Di(e._repo,e,c)}}function Oa(e,t,n,r){return ya(e,"value",t,n,r)}function ka(e,t,n,r){return ya(e,"child_added",t,n,r)}function wa(e,t,n,r){return ya(e,"child_changed",t,n,r)}function ja(e,t,n,r){return ya(e,"child_moved",t,n,r)}function _a(e,t,n,r){return ya(e,"child_removed",t,n,r)}function xa(e,t,n){var r=null,i=n?new Zi(n):null;"value"===t?r=new ba(i):t&&(r=new ga(t,i)),Di(e._repo,e,r)}var Ea=Object(h.a)((function e(){Object(f.a)(this,e)})),Ca=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(h.a)(n,[{key:"_apply",value:function(e){ci("endAt",this._value,e._path,!0);var t=Lt(e._queryParams,this._value,this._key);if(ia(t),ra(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(e._repo,e._path,t,e._orderByCalled)}}]),n}(Ea);function Ta(e,t){return di("endAt","key",t,!0),new Ca(e,t)}var Sa=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(h.a)(n,[{key:"_apply",value:function(e){ci("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Qe?("string"===typeof t&&(t=Ct(t)),r=Lt(e,t,n)):r=Lt(e,t,null==n?U:Ct(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(ia(t),ra(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ta(e._repo,e._path,t,e._orderByCalled)}}]),n}(Ea);function Ia(e,t){return di("endBefore","key",t,!0),new Sa(e,t)}var Na=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(h.a)(n,[{key:"_apply",value:function(e){ci("startAt",this._value,e._path,!0);var t=Mt(e._queryParams,this._value,this._key);if(ia(t),ra(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ta(e._repo,e._path,t,e._orderByCalled)}}]),n}(Ea);function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return di("startAt","key",t,!0),new Na(e,t)}var Aa=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(h.a)(n,[{key:"_apply",value:function(e){ci("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Qe?("string"===typeof t&&(t=Et(t)),r=Mt(e,t,n)):r=Mt(e,t,null==n?V:Et(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(ia(t),ra(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ta(e._repo,e._path,t,e._orderByCalled)}}]),n}(Ea);function Ra(e,t){return di("startAfter","key",t,!0),new Aa(e,t)}var Da=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this))._limit=e,r}return Object(h.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Ea);function Ma(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Da(e)}var La=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this))._limit=e,r}return Object(h.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ta(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Ea);function Fa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new La(e)}var Ua=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this))._path=e,r}return Object(h.a)(n,[{key:"_apply",value:function(e){na(e,"orderByChild");var t=new xe(this._path);if(Re(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new kt(t),r=Ft(e._queryParams,n);return ra(r),new ta(e._repo,e._path,r,!0)}}]),n}(Ea);function Va(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pi("orderByChild","path",e,!1),new Ua(e)}var qa=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"_apply",value:function(e){na(e,"orderByKey");var t=Ft(e._queryParams,Qe);return ra(t),new ta(e._repo,e._path,t,!0)}}]),n}(Ea);function Ba(){return new qa}var za=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"_apply",value:function(e){na(e,"orderByPriority");var t=Ft(e._queryParams,ht);return ra(t),new ta(e._repo,e._path,t,!0)}}]),n}(Ea);function Wa(){return new za}var Ha=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"_apply",value:function(e){na(e,"orderByValue");var t=Ft(e._queryParams,jt);return ra(t),new ta(e._repo,e._path,t,!0)}}]),n}(Ea);function Ka(){return new Ha}var Ga=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(f.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(h.a)(n,[{key:"_apply",value:function(e){if(ci("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ca(this._value,this._key)._apply(new Na(this._value,this._key)._apply(e))}}]),n}(Ea);function $a(e,t){return di("equalTo","key",t,!0),new Ga(e,t)}function Qa(e){for(var t=Object(v.v)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){Object(v.f)(!Qn,"__referenceConstructor has already been defined"),Qn=e}(aa),function(e){Object(v.f)(!nr,"__referenceConstructor has already been defined"),nr=e}(aa);var Ya={},Xa=!1;function Ja(e,t,n,r){e.repoInfo_=new ue("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Za(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||M("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),A("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=Qi(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=Qi(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new ne(ne.OWNER):new te(t.name,t.options,n);mi("Invalid Firebase Database URL",s),Re(s.path)||M("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ya[t.name];i||(i={},Ya[t.name]=i);var a=i[e.toURLString()];a&&M("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new _i(e,Xa,n,r),i[e.toURLString()]=a,a}(c,t,f,new ee(t.name,r));return new eo(h,t)}var eo=function(){function e(t,n){Object(f.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(h.a)(e,[{key:"_repo",get:function(){return this._instanceStarted||(xi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new aa(this._repo,Ee())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Ya[t];n&&n[e.key]===e||M("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Mi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&M("Cannot call "+e+" on a deleted database.")}}]),e}();function to(){Oe.IS_TRANSPORT_INITIALIZED&&L("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function no(){to(),me.forceDisallow()}function ro(){to(),ye.forceDisallow(),me.forceAllow()}function io(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(v.v)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&M("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&M('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ne(ne.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(v.n)(r.mockUserToken,e.app.options.projectId);a=new ne(o)}Ja(i,t,n,a)}function ao(e){(e=Object(v.v)(e))._checkNotDeleted("goOffline"),Mi(e._repo)}function oo(e){var t;(e=Object(v.v)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ji)}function uo(e,t){P(e,t)}var so={".sv":"timestamp"};function co(){return so}function lo(e){return{".sv":{increment:e}}}var fo=function(){function e(t,n){Object(f.a)(this,e),this.committed=t,this.snapshot=n}return Object(h.a)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function ho(e,t,n){var r;if(e=Object(v.v)(e),vi("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new v.a,o=Oa(e,(function(){}));return function(e,t,n,r,i,a){Li(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:C(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ui(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{li("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=Qr(e.transactionQueueTree_,t),f=Yr(l)||[];f.push(o),Xr(l,f),"object"===typeof s&&null!==s&&Object(v.m)(s,".priority")?(c=Object(v.O)(s,".priority"),Object(v.f)(si(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(_r(e.serverSyncTree_,t)||gt.EMPTY_NODE).getPriority().val();var h=Ci(e),d=Ot(s,c),p=Kr(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Ni(e);var m=br(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Oi(e.eventQueue_,t,m),Vi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new oa(r,new aa(e._repo,e._path),ht),a.resolve(new fo(n,i)))}),o,i),a.promise}We.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},We.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var po;O(d.SDK_VERSION),Object(d._registerComponent)(new p.a("database",(function(e,t){var n=t.instanceIdentifier;return Za(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)(b,g,po),Object(d.registerVersion)(b,g,"esm2017")}).call(this,n(100))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var r=n(1),i=n(15),a=n(6),o=n(9),u=n(10),s=n(3),c=n(4),l=n(2),f=function(){function e(t,n,r){Object(s.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(c.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),h="[DEFAULT]",d=function(){function e(t,n){Object(s.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(c.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(l){}var t,n=Object(u.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(o.a)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(i.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(i.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Object(u.a)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=Object(o.a)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===h?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?e:h:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var p=function(){function e(t){Object(s.a)(this,e),this.name=t,this.providers=new Map}return Object(c.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(64);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";function r(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function i(e){return Math.min(1,Math.max(0,e))}function a(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function o(e){return e<=1?"".concat(100*Number(e),"%"):e}function u(e){return 1===e.length?"0"+e:String(e)}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m}));var r,i,a=n(10),o=n(3),u=n(4),s=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(s.a)(r,i.DEBUG,"log"),Object(s.a)(r,i.VERBOSE,"log"),Object(s.a)(r,i.INFO,"info"),Object(s.a)(r,i.WARN,"warn"),Object(s.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(u.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function m(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return V}));var r=n(7),i=n(85),a=n(43),o=n(81),u=n(0),s=n(3),c=n(4),l=n(12),f=n(13),h=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function d(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||h(r)&&h(i)))return!1;var r,i;return!0}var p=n(63),v=Object(r.a)({},p.a.Modal);function m(e){v=e?Object(r.a)(Object(r.a)({},v),e):Object(r.a)({},p.a.Modal)}var b=n(93),g=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=d);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((function(e){return Object(r.a)(Object(r.a)({},e),{exist:!0})})),m(e.locale&&e.locale.Modal),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){m(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&m(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){m()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return u.createElement(b.a.Provider,{value:r},n)}}]),n}(u.Component);g.defaultProps={locale:{}};var y=n(99),O=n(170),k=n(128),w=n(65),j=n(88),_=n(30),x=n(92),E=n(76),C=n(23),T=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=Object(_.d)(t)),this.originalInput=t;var i=Object(E.a)(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Object(C.b)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Object(_.h)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Object(_.h)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Object(_.g)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Object(_.g)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Object(_.f)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),Object(_.j)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Object(C.a)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Object(C.a)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Object(_.f)(this.r,this.g,this.b,!1),t=0,n=Object.entries(x.a);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Object(C.c)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Object(C.c)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Object(C.c)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Object(C.c)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],u=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+u)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var S=n(42),I=n(97),N="-ant-".concat(Date.now(),"-").concat(Math.random());function P(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new T(e),a=Object(j.a)(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new T(t.primaryColor),o=Object(j.a)(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var u=new T(o[0]);n["primary-color-active-deprecated-f-30"]=r(u,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(u,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(e,t);Object(S.a)()&&Object(I.a)(n,"".concat(N,"-dynamic-theme"))}var A,R,D=n(60),M=n(54),L=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function F(){return A||"ant"}function U(){return R||"anticon"}var V=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(F(),"-").concat(e):F())},getIconPrefixCls:U,getRootPrefixCls:function(e,t){return e||(A||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):F()))}}},q=function(e){var t,n,s=e.children,c=e.csp,l=e.autoInsertSpaceInButton,f=e.form,h=e.locale,d=e.componentSize,v=e.direction,m=e.space,b=e.virtual,y=e.dropdownMatchSelectWidth,O=e.legacyLocale,k=e.parentContext,j=e.iconPrefixCls,_=e.componentDisabled,x=u.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||k.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[k.getPrefixCls,e.prefixCls]),E=Object(r.a)(Object(r.a)({},k),{csp:c,autoInsertSpaceInButton:l,locale:h||O,direction:v,space:m,virtual:b,dropdownMatchSelectWidth:y,getPrefixCls:x});L.forEach((function(t){var n=e[t];n&&(E[t]=n)}));var C=Object(o.a)((function(){return E}),E,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),T=u.useMemo((function(){return{prefixCls:j,csp:c}}),[j,c]),S=s,I={};return h&&(I=(null===(t=h.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=p.a.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),f&&f.validateMessages&&(I=Object(r.a)(Object(r.a)({},I),f.validateMessages)),Object.keys(I).length>0&&(S=u.createElement(a.c,{validateMessages:I},s)),h&&(S=u.createElement(g,{locale:h,_ANT_MARK__:"internalMark"},S)),(j||c)&&(S=u.createElement(i.a.Provider,{value:T},S)),d&&(S=u.createElement(M.a,{size:d},S)),void 0!==_&&(S=u.createElement(D.a,{disabled:_},S)),u.createElement(w.b.Provider,{value:C},S)},B=function(e){return u.useEffect((function(){e.direction&&(O.b.config({rtl:"rtl"===e.direction}),k.a.config({rtl:"rtl"===e.direction}))}),[e.direction]),u.createElement(y.a,null,(function(t,n,i){return u.createElement(w.a,null,(function(t){return u.createElement(q,Object(r.a)({parentContext:t,legacyLocale:i},e))}))}))};B.ConfigContext=w.b,B.SizeContext=M.b,B.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(A=t),void 0!==n&&(R=n),r&&P(F(),r)};t.a=B},function(e,t,n){"use strict";var r=n(8),i=n(9),a=n(5),o=n(22),u=n(0),s=n.n(u),c=n(11),l=n.n(c),f=n(85),h=n(21),d=n(88),p=n(33),v=n(97);function m(e){return"object"===Object(h.a)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Object(h.a)(e.icon)||"function"===typeof e.icon)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function g(e,t,n){return n?s.a.createElement(e.tag,Object(r.a)(Object(r.a)({key:t},b(e.attrs)),n),(e.children||[]).map((function(n,r){return g(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):s.a.createElement(e.tag,Object(r.a)({key:t},b(e.attrs)),(e.children||[]).map((function(n,r){return g(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function y(e){return Object(d.a)(e)[0]}function O(e){return e?Array.isArray(e)?e:[e]:[]}var k="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",w=["icon","className","onClick","style","primaryColor","secondaryColor"],j={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var _=function(e){var t,n,i=e.icon,a=e.className,s=e.onClick,c=e.style,l=e.primaryColor,h=e.secondaryColor,d=Object(o.a)(e,w),b=j;if(l&&(b={primaryColor:l,secondaryColor:h||y(l)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=Object(u.useContext)(f.a).csp;Object(u.useEffect)((function(){Object(v.a)(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=m(i),n="icon should be icon definiton, but got ".concat(i),Object(p.a)(t,"[@ant-design/icons] ".concat(n)),!m(i))return null;var O=i;return O&&"function"===typeof O.icon&&(O=Object(r.a)(Object(r.a)({},O),{},{icon:O.icon(b.primaryColor,b.secondaryColor)})),g(O.icon,"svg-".concat(O.name),Object(r.a)({className:a,onClick:s,style:c,"data-icon":O.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d))};_.displayName="IconReact",_.getTwoToneColors=function(){return Object(r.a)({},j)},_.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;j.primaryColor=t,j.secondaryColor=n||y(t),j.calculated=!!n};var x=_;function E(e){var t=O(e),n=Object(i.a)(t,2),r=n[0],a=n[1];return x.setTwoToneColors({primaryColor:r,secondaryColor:a})}var C=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];E("#1890ff");var T=u.forwardRef((function(e,t){var n,s=e.className,c=e.icon,h=e.spin,d=e.rotate,p=e.tabIndex,v=e.onClick,m=e.twoToneColor,b=Object(o.a)(e,C),g=u.useContext(f.a).prefixCls,y=void 0===g?"anticon":g,k=l()(y,(n={},Object(a.a)(n,"".concat(y,"-").concat(c.name),!!c.name),Object(a.a)(n,"".concat(y,"-spin"),!!h||"loading"===c.name),n),s),w=p;void 0===w&&v&&(w=-1);var j=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,_=O(m),E=Object(i.a)(_,2),T=E[0],S=E[1];return u.createElement("span",Object(r.a)(Object(r.a)({role:"img","aria-label":c.name},b),{},{ref:t,tabIndex:w,onClick:v,className:k}),u.createElement(x,{icon:c,primaryColor:T,secondaryColor:S,style:j}))}));T.displayName="AntdIcon",T.getTwoToneColor=function(){var e=x.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},T.setTwoToneColor=E;t.a=T},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var a=0,o=new Map;function u(e){o.delete(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a+=1;function i(t){if(0===t)u(n),e();else{var a=r((function(){i(t-1)}));o.set(n,a)}}return i(t),n}s.cancel=function(e){var t=o.get(e);return u(t),i(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h}));var r=n(7),i=n(43),a=n(34),o=n(0),u=o.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),s=o.createContext(null),c=function(e){var t=Object(a.a)(e,["prefixCls"]);return o.createElement(i.c,Object(r.a)({},t))},l=o.createContext({prefixCls:""}),f=o.createContext({}),h=function(e){var t=e.children,n=e.status,i=e.override,a=Object(o.useContext)(f),u=Object(o.useMemo)((function(){var e=Object(r.a)({},a);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,a]);return o.createElement(f.Provider,{value:u},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i=n(5),a=n(3),o=n(4),u=n(2),s=n(20),c=n(16),l=n(24),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.m)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.r)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.m)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.r)(t,e)},createSubscribe:u.o,ErrorFactory:u.b,deepExtend:u.r}),t}(),v=new l.b("@firebase/app-compat");if(Object(u.y)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,g=p;Object(c.registerVersion)("@firebase/app-compat","0.1.34",b)},function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return v}));var r=n(23);function i(e,t,n){return{r:255*Object(r.a)(e,255),g:255*Object(r.a)(t,255),b:255*Object(r.a)(n,255)}}function a(e,t,n){e=Object(r.a)(e,255),t=Object(r.a)(t,255),n=Object(r.a)(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),o=0,u=0,s=(i+a)/2;if(i===a)u=0,o=0;else{var c=i-a;switch(u=s>.5?c/(2-i-a):c/(i+a),i){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:u,l:s}}function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function u(e,t,n){var i,a,u;if(e=Object(r.a)(e,360),t=Object(r.a)(t,100),n=Object(r.a)(n,100),0===t)a=n,u=n,i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;i=o(c,s,e+1/3),a=o(c,s,e),u=o(c,s,e-1/3)}return{r:255*i,g:255*a,b:255*u}}function s(e,t,n){e=Object(r.a)(e,255),t=Object(r.a)(t,255),n=Object(r.a)(n,255);var i=Math.max(e,t,n),a=Math.min(e,t,n),o=0,u=i,s=i-a,c=0===i?0:s/i;if(i===a)o=0;else{switch(i){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:c,v:u}}function c(e,t,n){e=6*Object(r.a)(e,360),t=Object(r.a)(t,100),n=Object(r.a)(n,100);var i=Math.floor(e),a=e-i,o=n*(1-t),u=n*(1-a*t),s=n*(1-(1-a)*t),c=i%6;return{r:255*[n,u,o,o,s,n][c],g:255*[s,n,n,u,o,o][c],b:255*[o,o,s,n,n,u][c]}}function l(e,t,n,i){var a=[Object(r.e)(Math.round(e).toString(16)),Object(r.e)(Math.round(t).toString(16)),Object(r.e)(Math.round(n).toString(16))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function f(e,t,n,i,a){var o=[Object(r.e)(Math.round(e).toString(16)),Object(r.e)(Math.round(t).toString(16)),Object(r.e)(Math.round(n).toString(16)),Object(r.e)(h(i))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h(e){return Math.round(255*parseFloat(e)).toString(16)}function d(e){return p(e)/255}function p(e){return parseInt(e,16)}function v(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},function(e,t,n){"use strict";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t.a=r},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u}));var r={};function i(e,t){0}function a(e,t){0}function o(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function u(e,t){o(a,e,t)}t.a=function(e,t){o(i,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8);function i(e,t){var n=Object(r.a)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return A}));var r=n(52),i=n(0),a=n.n(i),o=n(50),u=n(165),s=n(53),c=n(7),l=n(139),f=n.n(l),h=(n(187),n(64)),d=(n(90),function(e){var t=Object(u.a)();return t.displayName=e,t}),p=d("Router-History"),v=d("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return a.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;var b=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);var g={},y=0;function O(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(g[e])return g[e];var t=f.a.compile(e);return y<1e4&&(g[e]=t,y++),t}(e)(t,{pretty:!0})}function k(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.a.createElement(v.Consumer,null,(function(e){e||Object(s.a)(!1);var r=e.history,u=e.staticContext,l=i?r.push:r.replace,f=Object(o.c)(t?"string"===typeof n?O(n,t.params):Object(c.a)({},n,{pathname:O(n.pathname,t.params)}):n);return u?(l(f),null):a.a.createElement(b,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(o.c)(t.to);Object(o.f)(n,Object(c.a)({},f,{key:n.key}))||l(f)},to:n})}))}var w={},j=0;function _(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var i=[],a={regexp:f()(e,i,t),keys:i};return j<1e4&&(r[e]=a,j++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],h=s.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(v.Consumer,null,(function(t){t||Object(s.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?_(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),o=e.props,u=o.children,l=o.component,f=o.render;return Array.isArray(u)&&function(e){return 0===a.a.Children.count(e)}(u)&&(u=null),a.a.createElement(v.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:l?a.a.createElement(l,i):f?f(i):null:"function"===typeof u?u(i):null)}))},t}(a.a.Component);function E(e){return"/"===e.charAt(0)?e:"/"+e}function C(e,t){if(!e)return t;var n=E(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function T(e){return"string"===typeof e?e:Object(o.e)(e)}function S(e){return function(){Object(s.a)(!1)}}function I(){}a.a.Component;var N=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(v.Consumer,null,(function(t){t||Object(s.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?_(i.pathname,Object(c.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);var P=a.a.useContext;function A(){return P(p)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Re}));var r=n(138),i=n(0),a=n.n(i),o=n(78),u=n.n(o),s=n(162),c=n(163),l=n(140),f=n(90),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},m=Object.freeze([]),b=Object.freeze({});function g(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function O(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,j=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),_={};function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&x(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),C=new Map,T=new Map,S=1,I=function(e){if(C.has(e))return C.get(e);for(;T.has(S);)S++;var t=S++;return C.set(e,t),T.set(t,e),t},N=function(e){return T.get(e)},P=function(e,t){t>=S&&(S=t+1),C.set(e,t),T.set(t,e)},A="style["+k+'][data-styled-version="5.3.5"]',R=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},M=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(R);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(P(c,s),D(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(k))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(k,"active"),r.setAttribute("data-styled-version","5.3.5");var o=L();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}x(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=w,z={isServer:!w,useCSSOMInjection:!j},W=function(){function e(e,t,n){void 0===e&&(e=b),void 0===t&&(t={}),this.options=d({},z,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&w&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(A),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(k)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return I(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new U(i):new V(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(I(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(I(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=N(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=k+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,K=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K(t%52)+n;return(K(t%52)+n).replace(H,"$1-$2")}var $=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return $(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(g(n)&&!O(n))return!1}return!0}var X=Q("5.3.5"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(e),this.componentId=t,this.baseHash=$(X,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=me(this.rules,e,t,n).join(""),o=G($(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=$(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=me(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=$(c,p+f),l+=p}}if(l){var v=G(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Z=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?b:e,o=a.options,u=void 0===o?b:o,c=a.plugins,l=void 0===c?m:c,f=new s.a(u),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Z,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||x(15),$(e,t.name)}),5381).toString():"",v}var ne=a.a.createContext(),re=(ne.Consumer,a.a.createContext()),ie=(re.Consumer,new W),ae=te();function oe(){return Object(i.useContext)(ne)||ie}function ue(){return Object(i.useContext)(re)||ae}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=oe(),s=Object(i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){u()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(ne.Provider,{value:s},a.a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return x(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),le=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=me(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ve(e)?"":O(e)?"."+e.styledComponentId:g(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ve(t[o])&&(Array.isArray(t[o])&&t[o].isCss||g(t[o])?a.push(pe(o)+":",t[o],";"):v(t[o])?a.push.apply(a,e(t[o],o)):a.push(pe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var be=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g(e)||v(e)?be(me(p(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:be(me(p(e,n)))}new Set;var ye=function(e,t,n){return void 0===n&&(n=b),e.theme!==n.theme&&e.theme||t||n.theme},Oe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ke=/(^-|-$)/g;function we(e){return e.replace(Oe,"-").replace(ke,"")}var je=function(e){return G(Q(e)>>>0)};function _e(e){return"string"==typeof e&&!0}var xe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ce(e,t,n){var r=e[n];xe(t)&&xe(r)?Te(r,t):e[n]=t}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(xe(o))for(var u in o)Ee(u)&&Ce(e,o[u],u)}return e}var Se=a.a.createContext();Se.Consumer;var Ie={};function Ne(e,t,n){var r=O(e),o=!_e(e),u=t.attrs,s=void 0===u?m:u,c=t.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);Ie[n]=(Ie[n]||0)+1;var r=n+"-"+je("5.3.5"+n+Ie[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,v=void 0===p?function(e){return _e(e)?"styled."+e:"Styled("+y(e)+")"}(e):p,k=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,w=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,j=t.shouldForwardProp;r&&e.shouldForwardProp&&(j=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var _,x=new J(n,k,r?e.componentStyle:void 0),E=x.isStatic&&0===s.length,C=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=b);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in g(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ye(t,Object(i.useContext)(Se),u)||b,t,a),v=p[0],m=p[1],y=function(e,t,n,r){var i=oe(),a=ue();return t?e.generateAndInjectStyles(b,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,v),O=n,k=m.$as||t.$as||m.as||t.as||h,w=_e(k),j=m!==t?d({},t,{},m):t,_={};for(var x in j)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?_.as=j[x]:(c?c(x,l.a,k):!w||Object(l.a)(x))&&(_[x]=j[x]));return t.style&&m.style!==t.style&&(_.style=d({},t.style,{},m.style)),_.className=Array.prototype.concat(s,f,y!==f?y:null,t.className,m.className).filter(Boolean).join(" "),_.ref=O,Object(i.createElement)(k,_)}(_,e,t,E)};return C.displayName=v,(_=a.a.forwardRef(C)).attrs=w,_.componentStyle=x,_.displayName=v,_.shouldForwardProp=j,_.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,_.styledComponentId=k,_.target=r?e.target:e,_.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(_e(e)?e:we(y(e)));return Ne(e,d({},i,{attrs:w,componentId:a}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Te({},e.defaultProps,t):t}}),_.toString=function(){return"."+_.styledComponentId},o&&h()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Pe=function(e){return function e(t,n,i){if(void 0===i&&(i=b),!Object(r.isValidElementType)(n))return x(1,String(n));var a=function(){return t(n,i,ge.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,d({},i,{},r))},a.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Ne,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Pe[e]=Pe(e)}));var Ae=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),W.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ge.apply(void 0,[e].concat(n)),u="sc-global-"+je(JSON.stringify(o)),s=new Ae(o,u);function c(e){var t=oe(),n=ue(),r=Object(i.useContext)(Se),a=Object(i.useRef)(t.allocateGSInstance(u)).current;return t.server&&l(a,e,t,r,n),Object(i.useLayoutEffect)((function(){if(!t.server)return l(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function l(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,_,n,i);else{var a=d({},t,{theme:ye(t,r,c.defaultProps)});s.renderStyles(e,a,n,i)}}return a.a.memo(c)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',k+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?x(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return x(2);var n=((t={})[k]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[a.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?x(2):a.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return x(3)}}();t.b=Pe}).call(this,n(100))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(0),i=r.isValidElement;function a(e){return e&&e.type===r.Fragment}function o(e,t){return function(e,t,n){return i(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(21),i=n(119),a=n(81);function o(e,t){"function"===typeof e?e(t):"object"===Object(r.a)(e)&&e&&"current"in e&&(e.current=t)}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){o(t,e)}))}}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)((function(){return u.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}function c(e){var t,n,r=Object(i.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"d",(function(){return re})),n.d(t,"g",(function(){return le})),n.d(t,"c",(function(){return he})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return ne})),n.d(t,"h",(function(){return be}));var r=n(0),i=n(7),a=n(22),o=n(5),u=n(8),s=n(15),c=n(3),l=n(4),f=n(41),h=n(12),d=n(13),p=n(58),v=n(33),m="RC_FORM_INTERNAL_HOOKS",b=function(){Object(v.a)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},g=r.createContext({getFieldValue:b,getFieldsValue:b,getFieldError:b,getFieldWarning:b,getFieldsError:b,isFieldsTouched:b,isFieldTouched:b,isFieldValidating:b,isFieldsValidating:b,resetFields:b,setFields:b,setFieldValue:b,setFieldsValue:b,validateFields:b,submit:b,getInternalHooks:function(){return b(),{dispatch:b,initEntityValue:b,registerField:b,useSubscribe:b,setInitialValues:b,destroyForm:b,setCallbacks:b,registerWatch:b,getFields:b,setValidateMessages:b,setPreserve:b,getInitialValue:b}}});function y(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var O=n(1),k=n(6),w=n(164),j="'${name}' is not a valid ${type}",_={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:j,method:j,array:j,object:j,number:j,date:j,boolean:j,integer:j,float:j,regexp:j,email:j,url:j,hex:j},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},x=n(21);function E(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var C=n(104);function T(e,t,n,r){if(!t.length)return n;var i,a=Object(C.a)(t),o=a[0],c=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Object(s.a)(e):Object(u.a)({},e):[],r&&void 0===n&&1===c.length?delete i[o][c[0]]:i[o]=T(i[o],c,n,r),i}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!E(e,t.slice(0,-1))?e:T(e,t,n,r)}function I(e){return Array.isArray(e)?function(e){return e.map((function(e){return I(e)}))}(e):"object"===Object(x.a)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=I(e[n]);return t}return e}(e):e}var N=I;function P(e){return y(e)}function A(e,t){return E(e,t)}function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=S(e,t,n,r);return i}function D(e,t){var n={};return t.forEach((function(t){var r=A(e,t);n=R(n,t,r)})),n}function M(e,t){return e&&e.some((function(e){return V(e,t)}))}function L(e){return"object"===Object(x.a)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function F(e,t){var n=Array.isArray(e)?Object(s.a)(e):Object(u.a)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=L(r)&&L(i);n[e]=a?F(r,i||{}):N(i)})),n):n}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return F(e,t)}),e)}function V(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function q(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Object(x.a)(t.target)&&e in t.target?t.target[e]:t}function B(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Object(s.a)(e.slice(0,n)),[i],Object(s.a)(e.slice(n,t)),Object(s.a)(e.slice(t+1,r))):a<0?[].concat(Object(s.a)(e.slice(0,t)),Object(s.a)(e.slice(t+1,n+1)),[i],Object(s.a)(e.slice(n+1,r))):e}var z=w.a;function W(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var H="CODE_LOGIC_ERROR";function K(e,t,n,r,i){return G.apply(this,arguments)}function G(){return G=Object(k.a)(Object(O.a)().mark((function e(t,n,i,a,c){var l,f,h,d,p,v,m,b,g;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(l=Object(u.a)({},i)).ruleIndex,l.validator&&(f=l.validator,l.validator=function(){try{return f.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(H)}}),h=null,l&&"array"===l.type&&l.defaultField&&(h=l.defaultField,delete l.defaultField),d=new z(Object(o.a)({},t,[l])),p=U({},_,a.validateMessages),d.messages(p),v=[],e.prev=9,e.next=12,Promise.resolve(d.validate(Object(o.a)({},t,n),Object(u.a)({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(v=e.t0.errors.map((function(e,t){var n=e.message,i=n===H?p.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(v.length||!h){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return K("".concat(t,".").concat(n),e,h,a,c)})));case 20:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t))}),[]));case 22:return b=Object(u.a)(Object(u.a)({},i),{},{name:t,enum:(i.enum||[]).join(", ")},c),g=v.map((function(e){return"string"===typeof e?W(e,b):e})),e.abrupt("return",g);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),G.apply(this,arguments)}function $(e,t,n,r,i,a){var o,s=e.join("."),c=n.map((function(e,t){var n=e.validator,r=Object(u.a)(Object(u.a)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Object(v.a)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Object(v.a)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=Object(k.a)(Object(O.a)().mark((function e(n,i){var o,u,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<c.length)){e.next=12;break}return u=c[o],e.next=5,K(s,t,u,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:u}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=c.map((function(e){return K(s,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return Y.apply(this,arguments)}(l):function(e){return Q.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function Q(){return(Q=Object(k.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Object(s.a)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(k.a)(Object(O.a)().mark((function e(t){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=["name"],J=[];function Z(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var ee=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;(Object(c.a)(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=J,i.warnings=J,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,P(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat(Object(s.a)(r),Object(s.a)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(Object(u.a)(Object(u.a)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&M(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=J,i.warnings=J,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=J,i.warnings=J,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||J),"warnings"in p&&(i.warnings=p.warnings||J),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&Z(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(P).some((function(e){return M(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&Z(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,c=a.messageVariables,l=(e||{}).triggerName,f=i.getRules();l&&(f=f.filter((function(e){var t=e.validateTrigger;return!t||y(t).includes(l)})));var h=$(t,n,f,e,u,c);return h.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?J:r;t?a.push.apply(a,Object(s.a)(i)):n.push.apply(n,Object(s.a)(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),h}));return i.validatePromise=r,i.dirty=!0,i.errors=J,i.warnings=J,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(m).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return Object(u.a)(Object(u.a)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=Object(p.a)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return A(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,s=t.normalize,c=t.valuePropName,l=t.getValueProps,f=t.fieldContext,h=void 0!==r?r:f.validateTrigger,d=i.getNamePath(),p=f.getInternalHooks,v=f.getFieldsValue,b=p(m),g=b.dispatch,O=i.getValue(),k=l||function(e){return Object(o.a)({},c,e)},w=e[n],j=Object(u.a)(Object(u.a)({},e),k(O));j[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):q.apply(void 0,[c].concat(n)),s&&(e=s(e,O,v(!0))),g({type:"updateValue",namePath:d,value:e}),w&&w.apply(void 0,n)};var _=y(h||[]);return _.forEach((function(e){var t=j[e];j[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&g({type:"validateField",namePath:d,triggerName:e})}})),j},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m).initEntityValue)(Object(f.a)(i));return i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(Object(v.a)(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);ee.contextType=g,ee.defaultProps={trigger:"onChange",valuePropName:"value"};var te=function(e){var t=e.name,n=Object(a.a)(e,X),o=r.useContext(g),u=void 0!==t?P(t):void 0,s="keep";return n.isListField||(s="_".concat((u||[]).join("_"))),r.createElement(ee,Object(i.a)({key:s,name:u},n,{fieldContext:o}))},ne=r.createContext(null),re=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,c=r.useContext(g),l=r.useRef({keys:[],id:0}).current,f=r.useMemo((function(){var e=P(c.prefixName)||[];return[].concat(Object(s.a)(e),Object(s.a)(P(t)))}),[c.prefixName,t]),h=r.useMemo((function(){return Object(u.a)(Object(u.a)({},c),{},{prefixName:f})}),[c,f]),d=r.useMemo((function(){return{getKey:function(e){var t=f.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[f]);if("function"!==typeof i)return Object(v.a)(!1,"Form.List only accepts function as children."),null;return r.createElement(ne.Provider,{value:d},r.createElement(g.Provider,{value:h},r.createElement(te,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=c.getFieldValue,u=function(){return o(f||[])||[]},h={add:function(e,t){var n=u();t>=0&&t<=n.length?(l.keys=[].concat(Object(s.a)(l.keys.slice(0,t)),[l.id],Object(s.a)(l.keys.slice(t))),a([].concat(Object(s.a)(n.slice(0,t)),[e],Object(s.a)(n.slice(t))))):(l.keys=[].concat(Object(s.a)(l.keys),[l.id]),a([].concat(Object(s.a)(n),[e]))),l.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(l.keys=B(l.keys,e,t),a(B(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),h,t)}))))},ie=n(9);var ae="__@field_split__";function oe(e){return e.map((function(e){return"".concat(Object(x.a)(e),":").concat(e)})).join(ae)}var ue=function(){function e(){Object(c.a)(this,e),this.kvs=new Map}return Object(l.a)(e,[{key:"set",value:function(e,t){this.kvs.set(oe(e),t)}},{key:"get",value:function(e){return this.kvs.get(oe(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(oe(e))}},{key:"map",value:function(e){return Object(s.a)(this.kvs.entries()).map((function(t){var n=Object(ie.a)(t,2),r=n[0],i=n[1],a=r.split(ae);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=Object(ie.a)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),se=["name","errors"],ce=Object(l.a)((function e(t){var n=this;Object(c.a)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===m?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Object(v.a)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=U({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=R(i,n,A(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new ue;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=A(n.initialValues,e);return e.length?N(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ue;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=P(e);return t.get(n)||{INVALIDATE_NAME_PATH:P(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),D(n.store,i.map(P))},this.getFieldValue=function(e){n.warningUnhooked();var t=P(e);return A(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:P(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=P(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=P(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(P),u=!1):(i=null,u=a):(i=a.map(P),u=o);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return u?c.every(l):c.some(l);var f=new ue;i.forEach((function(e){f.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat(Object(s.a)(t),[e])}))}))}));var h=function(e){return e.some(l)},d=f.map((function(e){return e.value}));return u?d.every(h):d.some(h)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(P);return t.some((function(e){var t=e.getNamePath();return M(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ue,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Object(v.a)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Object(v.a)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(R(n.store,i,Object(s.a)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Object(s.a)(Object(s.a)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(U({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(P);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(R(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,Object(a.a)(e,se)),u=P(i);r.push(u),"value"in o&&n.updateStore(R(n.store,u,o.value)),n.notifyObservers(t,[u],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=Object(u.a)(Object(u.a)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===A(n.store,r)&&n.updateStore(R(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!V(e.getNamePath(),t)}))){var u=n.store;n.updateStore(R(u,t,o,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Object(u.a)(Object(u.a)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Object(s.a)(r))}),r},this.updateValue=function(e,t){var r=P(e),i=n.store;n.updateStore(R(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(D(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Object(s.a)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=U(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new ue;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=P(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new ue;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return M(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(P):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var c=o.getNamePath();c.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(c)}if(o.props.rules&&o.props.rules.length){var l=o.getNamePath();if(!r||M(i,l)){var f=o.validateRules(Object(u.a)({validateMessages:Object(u.a)(Object(u.a)({},_),n.validateMessages)},t));a.push(f.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,Object(s.a)(i)):n.push.apply(n,Object(s.a)(i))})),n.length?Promise.reject({name:l,errors:n,warnings:r}):{name:l,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var le=function(e){var t=r.useRef(),n=r.useState({}),i=Object(ie.a)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new ce((function(){i({})}));t.current=a.getForm()}return[t.current]},fe=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),he=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,s=r.useContext(fe),c=r.useRef({});return r.createElement(fe.Provider,{value:Object(u.a)(Object(u.a)({},s),{},{validateMessages:Object(u.a)(Object(u.a)({},s.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:c.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=Object(u.a)(Object(u.a)({},c.current),{},Object(o.a)({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=Object(u.a)({},c.current);delete t[e],c.current=t,s.unregisterForm(e)}})},a)},de=fe,pe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ve=function(e,t){var n=e.name,o=e.initialValues,c=e.fields,l=e.form,f=e.preserve,h=e.children,d=e.component,p=void 0===d?"form":d,v=e.validateMessages,b=e.validateTrigger,y=void 0===b?"onChange":b,O=e.onValuesChange,k=e.onFieldsChange,w=e.onFinish,j=e.onFinishFailed,_=Object(a.a)(e,pe),E=r.useContext(de),C=le(l),T=Object(ie.a)(C,1)[0],S=T.getInternalHooks(m),I=S.useSubscribe,N=S.setInitialValues,P=S.setCallbacks,A=S.setValidateMessages,R=S.setPreserve,D=S.destroyForm;r.useImperativeHandle(t,(function(){return T})),r.useEffect((function(){return E.registerForm(n,T),function(){E.unregisterForm(n)}}),[E,T,n]),A(Object(u.a)(Object(u.a)({},E.validateMessages),v)),P({onValuesChange:O,onFieldsChange:function(e){if(E.triggerFormChange(n,e),k){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];k.apply(void 0,[e].concat(r))}},onFinish:function(e){E.triggerFormFinish(n,e),w&&w(e)},onFinishFailed:j}),R(f);var M,L=r.useRef(null);N(o,!L.current),L.current||(L.current=!0),r.useEffect((function(){return D}),[]);var F="function"===typeof h;F?M=h(T.getFieldsValue(!0),T):M=h;I(!F);var U=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(x.a)(e)||"object"!==Object(x.a)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return Object(s.a)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(U.current||[],c||[])||T.setFields(c||[]),U.current=c}),[c,T]);var V=r.useMemo((function(){return Object(u.a)(Object(u.a)({},T),{},{validateTrigger:y})}),[T,y]),q=r.createElement(g.Provider,{value:V},M);return!1===p?q:r.createElement(p,Object(i.a)({},_,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),T.submit()},onReset:function(e){var t;e.preventDefault(),T.resetFields(),null===(t=_.onReset)||void 0===t||t.call(_,e)}}),q)};function me(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var be=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=void 0===i?[]:i,o=t[1],u=Object(r.useState)(),s=Object(ie.a)(u,2),c=s[0],l=s[1],f=Object(r.useMemo)((function(){return me(c)}),[c]),h=Object(r.useRef)(f);h.current=f;var d=Object(r.useContext)(g),p=o||d,v=p&&p._init,b=P(a),y=Object(r.useRef)(b);return y.current=b,Object(r.useEffect)((function(){if(v){var e=p.getFieldsValue,t=(0,(0,p.getInternalHooks)(m).registerWatch)((function(e){var t=A(e,y.current),n=me(t);h.current!==n&&(h.current=n,l(t))})),n=A(e(),y.current);return l(n),t}}),[v]),c},ge=r.forwardRef(ve);ge.FormProvider=he,ge.Field=te,ge.List=re,ge.useForm=le,ge.useWatch=be;t.f=ge},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g}));var r,i,a=n(8),o=n(1),u=n(6);var s=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap;var d={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(b(this),n),m(s.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(b(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[b(this),t].concat(r));return l.set(a,t.sort?t.sort():[t]),m(a)}}function v(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(!c.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));c.set(e,t)}}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,d):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(m(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&s.set(t,e)})).catch((function(){})),h.set(t,e),t}(e);if(f.has(e))return f.get(e);var t=v(e);return t!==e&&(f.set(e,t),h.set(t,e)),t}var b=function(e){return h.get(e)};function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=m(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(m(u.result),e.oldVersion,e.newVersion,m(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blocked,r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",(function(){return n()})),m(r).then((function(){}))}var O=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],w=new Map;function j(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(w.get(t))return w.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=k.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||O.includes(n))){var a=function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var a,u,s,c,l,f,h=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return w.set(t,a),a}}}d=function(e){return Object(a.a)(Object(a.a)({},e),{},{get:function(t,n,r){return j(t,n)||e.get(t,n,r)},has:function(t,n){return!!j(t,n)||e.has(t,n)}})}(d)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return lr})),n.d(t,"b",(function(){return hr})),n.d(t,"c",(function(){return fr})),n.d(t,"d",(function(){return pr})),n.d(t,"e",(function(){return dr})),n.d(t,"f",(function(){return vr})),n.d(t,"g",(function(){return mr})),n.d(t,"h",(function(){return sr})),n.d(t,"i",(function(){return cr}));var r,i=n(9),a=n(10),o=n(36),u=n(32),s=n(12),c=n(13),l=n(3),f=n(4),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=h||self;function m(){}function b(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),O=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function j(e,t,n){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:w).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var C={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++O)}(this);delete C[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(b(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",m,t),v.removeEventListener("test",m,t)}catch(n){}return e}();function A(e){return/^[\s\xa0]*$/.test(e)}var R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return e<t?-1:e>t?1:0}function M(){var e=v.navigator;return e&&(e=e.userAgent)?e:""}function L(e){return-1!=M().indexOf(e)}function F(e){return F[" "](e),e}F[" "]=m;var U,V=L("Opera"),q=L("Trident")||L("MSIE"),B=L("Edge"),z=B||q,W=L("Gecko")&&!(-1!=M().toLowerCase().indexOf("webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),H=-1!=M().toLowerCase().indexOf("webkit")&&!L("Edge");function K(){var e=v.document;return e?e.documentMode:void 0}e:{var G="",$=function(){var e=M();return W?/rv:([^\);]+)(\)|;)/.exec(e):B?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):H?/WebKit\/(\S+)/.exec(e):V?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($&&(G=$?$[1]:""),q){var Q=K();if(null!=Q&&Q>parseFloat(G)){U=String(Q);break e}}U=G}var Y,X={};function J(){return function(e){var t=X;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=R(String(U)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(v.document&&q){var Z=K();Y=Z||(parseInt(U,10)||void 0)}else Y=void 0;var ee=Y;function te(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W){e:{try{F(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.X.h.call(this)}}x(te,N);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ie,this.ba=this.ea=!1}function oe(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function se(e){var t={};for(var n in e)t[n]=e[n];return t}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ce.length;a++)n=ce[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=T(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=de(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ae(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function me(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)me(e,t[a],n,r,i);return null}return n=xe(n),e&&e[re]?e.N(t,n,g(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,u=je(e);if(u||(e[pe]=u=new fe(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=we;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ke(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=xe(n),e&&e[re]?e.O(t,n,g(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function ye(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ye(e,t[a],n,r,i);else r=g(r)?!!r.capture:!!r,n=xe(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=de(a=e.g[t],n,r,i))&&(oe(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=je(e))&&(t=e.g[t.toString()],e=-1,t&&(e=de(t,n,r,i)),(n=-1<e?t[e]:null)&&Oe(n))}function Oe(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[re])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ke(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=je(t))?(he(n,e),0==n.h&&(n.src=null,t[pe]=null)):oe(e)}}}function ke(e){return e in ve?ve[e]:ve[e]="on"+e}function we(e,t){if(e.ba)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Oe(e),e=n.call(r,t)}return e}function je(e){return(e=e[pe])instanceof fe?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"===typeof e?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function Ee(){E.call(this),this.i=new fe(this),this.P=this,this.I=null}function Ce(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;le(t=new N(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Te(o,r,!0,t)&&i}if(i=Te(o=t.g=e,r,!0,t)&&i,i=Te(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Te(o=t.g=n[a],r,!1,t)&&i}function Te(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&he(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}x(Ee,E),Ee.prototype[re]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){ye(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=v.JSON.stringify;function Ie(){var e=Fe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ne,Pe=function(){function e(){Object(l.a)(this,e),this.h=this.g=null}return Object(f.a)(e,[{key:"add",value:function(e,t){var n=Ae.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ae=new(function(){function e(t,n){Object(l.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(f.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Re}),(function(e){return e.reset()})),Re=function(){function e(){Object(l.a)(this,e),this.next=this.g=this.h=null}return Object(f.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function De(e){v.setTimeout((function(){throw e}),0)}function Me(e,t){Ne||function(){var e=v.Promise.resolve(void 0);Ne=function(){e.then(Ue)}}(),Le||(Ne(),Le=!0),Fe.add(e,t)}var Le=!1,Fe=new Pe;function Ue(){for(var e;e=Ie();){try{e.h.call(e.g)}catch(n){De(n)}var t=Ae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Ve(e,t){Ee.call(this),this.h=e||1,this.g=t||v,this.j=j(this.kb,this),this.l=Date.now()}function qe(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Be(e,t,n){if("function"===typeof e)n&&(e=j(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=j(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}function ze(e){e.g=Be((function(){e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}x(Ve,Ee),(r=Ve.prototype).ca=!1,r.R=null,r.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ce(this,"tick"),this.ca&&(qe(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ve.X.M.call(this),qe(this),delete this.g};var We=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(f.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ze(this)}},{key:"M",value:function(){Object(o.a)(Object(u.a)(n.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(E);function He(e){E.call(this),this.h=e,this.g={}}x(He,E);var Ke=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var a=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $e(e){ue(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oe(e)}),e),e.g={}}function Qe(){this.g=!0}function Ye(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Se(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}He.prototype.M=function(){He.X.M.call(this),$e(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var Xe={},Je=null;function Ze(){return Je=Je||new Ee}function et(e){N.call(this,Xe.Oa,e)}function tt(e){var t=Ze();Ce(t,new et(t,e))}function nt(e,t){N.call(this,Xe.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();Ce(t,new nt(t,e))}function it(e,t){N.call(this,Xe.Pa,e),this.size=t}function at(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout((function(){e()}),t)}Xe.Oa="serverreachability",x(et,N),Xe.STAT_EVENT="statevent",x(nt,N),Xe.Pa="timingevent",x(it,N);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}st.prototype.h=null;var ft,ht={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function dt(){N.call(this,"d")}function pt(){N.call(this,"c")}function vt(){}function mt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new He(this),this.O=gt,e=z?125:void 0,this.T=new Ve(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}x(dt,N),x(pt,N),x(vt,st),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var gt=45e3,yt={},Ot={};function kt(e,t,n){e.K=1,e.v=Vt(Dt(t)),e.s=n,e.P=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Et(e),e.A=Dt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Zt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new bt,e.g=tr(e.l,n?t:null,!e.s),0<e.N&&(e.L=new We(j(e.Ka,e,e.g),e.N)),Ge(e.S,e.g,"readystatechange",e.hb),t=e.H?se(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function jt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function _t(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=xt(e,n))==Ot){4==t&&(e.o=4,rt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==yt){e.o=4,rt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),Nt(e,r)}jt(e)&&r!=Ot&&r!=yt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.K=!0,rt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),It(e),St(e))}function xt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ot:(n=Number(t.substring(n,r)),isNaN(n)?yt:(r+=1)+n>t.length?Ot:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.V=Date.now()+e.O,Ct(e,e.O)}function Ct(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=at(j(e.fb,e),t)}function Tt(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||Yn(e.l,e)}function It(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qe(e.T),$e(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sn(n.h,e)))if(!e.J&&sn(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qn(n),Un(n)}Kn(n),rt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=at(j(n.bb,n),6e3));if(1>=un(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Jn(n,11)}else if((e.J||n.g==e)&&Qn(n),!A(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ut(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=er(r,r.H?r.ka:null,r.V),d.J){ln(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Tt(p),Et(p)),r.g=d}else Hn(r);0<n.i.length&&qn(n)}else"stop"!=a[0]&&"close"!=a[0]||Jn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Jn(n,7):Fn(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}tt(4)}catch(a){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(b(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(b(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(b(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(r=mt.prototype).setTimeout=function(e){this.O=e},r.hb=function(e){e=e.target;var t=this.L;t&&3==Pn(e)?t.l():this.Ka(e)},r.Ka=function(e){try{if(e==this.g)e:{var t=Pn(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||z||this.g&&(this.h.h||this.g.fa()||An(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),Tt(this);var i=this.g.aa();this.Y=i;t:if(jt(this)){var a=An(this.g);e="";var o=a.length,u=4==Pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){It(this),St(this);var s="";break t}this.h.i=new v.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rt(12),It(this),St(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,i)}this.P?(_t(this,t,s),z&&this.i&&3==t&&(Ge(this.S,this.T,"tick",this.gb),this.T.start())):(Ye(this.j,this.m,s,null),Nt(this,s)),4==t&&It(this),this.i&&!this.I&&(4==t?Yn(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),It(this),St(this)}}}catch(t){}},r.gb=function(){if(this.g){var e=Pn(this.g),t=this.g.fa();this.C<t.length&&(Tt(this),_t(this,e,t),this.i&&4!=e&&Et(this))}},r.cancel=function(){this.I=!0,It(this)},r.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),It(this),this.o=2,St(this)):Ct(this,this.V-e)};var At=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rt){this.h=void 0!==t?t:e.h,Mt(this,e.j),this.s=e.s,this.g=e.g,Lt(this,e.m),this.l=e.l,t=e.i;var n=new Qt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ft(this,n),this.o=e.o}else e&&(n=String(e).match(At))?(this.h=!!t,Mt(this,n[1]||"",!0),this.s=qt(n[2]||""),this.g=qt(n[3]||"",!0),Lt(this,n[4]),this.l=qt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.o=qt(n[7]||"")):(this.h=!!t,this.i=new Qt(null,this.h))}function Dt(e){return new Rt(e)}function Mt(e,t,n){e.j=n?qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ft(e,t,n){t instanceof Qt?(e.i=t,function(e,t){t&&!e.j&&(Yt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bt(t,Gt)),e.i=new Qt(t,e.h))}function Ut(e,t,n){e.i.set(t,n)}function Vt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,Wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Kt:Ht,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,$t)),e.join("")};var Wt=/[#\/\?@]/g,Ht=/[#\?:]/g,Kt=/[#\?]/g,Gt=/[#\?@]/g,$t=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Yt(e),t=en(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jt(e,t){return Yt(e),t=en(e,t),e.g.has(t)}function Zt(e,t,n){Xt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),S(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Qt.prototype).add=function(e,t){Yt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Yt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.oa=function(){Yt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.W=function(e){Yt(this);var t=[];if("string"===typeof e)Jt(this,e)&&(t=t.concat(this.g.get(en(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Yt(this),this.i=null,Jt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var tn=Object(f.a)((function e(t,n){Object(l.a)(this,e),this.h=t,this.g=n}));function nn(e){this.l=e||an,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ga&&v.g.Ga()&&v.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,an=10;function on(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function sn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cn(e,t){e.g?e.g.add(t):e.h=t}function ln(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(a.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return S(e.i)}function hn(){}function dn(){this.g=new hn}function pn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;g(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mn(e){this.l=e.$b||null,this.j=e.ib||!1}function bn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(a.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},x(mn,st),mn.prototype.g=function(){return new bn(this.l,this.j)},mn.prototype.i=(rn={},function(){return rn}),x(bn,Ee);var gn=0;function yn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function On(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kn(e)}function kn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=bn.prototype).open=function(e,t){if(this.readyState!=gn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,On(this)),this.readyState=gn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yn(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?On(this):kn(this),3==this.readyState&&yn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,On(this))},r.Ta=function(e){this.g&&(this.response=e,On(this))},r.ga=function(){this.g&&On(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wn=v.JSON.parse;function jn(e){Ee.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_n,this.K=this.L=!1}x(jn,Ee);var _n="",xn=/^https?$/i,En=["POST","PUT"];function Cn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),In(e)}function Tn(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function Sn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=Pn(e)||2!=e.aa()))if(e.v&&4==Pn(e))Be(e.Ha,0,e);else if(Ce(e,"readystatechange"),4==Pn(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(At)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!xn.test(a?a.toLowerCase():"")}t=i}if(t)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var u=2<Pn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Tn(e)}}finally{In(e)}}}function In(e,t){if(e.g){Nn(e);var n=e.g,r=e.C[0]?m:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Pn(e){return e.g?e.g.readyState:0}function An(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case _n:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Rn(e){var t="";return ue(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ln(e){this.Ca=0,this.i=[],this.j=new Qe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Mn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Mn("baseRetryDelayMs",5e3,e),this.ab=Mn("retryDelaySeedMs",1e4,e),this.Za=Mn("forwardChannelMaxRetries",2,e),this.ta=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new nn(e&&e.concurrentRequestLimit),this.Fa=new dn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fn(e){if(Vn(e),3==e.G){var t=e.U++,n=Dt(e.F);Ut(n,"SID",e.I),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),zn(e,n),(t=new mt(e,e.j,t,void 0)).K=2,t.v=Vt(Dt(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=tr(t.l,null),t.g.da(t.v)),t.F=Date.now(),Et(t)}Zn(e)}function Un(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Vn(e){Un(e),e.u&&(v.clearTimeout(e.u),e.u=null),Qn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function qn(e){on(e.h)||e.m||(e.m=!0,Me(e.Ja,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.U++;var r=Dt(e.F);Ut(r,"SID",e.I),Ut(r,"RID",n),Ut(r,"AID",e.T),zn(e,r),e.o&&e.s&&Dn(r,e.o,e.s),n=new mt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cn(e.h,n),kt(n,r,t)}function zn(e,t){e.ia&&ue(e.ia,(function(e,n){Ut(t,n,e)})),e.l&&Pt({},(function(e,n){Ut(t,n,e)}))}function Wn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?j(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{pn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Z=1,Me(e.Ia,e),e.A=0)}function Kn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=at(j(e.Ia,e),Xn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new mt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Dt(e.sa);Ut(t,"RID","rpc"),Ut(t,"SID",e.I),Ut(t,"CI",e.L?"0":"1"),Ut(t,"AID",e.T),Ut(t,"TYPE","xmlhttp"),zn(e,t),e.o&&e.s&&Dn(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Vt(Dt(t)),n.s=null,n.P=!0,wt(n,e)}function Qn(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function Yn(e,t){var n=null;if(e.g==t){Qn(e),Gn(e),e.g=null;var r=2}else{if(!sn(e.h,t))return;n=t.D,ln(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ce(r=Ze(),new it(r,n,t,i)),qn(e)}else Hn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(un(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=at(j(e.Ja,e,t),Xn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Jn(e,5);break;case 4:Jn(e,10);break;case 3:Jn(e,6);break;default:Jn(e,2)}}function Xn(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Jn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=j(e.jb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Mt(n,"https"),Vt(n)),function(e,t){var n=new Qe;if(v.Image){var r=new Image;r.onload=_(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(vn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.l&&e.l.va(t),Zn(e),Vn(e)}function Zn(e){if(e.G=0,e.la=[],e.l){var t=fn(e.h);0==t.length&&0==e.i.length||(I(e.la,t),I(e.la,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ua()}}function er(e,t,n){var r=n instanceof Rt?Dt(n):new Rt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Lt(r,r.m);else{var i=v.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Rt(null,void 0);r&&Mt(a,r),t&&(a.g=t),i&&Lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ut(r,n,t),Ut(r,"VER",e.ma),zn(e,r),r}function tr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new jn(new mn({ib:!0})):new jn(e.ra)).L=e.H,t}function nr(){}function rr(){if(q&&!(10<=Number(ee)))throw Error("Environmental error: no available transport.")}function ir(e,t){Ee.call(this),this.g=new Ln(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function ar(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function or(){pt.call(this),this.status=1}function ur(e){this.g=e}(r=jn.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?ct(this.u):ct(ft),this.g.onreadystatechange=j(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(c){return void Cn(this,c)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var u,s=Object(a.a)(r.keys());try{for(s.s();!(u=s.n()).done;){var c=u.value;n.set(c,r.get(c))}}catch(m){s.e(m)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),o=v.FormData&&e instanceof v.FormData,!(0<=T(En,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,f=Object(a.a)(n);try{for(f.s();!(l=f.n()).done;){var h=Object(i.a)(l.value,2),d=h[0],p=h[1];this.g.setRequestHeader(d,p)}}catch(m){f.e(m)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(e){return q&&J()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=j(this.qa,this)):this.A=Be(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(c){Cn(this,c)}},r.qa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),In(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),jn.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?Sn(this):this.eb())},r.eb=function(){Sn(this)},r.aa=function(){try{return 2<Pn(this)?this.g.status:-1}catch(rn){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},r.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wn(t)}},r.Ea=function(){return this.m},r.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Ln.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new mt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?le(n=se(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Wn(this,t,r),Ut(i=Dt(this.F),"RID",e),Ut(i,"CVER",22),this.D&&Ut(i,"X-HTTP-Session-Id",this.D),zn(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Rn(n)))+"&"+r:this.o&&Dn(i,this.o,n)),cn(this.h,t),this.Xa&&Ut(i,"TYPE","init"),this.O?(Ut(i,"$req",r),Ut(i,"SID","null"),t.Z=!0,kt(t,i,null)):kt(t,i,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.i.length||on(this.h)||Bn(this))},r.Ia=function(){if(this.u=null,$n(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=at(j(this.cb,this),e)}},r.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rt(10),Un(this),$n(this))},r.bb=function(){null!=this.v&&(this.v=null,Un(this),Kn(this),rt(19))},r.jb=function(e){e?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))},(r=nr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Qa=function(){},rr.prototype.g=function(e,t){return new ir(e,t)},x(ir,Ee),ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;rt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=er(e,null,e.V),qn(e)},ir.prototype.close=function(){Fn(this.g)},ir.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Se(e),e=n);t.i.push(new tn(t.$a++,e)),3==t.G&&qn(t)},ir.prototype.M=function(){this.g.l=null,delete this.j,Fn(this.g),delete this.g,ir.X.M.call(this)},x(ar,dt),x(or,pt),x(ur,nr),ur.prototype.xa=function(){Ce(this.g,"a")},ur.prototype.wa=function(e){Ce(this.g,new ar(e))},ur.prototype.va=function(e){Ce(this.g,new or(e))},ur.prototype.ua=function(){Ce(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ut.COMPLETE="complete",lt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.Na,jn.prototype.getLastErrorCode=jn.prototype.Ea,jn.prototype.getStatus=jn.prototype.aa,jn.prototype.getResponseJson=jn.prototype.Ra,jn.prototype.getResponseText=jn.prototype.fa,jn.prototype.send=jn.prototype.da;var sr=d.createWebChannelTransport=function(){return new rr},cr=d.getStatEventTarget=function(){return Ze()},lr=d.ErrorCode=ot,fr=d.EventType=ut,hr=d.Event=Xe,dr=d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pr=d.FetchXmlHttpFactory=mn,vr=d.WebChannel=lt,mr=d.XhrIo=jn}).call(this,n(79))},function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r=n(5),i=n(8),a=n(9),o=n(21),u=n(0),s=n(72),c=n(40),l=n(11),f=n.n(l),h=n(42);function d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var p=function(e,t){var n={animationend:d("Animation","AnimationEnd"),transitionend:d("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Object(h.a)(),"undefined"!==typeof window?window:{}),v={};if(Object(h.a)()){var m=document.createElement("div");v=m.style}var b={};function g(e){if(b[e])return b[e];var t=p[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in v)return b[e]=t[a],b[e]}return""}var y=g("animationend"),O=g("transitionend"),k=!(!y||!O),w=y||"animationend",j=O||"transitionend";function _(e,t){return e?"object"===Object(o.a)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var x="none",E="appear",C="enter",T="leave",S="none",I="prepare",N="start",P="active",A="end",R=n(49),D=n(27),M=Object(h.a)()?u.useLayoutEffect:u.useEffect,L=[I,N,P,A];function F(e){return e===P||e===A}var U=function(e,t){var n=Object(R.a)(S),r=Object(a.a)(n,2),i=r[0],o=r[1],s=function(){var e=u.useRef(null);function t(){D.a.cancel(e.current)}return u.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Object(D.a)((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),c=Object(a.a)(s,2),l=c[0],f=c[1];return M((function(){if(i!==S&&i!==A){var e=L.indexOf(i),n=L[e+1],r=t(i);false===r?o(n,!0):l((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),u.useEffect((function(){return function(){f()}}),[]),[function(){o(I,!0)},i]};function V(e,t,n,o){var s=o.motionEnter,c=void 0===s||s,l=o.motionAppear,f=void 0===l||l,h=o.motionLeave,d=void 0===h||h,p=o.motionDeadline,v=o.motionLeaveImmediately,m=o.onAppearPrepare,b=o.onEnterPrepare,g=o.onLeavePrepare,y=o.onAppearStart,O=o.onEnterStart,k=o.onLeaveStart,_=o.onAppearActive,S=o.onEnterActive,A=o.onLeaveActive,D=o.onAppearEnd,L=o.onEnterEnd,V=o.onLeaveEnd,q=o.onVisibleChanged,B=Object(R.a)(),z=Object(a.a)(B,2),W=z[0],H=z[1],K=Object(R.a)(x),G=Object(a.a)(K,2),$=G[0],Q=G[1],Y=Object(R.a)(null),X=Object(a.a)(Y,2),J=X[0],Z=X[1],ee=Object(u.useRef)(!1),te=Object(u.useRef)(null);function ne(){return n()}var re=Object(u.useRef)(!1);function ie(e){var t=ne();if(!e||e.deadline||e.target===t){var n,r=re.current;$===E&&r?n=null===D||void 0===D?void 0:D(t,e):$===C&&r?n=null===L||void 0===L?void 0:L(t,e):$===T&&r&&(n=null===V||void 0===V?void 0:V(t,e)),$!==x&&r&&!1!==n&&(Q(x,!0),Z(null,!0))}}var ae=function(e){var t=Object(u.useRef)(),n=Object(u.useRef)(e);n.current=e;var r=u.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(j,r),e.removeEventListener(w,r))}return u.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(j,r),e.addEventListener(w,r),t.current=e)},i]}(ie),oe=Object(a.a)(ae,1)[0],ue=u.useMemo((function(){var e,t,n;switch($){case E:return e={},Object(r.a)(e,I,m),Object(r.a)(e,N,y),Object(r.a)(e,P,_),e;case C:return t={},Object(r.a)(t,I,b),Object(r.a)(t,N,O),Object(r.a)(t,P,S),t;case T:return n={},Object(r.a)(n,I,g),Object(r.a)(n,N,k),Object(r.a)(n,P,A),n;default:return{}}}),[$]),se=U($,(function(e){if(e===I){var t=ue.prepare;return!!t&&t(ne())}var n;fe in ue&&Z((null===(n=ue[fe])||void 0===n?void 0:n.call(ue,ne(),null))||null);return fe===P&&(oe(ne()),p>0&&(clearTimeout(te.current),te.current=setTimeout((function(){ie({deadline:!0})}),p))),true})),ce=Object(a.a)(se,2),le=ce[0],fe=ce[1],he=F(fe);re.current=he,M((function(){H(t);var n,r=ee.current;(ee.current=!0,e)&&(!r&&t&&f&&(n=E),r&&t&&c&&(n=C),(r&&!t&&d||!r&&v&&!t&&d)&&(n=T),n&&(Q(n),le()))}),[t]),Object(u.useEffect)((function(){($===E&&!f||$===C&&!c||$===T&&!d)&&Q(x)}),[f,c,d]),Object(u.useEffect)((function(){return function(){ee.current=!1,clearTimeout(te.current)}}),[]);var de=u.useRef(!1);Object(u.useEffect)((function(){W&&(de.current=!0),void 0!==W&&$===x&&((de.current||W)&&(null===q||void 0===q||q(W)),de.current=!0)}),[W,$]);var pe=J;return ue.prepare&&fe===N&&(pe=Object(i.a)({transition:"none"},pe)),[$,fe,pe,null!==W&&void 0!==W?W:t]}var q=n(3),B=n(4),z=n(12),W=n(13),H=function(e){Object(z.a)(n,e);var t=Object(W.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.Component),K=H;var G=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(o.a)(e)&&(t=e.transitionSupport);var l=u.forwardRef((function(e,t){var o=e.visible,l=void 0===o||o,h=e.removeOnLeave,d=void 0===h||h,p=e.forceRender,v=e.children,m=e.motionName,b=e.leavedClassName,g=e.eventProps,y=n(e),O=Object(u.useRef)(),k=Object(u.useRef)();var w=V(y,l,(function(){try{return O.current instanceof HTMLElement?O.current:Object(s.a)(k.current)}catch(e){return null}}),e),j=Object(a.a)(w,4),E=j[0],C=j[1],T=j[2],S=j[3],P=u.useRef(S);S&&(P.current=!0);var A,R=u.useCallback((function(e){O.current=e,Object(c.b)(t,e)}),[t]),D=Object(i.a)(Object(i.a)({},g),{},{visible:l});if(v)if(E!==x&&n(e)){var M,L;C===I?L="prepare":F(C)?L="active":C===N&&(L="start"),A=v(Object(i.a)(Object(i.a)({},D),{},{className:f()(_(m,E),(M={},Object(r.a)(M,_(m,"".concat(E,"-").concat(L)),L),Object(r.a)(M,m,"string"===typeof m),M)),style:T}),R)}else A=S?v(Object(i.a)({},D),R):!d&&P.current?v(Object(i.a)(Object(i.a)({},D),{},{className:b}),R):p?v(Object(i.a)(Object(i.a)({},D),{},{style:{display:"none"}}),R):null;else A=null;u.isValidElement(A)&&Object(c.c)(A)&&(A.ref||(A=u.cloneElement(A,{ref:R})));return u.createElement(K,{ref:k},A)}));return l.displayName="CSSMotion",l}(k),$=n(7),Q=n(22),Y="add",X="keep",J="remove",Z="removed";function ee(e){var t;return t=e&&"object"===Object(o.a)(e)&&"key"in e?e:{key:e},Object(i.a)(Object(i.a)({},t),{},{key:String(t.key)})}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(ee)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=te(e),u=te(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var s=u[o];if(s.key===e.key){r<o&&(n=n.concat(u.slice(r,o).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{status:Y})}))),r=o),n.push(Object(i.a)(Object(i.a)({},s),{},{status:X})),r+=1,t=!0;break}}t||n.push(Object(i.a)(Object(i.a)({},e),{},{status:J}))})),r<a&&(n=n.concat(u.slice(r).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{status:Y})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var c=Object.keys(s).filter((function(e){return s[e]>1}));return c.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==J}))).forEach((function(t){t.key===e&&(t.status=X)}))})),n}var re=["component","children","onVisibleChanged","onAllRemoved"],ie=["status"],ae=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=function(e){Object(z.a)(r,e);var n=Object(W.a)(r);function r(){var e;Object(q.a)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Object(i.a)(Object(i.a)({},e),{},{status:Z})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Z})).length},e}return Object(B.a)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,o=r.onVisibleChanged,s=r.onAllRemoved,c=Object(Q.a)(r,re),l=i||u.Fragment,f={};return ae.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,u.createElement(l,c,n.map((function(n){var r=n.status,i=Object(Q.a)(n,ie),c=r===Y||r===X;return u.createElement(t,Object($.a)({},f,{key:i.key,visible:c,eventProps:i,onVisibleChanged:function(t){(null===o||void 0===o||o(t,{key:i.key}),t)||0===e.removeKey(i.key)&&s&&s()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=te(n);return{keyEntities:ne(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Z||e.status!==J}))}}}]),r}(u.Component);return n.defaultProps={component:"div"},n}(k);t.b=G},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(173)},function(e,t,n){"use strict";n.d(t,"f",(function(){return ge})),n.d(t,"b",(function(){return G})),n.d(t,"d",(function(){return G})),n.d(t,"e",(function(){return ze})),n.d(t,"c",(function(){return ze})),n.d(t,"a",(function(){return We})),n.d(t,"h",(function(){return M}));var r=n(7),i=n(5),a=n(8),o=n(15),u=n(9),s=n(22),c=n(0),l=n(11),f=n.n(l),h=n(78),d=n.n(h),p=n(51),v=n(33),m=n(68),b=n(3),g=n(4),y=n(12),O=n(13),k=n(31),w=n(34),j=n(81),_=["children","locked"],x=c.createContext(null);function E(e){var t=e.children,n=e.locked,r=Object(s.a)(e,_),i=c.useContext(x),o=Object(j.a)((function(){return function(e,t){var n=Object(a.a)({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!d()(e[1],t[1]))}));return c.createElement(x.Provider,{value:o},t)}function C(e,t,n,r){var i=c.useContext(x),a=i.activeKey,o=i.onActive,u=i.onInactive,s={active:a===e};return t||(s.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),o(e)},s.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),u(e)}),s}var T=["item"];function S(e){var t=e.item,n=Object(s.a)(e,T);return Object.defineProperty(n,"item",{get:function(){return Object(v.a)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function I(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?c.createElement(t,Object(a.a)({},n)):t)||r||null}function N(e){var t=c.useContext(x),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var P=[],A=c.createContext(null);function R(){return c.useContext(A)}var D=c.createContext(P);function M(e){var t=c.useContext(D);return c.useMemo((function(){return void 0!==e?[].concat(Object(o.a)(t),[e]):t}),[t,e])}var L=c.createContext(null),F=c.createContext(null);function U(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function V(e){return U(c.useContext(F),e)}var q=c.createContext({}),B=["title","attribute","elementRef"],z=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],W=["active"],H=function(e){Object(y.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=Object(s.a)(e,B),o=Object(w.a)(a,["eventKey"]);return Object(v.a)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),c.createElement(m.a.Item,Object(r.a)({},n,{title:"string"===typeof t?t:void 0},o,{ref:i}))}}]),n}(c.Component),K=function(e){var t,n=e.style,u=e.className,l=e.eventKey,h=(e.warnKey,e.disabled),d=e.itemIcon,p=e.children,v=e.role,m=e.onMouseEnter,b=e.onMouseLeave,g=e.onClick,y=e.onKeyDown,O=e.onFocus,w=Object(s.a)(e,z),j=V(l),_=c.useContext(x),E=_.prefixCls,T=_.onItemClick,P=_.disabled,A=_.overflowDisabled,R=_.itemIcon,D=_.selectedKeys,L=_.onActive,F=c.useContext(q)._internalRenderMenuItem,U="".concat(E,"-item"),B=c.useRef(),K=c.useRef(),G=P||h,$=M(l);var Q=function(e){return{key:l,keyPath:Object(o.a)($).reverse(),item:B.current,domEvent:e}},Y=d||R,X=C(l,G,m,b),J=X.active,Z=Object(s.a)(X,W),ee=D.includes(l),te=N($.length),ne={};"option"===e.role&&(ne["aria-selected"]=ee);var re=c.createElement(H,Object(r.a)({ref:B,elementRef:K,role:null===v?"none":v||"menuitem",tabIndex:h?null:-1,"data-menu-id":A&&j?null:j},w,Z,ne,{component:"li","aria-disabled":h,style:Object(a.a)(Object(a.a)({},te),n),className:f()(U,(t={},Object(i.a)(t,"".concat(U,"-active"),J),Object(i.a)(t,"".concat(U,"-selected"),ee),Object(i.a)(t,"".concat(U,"-disabled"),G),t),u),onClick:function(e){if(!G){var t=Q(e);null===g||void 0===g||g(S(t)),T(t)}},onKeyDown:function(e){if(null===y||void 0===y||y(e),e.which===k.a.ENTER){var t=Q(e);null===g||void 0===g||g(S(t)),T(t)}},onFocus:function(e){L(l),null===O||void 0===O||O(e)}}),p,c.createElement(I,{props:Object(a.a)(Object(a.a)({},e),{},{isSelected:ee}),icon:Y}));return F&&(re=F(re,e,{selected:ee})),re};var G=function(e){var t=e.eventKey,n=R(),r=M(t);return c.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:c.createElement(K,e)},$=n(21),Q=n(58),Y=["label","children","key","type"];function X(e,t){return Object(Q.a)(e).map((function(e,n){if(c.isValidElement(e)){var r,i,a=e.key,u=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:a;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat(Object(o.a)(t),[n]).join("-")));var s={key:u,eventKey:u};return c.cloneElement(e,s)}return e}))}function J(e){return(e||[]).map((function(e,t){if(e&&"object"===Object($.a)(e)){var n=e.label,i=e.children,a=e.key,o=e.type,u=Object(s.a)(e,Y),l=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?c.createElement(ze,Object(r.a)({key:l},u,{title:n}),J(i)):c.createElement(ge,Object(r.a)({key:l},u,{title:n}),J(i)):"divider"===o?c.createElement(We,Object(r.a)({key:l},u)):c.createElement(G,Object(r.a)({key:l},u),n)}return null})).filter((function(e){return e}))}function Z(e,t,n){var r=e;return t&&(r=J(t)),X(r,n)}function ee(e){var t=c.useRef(e);t.current=e;var n=c.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var te=["className","children"],ne=function(e,t){var n=e.className,i=e.children,a=Object(s.a)(e,te),o=c.useContext(x),u=o.prefixCls,l=o.mode,h=o.rtl;return c.createElement("ul",Object(r.a)({className:f()(u,h&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===l?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},re=c.forwardRef(ne);re.displayName="SubMenuList";var ie=re,ae=n(82),oe=n(27),ue={adjustX:1,adjustY:1},se={topLeft:{points:["bl","tl"],overflow:ue,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ue,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ue,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ue,offset:[4,0]}},ce={topLeft:{points:["bl","tl"],overflow:ue,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ue,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ue,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ue,offset:[4,0]}};function le(e,t,n){return t||(n?n[e]||n.other:void 0)}var fe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function he(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,s=e.popupClassName,l=e.popupOffset,h=e.disabled,d=e.mode,p=e.onVisibleChange,v=c.useContext(x),m=v.getPopupContainer,b=v.rtl,g=v.subMenuOpenDelay,y=v.subMenuCloseDelay,O=v.builtinPlacements,k=v.triggerSubMenuAction,w=v.forceSubMenuRender,j=v.rootClassName,_=v.motion,E=v.defaultMotions,C=c.useState(!1),T=Object(u.a)(C,2),S=T[0],I=T[1],N=b?Object(a.a)(Object(a.a)({},ce),O):Object(a.a)(Object(a.a)({},se),O),P=fe[d],A=le(d,_,E),R=Object(a.a)(Object(a.a)({},A),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),D=c.useRef();return c.useEffect((function(){return D.current=Object(oe.a)((function(){I(n)})),function(){oe.a.cancel(D.current)}}),[n]),c.createElement(ae.a,{prefixCls:t,popupClassName:f()("".concat(t,"-popup"),Object(i.a)({},"".concat(t,"-rtl"),b),s,j),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:m,builtinPlacements:N,popupPlacement:P,popupVisible:S,popup:o,popupAlign:l&&{offset:l},action:h?[]:[k],mouseEnterDelay:g,mouseLeaveDelay:y,onPopupVisibleChange:p,forceRender:w,popupMotion:R},r)}var de=n(46);function pe(e){var t=e.id,n=e.open,i=e.keyPath,o=e.children,s="inline",l=c.useContext(x),f=l.prefixCls,h=l.forceSubMenuRender,d=l.motion,p=l.defaultMotions,v=l.mode,m=c.useRef(!1);m.current=v===s;var b=c.useState(!m.current),g=Object(u.a)(b,2),y=g[0],O=g[1],k=!!m.current&&n;c.useEffect((function(){m.current&&O(!1)}),[v]);var w=Object(a.a)({},le(s,d,p));i.length>1&&(w.motionAppear=!1);var j=w.onVisibleChanged;return w.onVisibleChanged=function(e){return m.current||e||O(!0),null===j||void 0===j?void 0:j(e)},y?null:c.createElement(E,{mode:s,locked:!m.current},c.createElement(de.b,Object(r.a)({visible:k},w,{forceRender:h,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var n=e.className,r=e.style;return c.createElement(ie,{id:t,className:n,style:r},o)})))}var ve=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],me=["active"],be=function(e){var t,n=e.style,o=e.className,l=e.title,h=e.eventKey,d=(e.warnKey,e.disabled),p=e.internalPopupClose,v=e.children,b=e.itemIcon,g=e.expandIcon,y=e.popupClassName,O=e.popupOffset,k=e.onClick,w=e.onMouseEnter,j=e.onMouseLeave,_=e.onTitleClick,T=e.onTitleMouseEnter,P=e.onTitleMouseLeave,A=Object(s.a)(e,ve),R=V(h),D=c.useContext(x),F=D.prefixCls,U=D.mode,B=D.openKeys,z=D.disabled,W=D.overflowDisabled,H=D.activeKey,K=D.selectedKeys,G=D.itemIcon,$=D.expandIcon,Q=D.onItemClick,Y=D.onOpenChange,X=D.onActive,J=c.useContext(q)._internalRenderSubMenuItem,Z=c.useContext(L).isSubPathKey,te=M(),ne="".concat(F,"-submenu"),re=z||d,ae=c.useRef(),oe=c.useRef();var ue=b||G,se=g||$,ce=B.includes(h),le=!W&&ce,fe=Z(K,h),de=C(h,re,T,P),be=de.active,ge=Object(s.a)(de,me),ye=c.useState(!1),Oe=Object(u.a)(ye,2),ke=Oe[0],we=Oe[1],je=function(e){re||we(e)},_e=c.useMemo((function(){return be||"inline"!==U&&(ke||Z([H],h))}),[U,be,H,ke,h,Z]),xe=N(te.length),Ee=ee((function(e){null===k||void 0===k||k(S(e)),Q(e)})),Ce=R&&"".concat(R,"-popup"),Te=c.createElement("div",Object(r.a)({role:"menuitem",style:xe,className:"".concat(ne,"-title"),tabIndex:re?null:-1,ref:ae,title:"string"===typeof l?l:null,"data-menu-id":W&&R?null:R,"aria-expanded":le,"aria-haspopup":!0,"aria-controls":Ce,"aria-disabled":re,onClick:function(e){re||(null===_||void 0===_||_({key:h,domEvent:e}),"inline"===U&&Y(h,!ce))},onFocus:function(){X(h)}},ge),l,c.createElement(I,{icon:"horizontal"!==U?se:null,props:Object(a.a)(Object(a.a)({},e),{},{isOpen:le,isSubMenu:!0})},c.createElement("i",{className:"".concat(ne,"-arrow")}))),Se=c.useRef(U);if("inline"!==U&&(Se.current=te.length>1?"vertical":U),!W){var Ie=Se.current;Te=c.createElement(he,{mode:Ie,prefixCls:ne,visible:!p&&le&&"inline"!==U,popupClassName:y,popupOffset:O,popup:c.createElement(E,{mode:"horizontal"===Ie?"vertical":Ie},c.createElement(ie,{id:Ce,ref:oe},v)),disabled:re,onVisibleChange:function(e){"inline"!==U&&Y(h,e)}},Te)}var Ne=c.createElement(m.a.Item,Object(r.a)({role:"none"},A,{component:"li",style:n,className:f()(ne,"".concat(ne,"-").concat(U),o,(t={},Object(i.a)(t,"".concat(ne,"-open"),le),Object(i.a)(t,"".concat(ne,"-active"),_e),Object(i.a)(t,"".concat(ne,"-selected"),fe),Object(i.a)(t,"".concat(ne,"-disabled"),re),t)),onMouseEnter:function(e){je(!0),null===w||void 0===w||w({key:h,domEvent:e})},onMouseLeave:function(e){je(!1),null===j||void 0===j||j({key:h,domEvent:e})}}),Te,!W&&c.createElement(pe,{id:Ce,open:le,keyPath:te},v));return J&&(Ne=J(Ne,e,{selected:fe,active:_e,open:le,disabled:re})),c.createElement(E,{onItemClick:Ee,mode:"horizontal"===U?"vertical":U,itemIcon:ue,expandIcon:se},Ne)};function ge(e){var t,n=e.eventKey,r=e.children,i=M(n),a=X(r,i),o=R();return c.useEffect((function(){if(o)return o.registerPath(n,i),function(){o.unregisterPath(n,i)}}),[i]),t=o?a:c.createElement(be,e,a),c.createElement(D.Provider,{value:i},t)}var ye=n(122),Oe=k.a.LEFT,ke=k.a.RIGHT,we=k.a.UP,je=k.a.DOWN,_e=k.a.ENTER,xe=k.a.ESC,Ee=k.a.HOME,Ce=k.a.END,Te=[we,je,Oe,ke];function Se(e,t){return Object(ye.a)(e,!0).filter((function(e){return t.has(e)}))}function Ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Se(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function Ne(e,t,n,r,a,o,u,s,l,f){var h=c.useRef(),d=c.useRef();d.current=t;var p=function(){oe.a.cancel(h.current)};return c.useEffect((function(){return function(){p()}}),[]),function(c){var v=c.which;if([].concat(Te,[_e,xe,Ee,Ce]).includes(v)){var m,b,g,y=function(){return m=new Set,b=new Map,g=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(U(r,e),"']"));t&&(m.add(t),g.set(t,e),b.set(e,t))})),m};y();var O=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(b.get(t),m),k=g.get(O),w=function(e,t,n,r){var a,o,u,s,c="prev",l="next",f="children",h="parent";if("inline"===e&&r===_e)return{inlineTrigger:!0};var d=(a={},Object(i.a)(a,we,c),Object(i.a)(a,je,l),a),p=(o={},Object(i.a)(o,Oe,n?l:c),Object(i.a)(o,ke,n?c:l),Object(i.a)(o,je,f),Object(i.a)(o,_e,f),o),v=(u={},Object(i.a)(u,we,c),Object(i.a)(u,je,l),Object(i.a)(u,_e,f),Object(i.a)(u,xe,h),Object(i.a)(u,Oe,n?f:h),Object(i.a)(u,ke,n?h:f),u);switch(null===(s={inline:d,horizontal:p,vertical:v,inlineSub:d,horizontalSub:v,verticalSub:v}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case c:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}(e,1===u(k,!0).length,n,v);if(!w&&v!==Ee&&v!==Ce)return;(Te.includes(v)||[Ee,Ce].includes(v))&&c.preventDefault();var j=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=g.get(e);s(r),p(),h.current=Object(oe.a)((function(){d.current===r&&t.focus()}))}};if([Ee,Ce].includes(v)||w.sibling||!O){var _,x,E=Se(_=O&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(O):a.current,m);x=v===Ee?E[0]:v===Ce?E[E.length-1]:Ie(_,m,O,w.offset),j(x)}else if(w.inlineTrigger)l(k);else if(w.offset>0)l(k,!0),p(),h.current=Object(oe.a)((function(){y();var e=O.getAttribute("aria-controls"),t=Ie(document.getElementById(e),m);j(t)}),5);else if(w.offset<0){var C=u(k,!0),T=C[C.length-2],S=b.get(T);l(T,!1),j(S)}}null===f||void 0===f||f(c)}}var Pe=Math.random().toFixed(5).toString().slice(2),Ae=0;var Re="__RC_UTIL_PATH_SPLIT__",De=function(e){return e.join(Re)},Me="rc-menu-more";function Le(){var e=c.useState({}),t=Object(u.a)(e,2)[1],n=Object(c.useRef)(new Map),r=Object(c.useRef)(new Map),i=c.useState([]),a=Object(u.a)(i,2),s=a[0],l=a[1],f=Object(c.useRef)(0),h=Object(c.useRef)(!1),d=Object(c.useCallback)((function(e,i){var a=De(i);r.current.set(a,e),n.current.set(e,a),f.current+=1;var o,u=f.current;o=function(){u===f.current&&(h.current||t({}))},Promise.resolve().then(o)}),[]),p=Object(c.useCallback)((function(e,t){var i=De(t);r.current.delete(i),n.current.delete(e)}),[]),v=Object(c.useCallback)((function(e){l(e)}),[]),m=Object(c.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Re);return t&&s.includes(i[0])&&i.unshift(Me),i}),[s]),b=Object(c.useCallback)((function(e,t){return e.some((function(e){return m(e,!0).includes(t)}))}),[m]),g=Object(c.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Re),i=new Set;return Object(o.a)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return c.useEffect((function(){return function(){h.current=!0}}),[]),{registerPath:d,unregisterPath:p,refreshOverflowKeys:v,isSubPathKey:b,getKeyPath:m,getKeys:function(){var e=Object(o.a)(n.current.keys());return s.length&&e.push(Me),e},getSubPathKeys:g}}var Fe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ue=[],Ve=["className","title","eventKey","children"],qe=["children"],Be=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=Object(s.a)(e,Ve),o=c.useContext(x).prefixCls,u="".concat(o,"-item-group");return c.createElement("li",Object(r.a)({},a,{onClick:function(e){return e.stopPropagation()},className:f()(u,t)}),c.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),c.createElement("ul",{className:"".concat(u,"-list")},i))};function ze(e){var t=e.children,n=Object(s.a)(e,qe),r=X(t,M(n.eventKey));return R()?r:c.createElement(Be,Object(w.a)(n,["warnKey"]),r)}function We(e){var t=e.className,n=e.style,r=c.useContext(x).prefixCls;return R()?null:c.createElement("li",{className:f()("".concat(r,"-item-divider"),t),style:n})}var He=c.forwardRef((function(e,t){var n,l,h=e.prefixCls,v=void 0===h?"rc-menu":h,b=e.rootClassName,g=e.style,y=e.className,O=e.tabIndex,k=void 0===O?0:O,w=e.items,j=e.children,_=e.direction,x=e.id,C=e.mode,T=void 0===C?"vertical":C,I=e.inlineCollapsed,N=e.disabled,P=e.disabledOverflow,R=e.subMenuOpenDelay,D=void 0===R?.1:R,M=e.subMenuCloseDelay,V=void 0===M?.1:M,B=e.forceSubMenuRender,z=e.defaultOpenKeys,W=e.openKeys,H=e.activeKey,K=e.defaultActiveFirst,$=e.selectable,Q=void 0===$||$,Y=e.multiple,X=void 0!==Y&&Y,J=e.defaultSelectedKeys,te=e.selectedKeys,ne=e.onSelect,re=e.onDeselect,ie=e.inlineIndent,ae=void 0===ie?24:ie,oe=e.motion,ue=e.defaultMotions,se=e.triggerSubMenuAction,ce=void 0===se?"hover":se,le=e.builtinPlacements,fe=e.itemIcon,he=e.expandIcon,de=e.overflowedIndicator,pe=void 0===de?"...":de,ve=e.overflowedIndicatorPopupClassName,me=e.getPopupContainer,be=e.onClick,ye=e.onOpenChange,Oe=e.onKeyDown,ke=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),we=e._internalRenderSubMenuItem,je=Object(s.a)(e,Fe),_e=c.useMemo((function(){return Z(j,w,Ue)}),[j,w]),xe=c.useState(!1),Ee=Object(u.a)(xe,2),Ce=Ee[0],Te=Ee[1],Se=c.useRef(),Ie=function(e){var t=Object(p.a)(e,{value:e}),n=Object(u.a)(t,2),r=n[0],i=n[1];return c.useEffect((function(){Ae+=1;var e="".concat(Pe,"-").concat(Ae);i("rc-menu-uuid-".concat(e))}),[]),r}(x),Re="rtl"===_;var De=c.useMemo((function(){return"inline"!==T&&"vertical"!==T||!I?[T,!1]:["vertical",I]}),[T,I]),Ve=Object(u.a)(De,2),qe=Ve[0],Be=Ve[1],ze=c.useState(0),We=Object(u.a)(ze,2),He=We[0],Ke=We[1],Ge=He>=_e.length-1||"horizontal"!==qe||P,$e=Object(p.a)(z,{value:W,postState:function(e){return e||Ue}}),Qe=Object(u.a)($e,2),Ye=Qe[0],Xe=Qe[1],Je=function(e){Xe(e),null===ye||void 0===ye||ye(e)},Ze=c.useState(Ye),et=Object(u.a)(Ze,2),tt=et[0],nt=et[1],rt="inline"===qe,it=c.useRef(!1);c.useEffect((function(){rt&&nt(Ye)}),[Ye]),c.useEffect((function(){it.current&&(rt?Xe(tt):Je(Ue))}),[rt]),c.useEffect((function(){return it.current=!0,function(){it.current=!1}}),[]);var at=Le(),ot=at.registerPath,ut=at.unregisterPath,st=at.refreshOverflowKeys,ct=at.isSubPathKey,lt=at.getKeyPath,ft=at.getKeys,ht=at.getSubPathKeys,dt=c.useMemo((function(){return{registerPath:ot,unregisterPath:ut}}),[ot,ut]),pt=c.useMemo((function(){return{isSubPathKey:ct}}),[ct]);c.useEffect((function(){st(Ge?Ue:_e.slice(He+1).map((function(e){return e.key})))}),[He,Ge]);var vt=Object(p.a)(H||K&&(null===(n=_e[0])||void 0===n?void 0:n.key),{value:H}),mt=Object(u.a)(vt,2),bt=mt[0],gt=mt[1],yt=ee((function(e){gt(e)})),Ot=ee((function(){gt(void 0)}));Object(c.useImperativeHandle)(t,(function(){return{list:Se.current,focus:function(e){var t,n,r,i,a=null!==bt&&void 0!==bt?bt:null===(t=_e.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=Se.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(U(Ie,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var kt=Object(p.a)(J||[],{value:te,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Ue:[e]}}),wt=Object(u.a)(kt,2),jt=wt[0],_t=wt[1],xt=ee((function(e){null===be||void 0===be||be(S(e)),function(e){if(Q){var t,n=e.key,r=jt.includes(n);t=X?r?jt.filter((function(e){return e!==n})):[].concat(Object(o.a)(jt),[n]):[n],_t(t);var i=Object(a.a)(Object(a.a)({},e),{},{selectedKeys:t});r?null===re||void 0===re||re(i):null===ne||void 0===ne||ne(i)}!X&&Ye.length&&"inline"!==qe&&Je(Ue)}(e)})),Et=ee((function(e,t){var n=Ye.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==qe){var r=ht(e);n=n.filter((function(e){return!r.has(e)}))}d()(Ye,n)||Je(n)})),Ct=ee(me),Tt=Ne(qe,bt,Re,Ie,Se,ft,lt,gt,(function(e,t){var n=null!==t&&void 0!==t?t:!Ye.includes(e);Et(e,n)}),Oe);c.useEffect((function(){Te(!0)}),[]);var St=c.useMemo((function(){return{_internalRenderMenuItem:ke,_internalRenderSubMenuItem:we}}),[ke,we]),It="horizontal"!==qe||P?_e:_e.map((function(e,t){return c.createElement(E,{key:e.key,overflowDisabled:t>He},e)})),Nt=c.createElement(m.a,Object(r.a)({id:x,ref:Se,prefixCls:"".concat(v,"-overflow"),component:"ul",itemComponent:G,className:f()(v,"".concat(v,"-root"),"".concat(v,"-").concat(qe),y,(l={},Object(i.a)(l,"".concat(v,"-inline-collapsed"),Be),Object(i.a)(l,"".concat(v,"-rtl"),Re),l),b),dir:_,style:g,role:"menu",tabIndex:k,data:It,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?_e.slice(-t):null;return c.createElement(ge,{eventKey:Me,title:pe,disabled:Ge,internalPopupClose:0===t,popupClassName:ve},n)},maxCount:"horizontal"!==qe||P?m.a.INVALIDATE:m.a.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ke(e)},onKeyDown:Tt},je));return c.createElement(q.Provider,{value:St},c.createElement(F.Provider,{value:Ie},c.createElement(E,{prefixCls:v,rootClassName:b,mode:qe,openKeys:Ye,rtl:Re,disabled:N,motion:Ce?oe:null,defaultMotions:Ce?ue:null,activeKey:bt,onActive:yt,onInactive:Ot,selectedKeys:jt,inlineIndent:ae,subMenuOpenDelay:D,subMenuCloseDelay:V,forceSubMenuRender:B,builtinPlacements:le,triggerSubMenuAction:ce,getPopupContainer:Ct,itemIcon:fe,expandIcon:he,onItemClick:xt,onOpenChange:Et},c.createElement(L.Provider,{value:pt},Nt),c.createElement("div",{style:{display:"none"},"aria-hidden":!0},c.createElement(A.Provider,{value:dt},_e)))))}));He.Item=G,He.SubMenu=ge,He.ItemGroup=ze,He.Divider=We;t.g=He},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),i=n(0);function a(e){var t=i.useRef(!1),n=i.useState(e),a=Object(r.a)(n,2),o=a[0],u=a[1];return i.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||u(e)}]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p}));var r=n(7);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(53);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var O="popstate",k="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function j(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,u=void 0!==o&&o,s=a.getUserConfirmation,f=void 0===s?y:s,m=a.keyLength,j=void 0===m?6:m,_=e.basename?d(l(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return _&&(a=h(a,_)),v(a,r,n)}function E(){return Math.random().toString(36).substr(2,j)}var C=b();function T(e){Object(r.a)(V,e),V.length=t.length,C.notifyListeners(V.location,V.action)}function S(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(x(e.state))}function I(){P(x(w()))}var N=!1;function P(e){if(N)N=!1,T();else{C.confirmTransitionTo(e,"POP",f,(function(t){t?T({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(e)}))}}var A=x(w()),R=[A.key];function D(e){return _+p(e)}function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(O,S),i&&window.addEventListener(k,I)):0===L&&(window.removeEventListener(O,S),i&&window.removeEventListener(k,I))}var U=!1;var V={length:t.length,action:"POP",location:A,createHref:D,push:function(e,r){var i="PUSH",a=v(e,r,E(),V.location);C.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,T({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,E(),V.location);C.confirmTransitionTo(a,i,f,(function(e){if(e){var r=D(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var _="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(E(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?y:i,o=n.hashType,u=void 0===o?"slash":o,s=e.basename?d(l(e.basename)):"",f=x[u],m=f.encodePath,O=f.decodePath;function k(){var e=O(C());return s&&(e=h(e,s)),v(e)}var w=b();function j(e){Object(r.a)(V,e),V.length=t.length,w.notifyListeners(V.location,V.action)}var S=!1,I=null;function N(){var e,t,n=C(),r=m(n);if(n!==r)T(r);else{var i=k(),o=V.location;if(!S&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===p(i))return;I=null,function(e){if(S)S=!1,j();else{var t="POP";w.confirmTransitionTo(e,t,a,(function(n){n?j({action:t,location:e}):function(e){var t=V.location,n=D.lastIndexOf(p(t));-1===n&&(n=0);var r=D.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(S=!0,M(i))}(e)}))}}(i)}}var P=C(),A=m(P);P!==A&&T(A);var R=k(),D=[p(R)];function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(_,N):0===L&&window.removeEventListener(_,N)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+m(s+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=m(s+t);if(C()!==i){I=t,function(e){window.location.hash=e}(i);var a=D.lastIndexOf(p(V.location)),o=D.slice(0,a+1);o.push(t),D=o,j({action:n,location:r})}else j()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);w.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=m(s+t);C()!==i&&(I=t,T(i));var a=D.indexOf(p(V.location));-1!==a&&(D[a]=t),j({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=w.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function I(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,c=void 0===s?6:s,l=b();function f(e){Object(r.a)(O,e),O.length=O.entries.length,l.notifyListeners(O.location,O.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=I(u,0,a.length-1),m=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function y(e){var t=I(O.index+e,0,O.entries.length-1),r=O.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var O={length:m.length,action:"POP",location:m[d],index:d,entries:m,createHref:g,push:function(e,t){var r="PUSH",i=v(e,t,h(),O.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=O.index+1,n=O.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),O.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(O.entries[O.index]=i,f({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=O.index+e;return t>=0&&t<O.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return O}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n(9),a=n(0),o=n(89),u=n(59),s=n(49);function c(e){return void 0!==e}function l(e,t){var n=t||{},l=n.defaultValue,f=n.value,h=n.onChange,d=n.postState,p=Object(s.a)((function(){var t,n=void 0;return c(f)?(n=f,t=r.PROP):c(l)?(n="function"===typeof l?l():l,t=r.PROP):(n="function"===typeof e?e():e,t=r.INNER),[n,t,n]})),v=Object(i.a)(p,2),m=v[0],b=v[1],g=c(f)?f:m[0],y=d?d(g):g;Object(u.b)((function(){b((function(e){var t=Object(i.a)(e,1)[0];return[f,r.PROP,t]}))}),[f]);var O=a.useRef(),k=Object(o.a)((function(e,t){b((function(t){var n=Object(i.a)(t,3),a=n[0],o=n[1],u=n[2],s="function"===typeof e?e(a):e;if(s===a)return t;var c=o===r.INNER&&O.current!==u?u:a;return[s,r.INNER,c]}),t)})),w=Object(o.a)(h);return Object(u.a)((function(){var e=Object(i.a)(m,3),t=e[0],n=e[1],a=e[2];t!==a&&n===r.INNER&&(w(t,a),O.current=a)}),[m]),[y,k]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(67);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=r.createContext(void 0),a=function(e){var t=e.children,n=e.size;return r.createElement(i.Consumer,null,(function(e){return r.createElement(i.Provider,{value:n||e},t)}))};t.b=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(35),i=n(52),a=n(0),o=n.n(a),u=n(50),s=n(7),c=n(64),l=n(53),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(u.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(u.c)(e,null,null,t):e},p=function(e){return e},v=o.a.forwardRef;"undefined"===typeof v&&(v=p);var m=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(c.a)(e,["innerRef","navigate","onClick"]),u=a.target,l=Object(s.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,o.a.createElement("a",l)}));var b=v((function(e,t){var n=e.component,i=void 0===n?m:n,a=e.replace,f=e.to,b=e.innerRef,g=Object(c.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(f,e.location),e.location),c=r?n.createHref(r):"",m=Object(s.a)({},g,{href:c,navigate:function(){var t=h(f,e.location),r=Object(u.e)(e.location)===Object(u.e)(d(t));(a||r?n.replace:n.push)(t)}});return p!==v?m.ref=t||b:m.innerRef=b,o.a.createElement(i,m)}))})),g=function(e){return e},y=o.a.forwardRef;"undefined"===typeof y&&(y=g);y((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,u=void 0===a?"active":a,f=e.activeStyle,p=e.className,v=e.exact,m=e.isActive,O=e.location,k=e.sensitive,w=e.strict,j=e.style,_=e.to,x=e.innerRef,E=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=O||e.location,a=d(h(_,n),n),c=a.pathname,C=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=C?Object(r.f)(n.pathname,{path:C,exact:v,sensitive:k,strict:w}):null,S=!!(m?m(T,n):T),I="function"===typeof p?p(S):p,N="function"===typeof j?j(S):j;S&&(I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(I,u),N=Object(s.a)({},N,f));var P=Object(s.a)({"aria-current":S&&i||null,className:I,style:N,to:a},E);return g!==y?P.ref=t||x:P.innerRef=x,o.a.createElement(b,P)}))}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r),a=n(119);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(o(e)):Object(a.isFragment)(e)&&e.props?n=n.concat(o(e.props.children,t)):n.push(e))})),n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(0),i=n(42),a=Object(i.a)()?r.useLayoutEffect:r.useEffect;t.a=a;var o=function(e,t){var n=r.useRef(!0);a((function(){if(!n.current)return e()}),t),a((function(){return n.current=!1,function(){n.current=!0}}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=r.createContext(!1),a=function(e){var t=e.children,n=e.disabled,a=r.useContext(i);return r.createElement(i.Provider,{value:n||a},t)};t.b=i},function(e,t,n){var r=n(148),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(57),i=function(){return{height:0,opacity:0}},a=function(e){return{height:e.scrollHeight,opacity:1}},o=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},u={motionName:"ant-motion-collapse",onAppearStart:i,onEnterStart:i,onAppearActive:a,onEnterActive:a,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:i,onAppearEnd:o,onEnterEnd:o,onLeaveEnd:o,motionDeadline:500},s=(Object(r.a)("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),c=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)};t.a=u},function(e,t,n){"use strict";var r=n(144),i=n(7),a={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},o={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},u={lang:Object(i.a)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},a),timePickerLocale:Object(i.a)({},o)},s=u,c="${label} is not a valid ${type}",l={locale:"en",Pagination:r.a,DatePicker:u,TimePicker:o,Calendar:s,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:c,method:c,array:c,object:c,number:c,date:c,boolean:c,integer:c,float:c,regexp:c,email:c,url:c,hex:c},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t.a=l},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));n(7);var r=n(0),i=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),a=i.Consumer},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(91);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(7),i=n(8),a=n(9),o=n(22),u=n(0),s=n(11),c=n.n(s),l=n(71),f=n(59),h=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function p(e,t){var n=e.prefixCls,a=e.invalidate,s=e.item,f=e.renderItem,p=e.responsive,v=e.responsiveDisabled,m=e.registerSize,b=e.itemKey,g=e.className,y=e.style,O=e.children,k=e.display,w=e.order,j=e.component,_=void 0===j?"div":j,x=Object(o.a)(e,h),E=p&&!k;function C(e){m(b,e)}u.useEffect((function(){return function(){C(null)}}),[]);var T,S=f&&s!==d?f(s):O;a||(T={opacity:E?0:1,height:E?0:d,overflowY:E?"hidden":d,order:p?w:d,pointerEvents:E?"none":d,position:E?"absolute":d});var I={};E&&(I["aria-hidden"]=!0);var N=u.createElement(_,Object(r.a)({className:c()(!a&&n,g),style:Object(i.a)(Object(i.a)({},T),y)},I,x,{ref:t}),S);return p&&(N=u.createElement(l.a,{onResize:function(e){C(e.offsetWidth)},disabled:v},N)),N}var v=u.forwardRef(p);v.displayName="Item";var m=v,b=n(27),g=n(49);var y=["component"],O=["className"],k=["className"],w=function(e,t){var n=u.useContext(E);if(!n){var i=e.component,a=void 0===i?"div":i,s=Object(o.a)(e,y);return u.createElement(a,Object(r.a)({},s,{ref:t}))}var l=n.className,f=Object(o.a)(n,O),h=e.className,d=Object(o.a)(e,k);return u.createElement(E.Provider,{value:null},u.createElement(m,Object(r.a)({ref:t,className:c()(l,h)},f,d)))},j=u.forwardRef(w);j.displayName="RawItem";var _=j,x=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],E=u.createContext(null),C="responsive",T="invalidate";function S(e){return"+ ".concat(e.length," ...")}function I(e,t){var n=e.prefixCls,s=void 0===n?"rc-overflow":n,h=e.data,d=void 0===h?[]:h,p=e.renderItem,v=e.renderRawItem,y=e.itemKey,O=e.itemWidth,k=void 0===O?10:O,w=e.ssr,j=e.style,_=e.className,I=e.maxCount,N=e.renderRest,P=e.renderRawRest,A=e.suffix,R=e.component,D=void 0===R?"div":R,M=e.itemComponent,L=e.onVisibleChange,F=Object(o.a)(e,x),U=function(){var e=Object(g.a)({}),t=Object(a.a)(e,2)[1],n=Object(u.useRef)([]),r=0,i=0;return function(e){var a=r;return r+=1,n.current.length<a+1&&(n.current[a]=e),[n.current[a],function(e){n.current[a]="function"===typeof e?e(n.current[a]):e,b.a.cancel(i),i=Object(b.a)((function(){t({},!0)}))}]}}(),V="full"===w,q=U(null),B=Object(a.a)(q,2),z=B[0],W=B[1],H=z||0,K=U(new Map),G=Object(a.a)(K,2),$=G[0],Q=G[1],Y=U(0),X=Object(a.a)(Y,2),J=X[0],Z=X[1],ee=U(0),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ie=U(0),ae=Object(a.a)(ie,2),oe=ae[0],ue=ae[1],se=Object(u.useState)(null),ce=Object(a.a)(se,2),le=ce[0],fe=ce[1],he=Object(u.useState)(null),de=Object(a.a)(he,2),pe=de[0],ve=de[1],me=u.useMemo((function(){return null===pe&&V?Number.MAX_SAFE_INTEGER:pe||0}),[pe,z]),be=Object(u.useState)(!1),ge=Object(a.a)(be,2),ye=ge[0],Oe=ge[1],ke="".concat(s,"-item"),we=Math.max(J,ne),je=I===C,_e=d.length&&je,xe=I===T,Ee=_e||"number"===typeof I&&d.length>I,Ce=Object(u.useMemo)((function(){var e=d;return _e?e=null===z&&V?d:d.slice(0,Math.min(d.length,H/k)):"number"===typeof I&&(e=d.slice(0,I)),e}),[d,k,z,I,_e]),Te=Object(u.useMemo)((function(){return _e?d.slice(me+1):d.slice(Ce.length)}),[d,Ce,_e,me]),Se=Object(u.useCallback)((function(e,t){var n;return"function"===typeof y?y(e):null!==(n=y&&(null===e||void 0===e?void 0:e[y]))&&void 0!==n?n:t}),[y]),Ie=Object(u.useCallback)(p||function(e){return e},[p]);function Ne(e,t,n){(pe!==e||void 0!==t&&t!==le)&&(ve(e),n||(Oe(e<d.length-1),null===L||void 0===L||L(e)),void 0!==t&&fe(t))}function Pe(e,t){Q((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function Ae(e){return $.get(Se(Ce[e],e))}Object(f.a)((function(){if(H&&we&&Ce){var e=oe,t=Ce.length,n=t-1;if(!t)return void Ne(0,null);for(var r=0;r<t;r+=1){var i=Ae(r);if(V&&(i=i||0),void 0===i){Ne(r-1,void 0,!0);break}if(e+=i,0===n&&e<=H||r===n-1&&e+Ae(n)<=H){Ne(n,null);break}if(e+we>H){Ne(r-1,e-i-oe+ne);break}}A&&Ae(0)+oe>H&&fe(null)}}),[H,$,ne,oe,Se,Ce]);var Re=ye&&!!Te.length,De={};null!==le&&_e&&(De={position:"absolute",left:le,top:0});var Me,Le={prefixCls:ke,responsive:_e,component:M,invalidate:xe},Fe=v?function(e,t){var n=Se(e,t);return u.createElement(E.Provider,{key:n,value:Object(i.a)(Object(i.a)({},Le),{},{order:t,item:e,itemKey:n,registerSize:Pe,display:t<=me})},v(e,t))}:function(e,t){var n=Se(e,t);return u.createElement(m,Object(r.a)({},Le,{order:t,key:n,item:e,renderItem:Ie,itemKey:n,registerSize:Pe,display:t<=me}))},Ue={order:Re?me:Number.MAX_SAFE_INTEGER,className:"".concat(ke,"-rest"),registerSize:function(e,t){re(t),Z(ne)},display:Re};if(P)P&&(Me=u.createElement(E.Provider,{value:Object(i.a)(Object(i.a)({},Le),Ue)},P(Te)));else{var Ve=N||S;Me=u.createElement(m,Object(r.a)({},Le,Ue),"function"===typeof Ve?Ve(Te):Ve)}var qe=u.createElement(D,Object(r.a)({className:c()(!xe&&s,_),style:j,ref:t},F),Ce.map(Fe),Ee?Me:null,A&&u.createElement(m,Object(r.a)({},Le,{responsive:je,responsiveDisabled:!_e,order:me,className:"".concat(ke,"-suffix"),registerSize:function(e,t){ue(t)},display:!0,style:De}),A));return je&&(qe=u.createElement(l.a,{onResize:function(e,t){W(t.clientWidth)},disabled:!_e},qe)),qe}var N=u.forwardRef(I);N.displayName="Overflow",N.Item=_,N.RESPONSIVE=C,N.INVALIDATE=T;var P=N;t.a=P},function(e,t,n){"use strict";function r(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r=n(7),i=n(0),a=n(58),o=(n(33),n(8)),u=n(40),s=n(72),c=n(121),l=new Map;var f=new c.a((function(e){e.forEach((function(e){var t,n=e.target;null===(t=l.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var h=n(3),d=n(4),p=n(12),v=n(13),m=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component),b=i.createContext(null);function g(e){var t=e.children,n=e.disabled,r=i.useRef(null),a=i.useRef(null),c=i.useContext(b),h="function"===typeof t,d=h?t(r):t,p=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!h&&i.isValidElement(d)&&Object(u.c)(d),g=v?d.ref:null,y=i.useMemo((function(){return Object(u.a)(g,r)}),[g,r]),O=i.useRef(e);O.current=e;var k=i.useCallback((function(e){var t=O.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,u=i.height,s=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(u);if(p.current.width!==f||p.current.height!==h||p.current.offsetWidth!==s||p.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:s,offsetHeight:l};p.current=d;var v=s===Math.round(a)?a:s,m=l===Math.round(u)?u:l,b=Object(o.a)(Object(o.a)({},d),{},{offsetWidth:v,offsetHeight:m});null===c||void 0===c||c(b,e,r),n&&Promise.resolve().then((function(){n(b,e)}))}}),[]);return i.useEffect((function(){var e,t,i=Object(s.a)(r.current)||Object(s.a)(a.current);return i&&!n&&(e=i,t=k,l.has(e)||(l.set(e,new Set),f.observe(e)),l.get(e).add(t)),function(){return function(e,t){l.has(e)&&(l.get(e).delete(t),l.get(e).size||(f.unobserve(e),l.delete(e)))}(i,k)}}),[r.current,n]),i.createElement(m,{ref:a},v?i.cloneElement(d,{ref:y}):d)}function y(e){var t=e.children;return("function"===typeof t?[t]:Object(a.a)(t)).map((function(t,n){var a=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return i.createElement(g,Object(r.a)({},e,{key:a}),t)}))}y.Collection=function(e){var t=e.children,n=e.onBatchResize,r=i.useRef(0),a=i.useRef([]),o=i.useContext(b),u=i.useCallback((function(e,t,i){r.current+=1;var u=r.current;a.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){u===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,i)}),[n,o]);return i.createElement(b.Provider,{value:u},t)};t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),i=n.n(r);function a(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),i=n.n(r);function a(e,t,n,r){var a=i.a.unstable_batchedUpdates?function(e){i.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,a,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,a,r)}}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(15),i=n(5),a=n(9),o=n(7),u=n(11),s=n.n(u),c=n(0),l=n(65),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h=c.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function d(e){var t=e.suffixCls,n=e.tagName;e.displayName;return function(e){return c.forwardRef((function(r,i){var a=c.useContext(l.b).getPrefixCls,u=r.prefixCls,s=a(t,u);return c.createElement(e,Object(o.a)({ref:i,prefixCls:s,tagName:n},r))}))}}var p=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.children,a=e.tagName,u=f(e,["prefixCls","className","children","tagName"]),l=s()(n,r);return c.createElement(a,Object(o.a)(Object(o.a)({className:l},u),{ref:t}),i)})),v=c.forwardRef((function(e,t){var n,u=c.useContext(l.b).direction,d=c.useState([]),p=Object(a.a)(d,2),v=p[0],m=p[1],b=e.prefixCls,g=e.className,y=e.children,O=e.hasSider,k=e.tagName,w=f(e,["prefixCls","className","children","hasSider","tagName"]),j=s()(b,(n={},Object(i.a)(n,"".concat(b,"-has-sider"),"boolean"===typeof O?O:v.length>0),Object(i.a)(n,"".concat(b,"-rtl"),"rtl"===u),n),g),_=c.useMemo((function(){return{siderHook:{addSider:function(e){m((function(t){return[].concat(Object(r.a)(t),[e])}))},removeSider:function(e){m((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return c.createElement(h.Provider,{value:_},c.createElement(k,Object(o.a)({ref:t,className:j},w),y))})),m=d({suffixCls:"layout",tagName:"section",displayName:"Layout"})(v),b=d({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(p),g=d({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(p),y=d({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(p);t.e=m},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30),i=n(92),a=n(23);function o(e){var t={r:0,g:0,b:0},n=1,o=null,u=null,s=null,c=!1,h=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(i.a[e])e=i.a[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=l.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=l.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=l.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=l.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=l.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=l.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=l.hex8.exec(e))return{r:Object(r.e)(n[1]),g:Object(r.e)(n[2]),b:Object(r.e)(n[3]),a:Object(r.a)(n[4]),format:t?"name":"hex8"};if(n=l.hex6.exec(e))return{r:Object(r.e)(n[1]),g:Object(r.e)(n[2]),b:Object(r.e)(n[3]),format:t?"name":"hex"};if(n=l.hex4.exec(e))return{r:Object(r.e)(n[1]+n[1]),g:Object(r.e)(n[2]+n[2]),b:Object(r.e)(n[3]+n[3]),a:Object(r.a)(n[4]+n[4]),format:t?"name":"hex8"};if(n=l.hex3.exec(e))return{r:Object(r.e)(n[1]+n[1]),g:Object(r.e)(n[2]+n[2]),b:Object(r.e)(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(f(e.r)&&f(e.g)&&f(e.b)?(t=Object(r.i)(e.r,e.g,e.b),c=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):f(e.h)&&f(e.s)&&f(e.v)?(o=Object(a.d)(e.s),u=Object(a.d)(e.v),t=Object(r.c)(e.h,o,u),c=!0,h="hsv"):f(e.h)&&f(e.s)&&f(e.l)&&(o=Object(a.d)(e.s),s=Object(a.d)(e.l),t=Object(r.b)(e.h,o,s),c=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Object(a.b)(n),{ok:c,format:e.format||h,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var u="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),s="[\\s|\\(]+(".concat(u,")[,|\\s]+(").concat(u,")[,|\\s]+(").concat(u,")\\s*\\)?"),c="[\\s|\\(]+(".concat(u,")[,|\\s]+(").concat(u,")[,|\\s]+(").concat(u,")[,|\\s]+(").concat(u,")\\s*\\)?"),l={CSS_UNIT:new RegExp(u),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function f(e){return Boolean(l.CSS_UNIT.exec(String(e)))}},,function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(202),i=n(207);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},function(e,t,n){"use strict";var r=n(8),i=n(7),a=n(3),o=n(4),u=n(41),s=n(12),c=n(13),l=n(0),f=n.n(l),h=n(47),d=n.n(h),p=n(27),v=n(69),m=n(72),b=n(40),g=n(73),y=n(166),O=n(11),k=n.n(O);function w(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var j=n(9),_=n(22),x=n(110),E=n(46);function C(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function T(e){var t=e.prefixCls,n=e.visible,a=e.zIndex,o=e.mask,u=e.maskMotion,s=e.maskAnimation,c=e.maskTransitionName;if(!o)return null;var f={};return(u||c||s)&&(f=Object(r.a)({motionAppear:!0},C({motion:u,prefixCls:t,transitionName:c,animation:s}))),l.createElement(E.b,Object(i.a)({},f,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return l.createElement("div",{style:{zIndex:a},className:k()("".concat(t,"-mask"),n)})}))}var S,I=n(21),N=n(111);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function L(){if(void 0!==S)return S;S="";var e=document.createElement("p").style;for(var t in M)t+"Transform"in e&&(S=t);return S}function F(){return L()?"".concat(L(),"TransitionProperty"):"transitionProperty"}function U(){return L()?"".concat(L(),"Transform"):"transform"}function V(e,t){var n=F();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function q(e,t){var n=U();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var B,z=/matrix\((.*)\)/,W=/matrix3d\((.*)\)/;function H(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function K(e,t,n){var r=n;if("object"!==R(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):B(e,t);for(var i in t)t.hasOwnProperty(i)&&K(e,i,t[i])}function G(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function $(e){return G(e)}function Q(e){return G(e,!0)}function Y(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=$(r),t.top+=Q(r),t}function X(e){return null!==e&&void 0!==e&&e==e.window}function J(e){return X(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Z=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ee=/^(top|right|bottom|left)$/;function te(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ne(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function re(e,t,n){"static"===K(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=te("left",n),o=te("top",n),u=ne(a),s=ne(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c,l="",f=Y(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[F()]||"",V(e,"none")),"left"in t&&(e.style[u]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),H(e);var h=Y(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=te(p,n),m="left"===p?r:i,b=f[p]-h[p];d[v]=v===p?m+b:m-b}K(e,d),H(e),("left"in t||"top"in t)&&V(e,l);var g={};for(var y in t)if(t.hasOwnProperty(y)){var O=te(y,n),k=t[y]-f[y];g[O]=y===O?d[O]+k:d[O]-k}K(e,g)}function ie(e,t){var n=Y(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(U());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(U());if(r&&"none"!==r){var i,a=r.match(z);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,q(e,"matrix(".concat(i.join(","),")"))):((i=r.match(W)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,q(e,"matrix3d(".concat(i.join(","),")")))}else q(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function ae(e,t){for(var n=0;n<e.length;n++)t(e[n])}function oe(e){return"border-box"===B(e,"boxSizing")}"undefined"!==typeof window&&(B=window.getComputedStyle?function(e,t,n){var r=n,i="",a=J(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(Z.test(n)&&!ee.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var ue=["margin","border","padding"];function se(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function ce(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(B(e,u))||0}return o}var le={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function fe(e,t,n){var r=n;if(X(e))return"width"===t?le.viewportWidth(e):le.viewportHeight(e);if(9===e.nodeType)return"width"===t?le.docWidth(e):le.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=oe(e),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=B(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=o?1:-1);var s=void 0!==a||o,c=a||u;return-1===r?s?c-ce(e,["border","padding"],i):u:s?1===r?c:c+(2===r?-ce(e,["border"],i):ce(e,["margin"],i)):u+ce(e,ue.slice(r),i)}ae(["Width","Height"],(function(e){le["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],le["viewport".concat(e)](n))},le["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var he={position:"absolute",visibility:"hidden",display:"block"};function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=fe.apply(void 0,t):se(i,he,(function(){r=fe.apply(void 0,t)})),r}function pe(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}ae(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);le["outer".concat(t)]=function(t,n){return t&&de(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];le[e]=function(t,r){var i=r;return void 0!==i?t?(oe(t)&&(i+=ce(t,["padding","border"],n)),K(t,e,i)):void 0:t&&de(t,e,-1)}}));var ve={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:J,offset:function(e,t,n){if("undefined"===typeof t)return Y(e);!function(e,t,n){if(n.ignoreShake){var r=Y(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),u=t.top.toFixed(0);if(i===o&&a===u)return}n.useCssRight||n.useCssBottom?re(e,t,n):n.useCssTransform&&U()in document.body.style?ie(e,t):re(e,t,n)}(e,t,n||{})},isWindow:X,each:ae,css:K,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:pe,getWindowScrollLeft:function(e){return $(e)},getWindowScrollTop:function(e){return Q(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)ve.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};pe(ve,le);var me=ve.getParent;function be(e){if(ve.isWindow(e)||9===e.nodeType)return null;var t,n=ve.getDocument(e).body,r=ve.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:me(e);for(t=me(e);t&&t!==n&&9!==t.nodeType;t=me(t))if("static"!==(r=ve.css(t,"position")))return t;return null}var ge=ve.getParent;function ye(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=be(e),i=ve.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,u=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===u||"visible"===ve.css(r,"overflow")){if(r===o||r===u)break}else{var s=ve.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=be(r)}var c=null;ve.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===ve.css(e,"position")&&(e.style.position="fixed"));var l=ve.getWindowScrollLeft(a),f=ve.getWindowScrollTop(a),h=ve.viewportWidth(a),d=ve.viewportHeight(a),p=u.scrollWidth,v=u.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(ve.isWindow(e)||9===e.nodeType)return!1;var t=ve.getDocument(e),n=t.body,r=null;for(r=ge(e);r&&r!==n&&r!==t;r=ge(r))if("fixed"===ve.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var b=Math.max(p,l+h);n.right=Math.min(n.right,b);var g=Math.max(v,f+d);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Oe(e){var t,n,r;if(ve.isWindow(e)||9===e.nodeType){var i=ve.getWindow(e);t={left:ve.getWindowScrollLeft(i),top:ve.getWindowScrollTop(i)},n=ve.viewportWidth(i),r=ve.viewportHeight(i)}else t=ve.offset(e),n=ve.outerWidth(e),r=ve.outerHeight(e);return t.width=n,t.height=r,t}function ke(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,u=e.top;return"c"===n?u+=a/2:"b"===n&&(u+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:u}}function we(e,t,n,r,i){var a=ke(t,n[1]),o=ke(e,n[0]),u=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-u[0]+r[0]-i[0]),top:Math.round(e.top-u[1]+r[1]-i[1])}}function je(e,t,n){return e.left<n.left||e.left+t.width>n.right}function _e(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function xe(e,t,n){var r=[];return ve.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Ee(e,t){return e[t]=-e[t],e}function Ce(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Te(e,t){e[0]=Ce(e[0],t.width),e[1]=Ce(e[1],t.height)}function Se(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],u=n.overflow,s=n.source||e;a=[].concat(a),o=[].concat(o);var c={},l=0,f=ye(s,!(!(u=u||{})||!u.alwaysByViewport)),h=Oe(s);Te(a,h),Te(o,t);var d=we(h,t,i,a,o),p=ve.merge(h,d);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&je(d,h,f)){var v=xe(i,/[lr]/gi,{l:"r",r:"l"}),m=Ee(a,0),b=Ee(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(we(h,t,v,m,b),h,f)||(l=1,i=v,a=m,o=b)}if(u.adjustY&&_e(d,h,f)){var g=xe(i,/[tb]/gi,{t:"b",b:"t"}),y=Ee(a,1),O=Ee(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(we(h,t,g,y,O),h,f)||(l=1,i=g,a=y,o=O)}l&&(d=we(h,t,i,a,o),ve.mix(p,d));var k=je(d,h,f),w=_e(d,h,f);if(k||w){var j=i;k&&(j=xe(i,/[lr]/gi,{l:"r",r:"l"})),w&&(j=xe(i,/[tb]/gi,{t:"b",b:"t"})),i=j,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&k,c.adjustY=u.adjustY&&w,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=ve.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),ve.mix(i,a)}(d,h,f,c))}return p.width!==h.width&&ve.css(s,"width",ve.width(s)+p.width-h.width),p.height!==h.height&&ve.css(s,"height",ve.height(s)+p.height-h.height),ve.offset(s,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function Ie(e,t,n){var r=n.target||t,i=Oe(r),a=!function(e,t){var n=ye(e,t),r=Oe(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Se(e,i,n,a)}Ie.__getOffsetParent=be,Ie.__getVisibleRectForElement=ye;var Ne=n(145),Pe=n.n(Ne),Ae=n(121);function Re(e,t){var n=null,r=null;var i=new Ae.a((function(e){var i=Object(j.a)(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,u=a.height,s=Math.floor(o),c=Math.floor(u);n===s&&r===c||Promise.resolve().then((function(){t({width:s,height:c})})),n=s,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function De(e){return"function"!==typeof e?null:e()}function Me(e){return"object"===Object(I.a)(e)&&e?e:null}var Le=function(e,t){var n=e.children,r=e.disabled,i=e.target,a=e.align,o=e.onAlign,u=e.monitorWindowResize,s=e.monitorBufferTime,c=void 0===s?0:s,l=f.a.useRef({}),h=f.a.useRef(),d=f.a.Children.only(n),p=f.a.useRef({});p.current.disabled=r,p.current.target=i,p.current.align=a,p.current.onAlign=o;var m=function(e,t){var n=f.a.useRef(!1),r=f.a.useRef(null);function i(){window.clearTimeout(r.current)}return[function a(o){if(i(),n.current&&!0!==o)r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=h.current,u=De(n),s=Me(n);l.current.element=u,l.current.point=s,l.current.align=r;var c=document.activeElement;return u&&Object(N.a)(u)?a=Ie(o,u,r):s&&(a=function(e,t,n){var r,i,a=ve.getDocument(e),o=a.defaultView||a.parentWindow,u=ve.getWindowScrollLeft(o),s=ve.getWindowScrollTop(o),c=ve.viewportWidth(o),l=ve.viewportHeight(o),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},h=r>=0&&r<=u+c&&i>=0&&i<=s+l,d=[n.points[0],"cc"];return Se(e,f,A(A({},n),{},{points:d}),h)}(o,s,r)),function(e,t){e!==document.activeElement&&Object(v.a)(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),c),y=Object(j.a)(m,2),O=y[0],k=y[1],w=f.a.useRef({cancel:function(){}}),_=f.a.useRef({cancel:function(){}});f.a.useEffect((function(){var e,t,n=De(i),r=Me(i);h.current!==_.current.element&&(_.current.cancel(),_.current.element=h.current,_.current.cancel=Re(h.current,O)),l.current.element===n&&((e=l.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Pe()(l.current.align,a)||(O(),w.current.element!==n&&(w.current.cancel(),w.current.element=n,w.current.cancel=Re(n,O)))})),f.a.useEffect((function(){r?k():O()}),[r]);var x=f.a.useRef(null);return f.a.useEffect((function(){u?x.current||(x.current=Object(g.a)(window,"resize",O)):x.current&&(x.current.remove(),x.current=null)}),[u]),f.a.useEffect((function(){return function(){w.current.cancel(),_.current.cancel(),x.current&&x.current.remove(),k()}}),[]),f.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return O(!0)}}})),f.a.isValidElement(d)&&(d=f.a.cloneElement(d,{ref:Object(b.a)(d.ref,h)})),d},Fe=f.a.forwardRef(Le);Fe.displayName="Align";var Ue=Fe,Ve=n(59),qe=n(1),Be=n(6),ze=n(49),We=["measure","alignPre","align",null,"motion"],He=l.forwardRef((function(e,t){var n=e.visible,a=e.prefixCls,o=e.className,u=e.style,s=e.children,c=e.zIndex,f=e.stretch,h=e.destroyPopupOnHide,d=e.forceRender,v=e.align,m=e.point,b=e.getRootDomNode,g=e.getClassNameFromAlign,y=e.onAlign,O=e.onMouseEnter,w=e.onMouseLeave,_=e.onMouseDown,x=e.onTouchStart,T=e.onClick,S=Object(l.useRef)(),I=Object(l.useRef)(),N=Object(l.useState)(),P=Object(j.a)(N,2),A=P[0],R=P[1],D=function(e){var t=l.useState({width:0,height:0}),n=Object(j.a)(t,2),r=n[0],i=n[1];return[l.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),M=Object(j.a)(D,2),L=M[0],F=M[1];var U=function(e,t){var n=Object(ze.a)(null),r=Object(j.a)(n,2),i=r[0],a=r[1],o=Object(l.useRef)();function u(e){a(e,!0)}function s(){p.a.cancel(o.current)}return Object(l.useEffect)((function(){u("measure")}),[e]),Object(l.useEffect)((function(){"measure"===i&&t(),i&&(o.current=Object(p.a)(Object(Be.a)(Object(qe.a)().mark((function e(){var t,n;return Object(qe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=We.indexOf(i),(n=We[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),Object(l.useEffect)((function(){return function(){s()}}),[]),[i,function(e){s(),o.current=Object(p.a)((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){f&&F(b())})),V=Object(j.a)(U,2),q=V[0],B=V[1],z=Object(l.useState)(0),W=Object(j.a)(z,2),H=W[0],K=W[1],G=Object(l.useRef)();function $(){var e;null===(e=S.current)||void 0===e||e.forceAlign()}function Q(e,t){var n=g(t);A!==n&&R(n),K((function(e){return e+1})),"align"===q&&(null===y||void 0===y||y(e,t))}Object(Ve.a)((function(){"alignPre"===q&&K(0)}),[q]),Object(Ve.a)((function(){"align"===q&&(H<2?$():B((function(){var e;null===(e=G.current)||void 0===e||e.call(G)})))}),[H]);var Y=Object(r.a)({},C(e));function X(){return new Promise((function(e){G.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Y[e];Y[e]=function(e,n){return B(),null===t||void 0===t?void 0:t(e,n)}})),l.useEffect((function(){Y.motionName||"motion"!==q||B()}),[Y.motionName,q]),l.useImperativeHandle(t,(function(){return{forceAlign:$,getElement:function(){return I.current}}}));var J=Object(r.a)(Object(r.a)({},L),{},{zIndex:c,opacity:"motion"!==q&&"stable"!==q&&n?0:void 0,pointerEvents:n||"stable"===q?void 0:"none"},u),Z=!0;!(null===v||void 0===v?void 0:v.points)||"align"!==q&&"stable"!==q||(Z=!1);var ee=s;return l.Children.count(s)>1&&(ee=l.createElement("div",{className:"".concat(a,"-content")},s)),l.createElement(E.b,Object(i.a)({visible:n,ref:I,leavedClassName:"".concat(a,"-hidden")},Y,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:h,forceRender:d}),(function(e,t){var n=e.className,i=e.style,u=k()(a,o,A,n);return l.createElement(Ue,{target:m||b,key:"popup",ref:S,monitorWindowResize:!0,disabled:Z,align:v,onAlign:Q},l.createElement("div",{ref:t,className:u,onMouseEnter:O,onMouseLeave:w,onMouseDownCapture:_,onTouchStartCapture:x,onClick:T,style:Object(r.a)(Object(r.a)({},i),J)},ee))}))}));He.displayName="PopupInner";var Ke=He,Ge=l.forwardRef((function(e,t){var n=e.prefixCls,a=e.visible,o=e.zIndex,u=e.children,s=e.mobile,c=(s=void 0===s?{}:s).popupClassName,f=s.popupStyle,h=s.popupMotion,d=void 0===h?{}:h,p=s.popupRender,v=e.onClick,m=l.useRef();l.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var b=Object(r.a)({zIndex:o},f),g=u;return l.Children.count(u)>1&&(g=l.createElement("div",{className:"".concat(n,"-content")},u)),p&&(g=p(g)),l.createElement(E.b,Object(i.a)({visible:a,ref:m,removeOnLeave:!0},d),(function(e,t){var i=e.className,a=e.style,o=k()(n,c,i);return l.createElement("div",{ref:t,className:o,onClick:v,style:Object(r.a)(Object(r.a)({},a),b)},g)}))}));Ge.displayName="MobilePopupInner";var $e=Ge,Qe=["visible","mobile"],Ye=l.forwardRef((function(e,t){var n=e.visible,a=e.mobile,o=Object(_.a)(e,Qe),u=Object(l.useState)(n),s=Object(j.a)(u,2),c=s[0],f=s[1],h=Object(l.useState)(!1),d=Object(j.a)(h,2),p=d[0],v=d[1],m=Object(r.a)(Object(r.a)({},o),{},{visible:c});Object(l.useEffect)((function(){f(n),n&&a&&v(Object(x.a)())}),[n,a]);var b=p?l.createElement($e,Object(i.a)({},m,{mobile:a,ref:t})):l.createElement(Ke,Object(i.a)({},m,{ref:t}));return l.createElement("div",null,l.createElement(T,m),b)}));Ye.displayName="Popup";var Xe=Ye,Je=l.createContext(null);function Ze(){}function et(){return""}function tt(e){return e?e.ownerDocument:window.document}var nt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];t.a=function(e){var t=function(t){Object(s.a)(f,t);var n=Object(c.a)(f);function f(e){var t,r;return Object(a.a)(this,f),(t=n.call(this,e)).popupRef=l.createRef(),t.triggerRef=l.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Object(v.a)(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Object(v.a)(r,n)&&!t.isContextMenuOnly()||Object(v.a)(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Object(m.a)(t.triggerRef.current);if(n)return n}catch(r){}return d.a.findDOMNode(Object(u.a)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,u=r.alignPoint,s=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var u=a[o];if(w(e[u].points,i,r))return"".concat(t,"-placement-").concat(u)}return""}(a,o,e,u)),s&&n.push(s(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,u=e.popupMotion,s=e.popupAnimation,c=e.popupTransitionName,f=e.popupStyle,h=e.mask,d=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,b=e.popup,g=e.stretch,y=e.alignPoint,O=e.mobile,k=e.forceRender,w=e.onPopupClick,j=t.state,_=j.popupVisible,x=j.point,E=t.getPopupAlign(),C={};return t.isMouseEnterToShow()&&(C.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(C.onMouseLeave=t.onPopupMouseLeave),C.onMouseDown=t.onPopupMouseDown,C.onTouchStart=t.onPopupMouseDown,l.createElement(Xe,Object(i.a)({prefixCls:n,destroyPopupOnHide:r,visible:_,point:y&&x,className:a,align:E,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},C,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:h,zIndex:m,transitionName:c,maskAnimation:d,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:u,mobile:O,forceRender:k,onClick:w}),"function"===typeof b?b():b)},t.attachParent=function(e){p.a.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Object(p.a)((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},r="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:r,popupVisible:r},nt.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Object(o.a)(f,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Object(g.a)(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Object(g.a)(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Object(g.a)(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(g.a)(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),p.a.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?function(e,t,n){var i=e[t]||{};return Object(r.a)(Object(r.a)({},i),n)}(i,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,u=n.className,s=n.autoDestroy,c=l.Children.only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,o&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var h=k()(c&&c.props&&c.props.className,u);h&&(f.className=h);var d=Object(r.a)({},f);Object(b.c)(c)&&(d.ref=Object(b.a)(this.triggerRef,c.ref));var p,v=l.cloneElement(c,d);return(t||this.popupRef.current||a)&&(p=l.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(p=null),l.createElement(Je.Provider,{value:this.triggerContextValue},v,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),f}(l.Component);return t.contextType=Je,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:et,getDocument:tt,onPopupVisibleChange:Ze,afterPopupVisibleChange:Ze,onPopupAlign:Ze,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(y.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(67),i=n(117);function a(e,t,n){return a=Object(i.a)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a},a.apply(null,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),i=n(7),a=n(9),o=n(0),u=n(120);function s(e){var t=o.useRef({}),n=o.useState([]),s=Object(a.a)(n,2),c=s[0],l=s[1];return[function(n){var a=!0;e.add(n,(function(e,n){var s=n.key;if(e&&(!t.current[s]||a)){var c=o.createElement(u.a,Object(i.a)({},n,{holder:e}));t.current[s]=c,l((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Object(r.a)(e),[c]);var i=Object(r.a)(e);return i[t]=c,i}))}a=!1}))},o.createElement(o.Fragment,null,c)]}},function(e,t,n){"use strict";var r=n(0),i=Object(r.createContext)({});t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(5),i=n(7),a=n(9),o=n(8),u=n(0),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},c=n(26),l=function(e,t){return u.createElement(c.a,Object(o.a)(Object(o.a)({},e),{},{ref:t,icon:s}))};l.displayName="BarsOutlined";var f=u.forwardRef(l),h=n(137),d=n(135),p=n(11),v=n.n(p),m=n(34),b=n(65),g=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},y=n(74),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},k={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},w=u.createContext({}),j=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),_=u.forwardRef((function(e,t){var n=e.prefixCls,o=e.className,s=e.trigger,c=e.children,l=e.defaultCollapsed,p=void 0!==l&&l,_=e.theme,x=void 0===_?"dark":_,E=e.style,C=void 0===E?{}:E,T=e.collapsible,S=void 0!==T&&T,I=e.reverseArrow,N=void 0!==I&&I,P=e.width,A=void 0===P?200:P,R=e.collapsedWidth,D=void 0===R?80:R,M=e.zeroWidthTriggerStyle,L=e.breakpoint,F=e.onCollapse,U=e.onBreakpoint,V=O(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),q=Object(u.useContext)(y.d).siderHook,B=Object(u.useState)("collapsed"in V?V.collapsed:p),z=Object(a.a)(B,2),W=z[0],H=z[1],K=Object(u.useState)(!1),G=Object(a.a)(K,2),$=G[0],Q=G[1];Object(u.useEffect)((function(){"collapsed"in V&&H(V.collapsed)}),[V.collapsed]);var Y=function(e,t){"collapsed"in V||H(e),null===F||void 0===F||F(e,t)},X=Object(u.useRef)();X.current=function(e){Q(e.matches),null===U||void 0===U||U(e.matches),W!==e.matches&&Y(e.matches,"responsive")},Object(u.useEffect)((function(){function e(e){return X.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&L&&L in k){t=n("(max-width: ".concat(k[L],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[L]),Object(u.useEffect)((function(){var e=j("ant-sider-");return q.addSider(e),function(){return q.removeSider(e)}}),[]);var J=function(){Y(!W,"clickTrigger")},Z=Object(u.useContext)(b.b).getPrefixCls,ee=u.useMemo((function(){return{siderCollapsed:W}}),[W]);return u.createElement(w.Provider,{value:ee},function(){var e,a=Z("layout-sider",n),l=Object(m.a)(V,["collapsed"]),p=W?D:A,b=g(p)?"".concat(p,"px"):String(p),y=0===parseFloat(String(D||0))?u.createElement("span",{onClick:J,className:v()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(N?"right":"left")),style:M},s||u.createElement(f,null)):null,O={expanded:N?u.createElement(d.a,null):u.createElement(h.a,null),collapsed:N?u.createElement(h.a,null):u.createElement(d.a,null)}[W?"collapsed":"expanded"],k=null!==s?y||u.createElement("div",{className:"".concat(a,"-trigger"),onClick:J,style:{width:b}},s||O):null,w=Object(i.a)(Object(i.a)({},C),{flex:"0 0 ".concat(b),maxWidth:b,minWidth:b,width:b}),j=v()(a,"".concat(a,"-").concat(x),(e={},Object(r.a)(e,"".concat(a,"-collapsed"),!!W),Object(r.a)(e,"".concat(a,"-has-trigger"),S&&null!==s&&!y),Object(r.a)(e,"".concat(a,"-below"),!!$),Object(r.a)(e,"".concat(a,"-zero-width"),0===parseFloat(b)),e),o);return u.createElement("aside",Object(i.a)({className:j},l,{style:w,ref:t}),u.createElement("div",{className:"".concat(a,"-children")},c),S||$&&y?k:null)}())}));t.b=_},function(e,t,n){e.exports=n(184)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(30),i=n(76),a=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function o(e){var t=e.r,n=e.g,i=e.b,a=Object(r.h)(t,n,i);return{h:360*a.h,s:a.s,v:a.v}}function u(e){var t=e.r,n=e.g,i=e.b;return"#".concat(Object(r.f)(t,n,i,!1))}function s(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function c(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function l(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function f(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Object(i.a)(e),h=5;h>0;h-=1){var d=o(r),p=u(Object(i.a)({h:c(d,h,!0),s:l(d,h,!0),v:f(d,h,!0)}));n.push(p)}n.push(u(r));for(var v=1;v<=4;v+=1){var m=o(r),b=u(Object(i.a)({h:c(m,v),s:l(m,v),v:f(m,v)}));n.push(b)}return"dark"===t.theme?a.map((function(e){var r=e.index,a=e.opacity;return u(s(Object(i.a)(t.backgroundColor||"#141414"),Object(i.a)(n[r]),100*a))})):n}var d={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},p={},v={};Object.keys(d).forEach((function(e){p[e]=h(d[e]),p[e].primary=p[e][5],v[e]=h(d[e],{theme:"dark",backgroundColor:"#141414"}),v[e].primary=v[e][5]}));p.red,p.volcano,p.gold,p.orange,p.yellow,p.lime,p.green,p.cyan,p.blue,p.geekblue,p.purple,p.magenta,p.grey},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},function(e,t,n){"use strict";var r=n(179),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var b=o[m];if(!a[b]&&(!r||!r[b])&&(!v||!v[b])&&(!u||!u[b])){var g=h(n,b);try{c(t,b,g)}catch(y){}}}}return t}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(e,t,n){"use strict";var r=n(0),i=Object(r.createContext)(void 0);t.a=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(5),i=n(7),a=["xxl","xl","lg","md","sm","xs"],o={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},u=new Map,s=-1,c={},l={matchHandlers:{},dispatch:function(e){return c=e,u.forEach((function(e){return e(c)})),u.size>=1},subscribe:function(e){return u.size||this.register(),s+=1,u.set(s,e),e(c),s},unsubscribe:function(e){u.delete(e),u.size||this.unregister()},unregister:function(){var e=this;Object.keys(o).forEach((function(t){var n=o[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),u.clear()},register:function(){var e=this;Object.keys(o).forEach((function(t){var n=o[t],a=function(n){var a=n.matches;e.dispatch(Object(i.a)(Object(i.a)({},c),Object(r.a)({},t,a)))},u=window.matchMedia(n);u.addListener(a),e.matchHandlers[n]={mql:u,listener:a},a(u)}))}};t.a=l},function(e,t,n){"use strict";var r=n(5),i=n(7),a=n(21),o=n(11),u=n.n(o),s=n(0),c=n(65),l=n(124),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var h=["xs","sm","md","lg","xl","xxl"],d=s.forwardRef((function(e,t){var n,o=s.useContext(c.b),d=o.getPrefixCls,p=o.direction,v=s.useContext(l.a),m=v.gutter,b=v.wrap,g=v.supportFlexGap,y=e.prefixCls,O=e.span,k=e.order,w=e.offset,j=e.push,_=e.pull,x=e.className,E=e.children,C=e.flex,T=e.style,S=f(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),I=d("col",y),N={};h.forEach((function(t){var n,o={},u=e[t];"number"===typeof u?o.span=u:"object"===Object(a.a)(u)&&(o=u||{}),delete S[t],N=Object(i.a)(Object(i.a)({},N),(n={},Object(r.a)(n,"".concat(I,"-").concat(t,"-").concat(o.span),void 0!==o.span),Object(r.a)(n,"".concat(I,"-").concat(t,"-order-").concat(o.order),o.order||0===o.order),Object(r.a)(n,"".concat(I,"-").concat(t,"-offset-").concat(o.offset),o.offset||0===o.offset),Object(r.a)(n,"".concat(I,"-").concat(t,"-push-").concat(o.push),o.push||0===o.push),Object(r.a)(n,"".concat(I,"-").concat(t,"-pull-").concat(o.pull),o.pull||0===o.pull),Object(r.a)(n,"".concat(I,"-rtl"),"rtl"===p),n))}));var P=u()(I,(n={},Object(r.a)(n,"".concat(I,"-").concat(O),void 0!==O),Object(r.a)(n,"".concat(I,"-order-").concat(k),k),Object(r.a)(n,"".concat(I,"-offset-").concat(w),w),Object(r.a)(n,"".concat(I,"-push-").concat(j),j),Object(r.a)(n,"".concat(I,"-pull-").concat(_),_),n),x,N),A={};if(m&&m[0]>0){var R=m[0]/2;A.paddingLeft=R,A.paddingRight=R}if(m&&m[1]>0&&!g){var D=m[1]/2;A.paddingTop=D,A.paddingBottom=D}return C&&(A.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(C),!1!==b||A.minWidth||(A.minWidth=0)),s.createElement("div",Object(i.a)({},S,{style:Object(i.a)(Object(i.a)({},A),T),className:P,ref:t}),E)}));t.a=d},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="LoadingOutlined";t.a=i.forwardRef(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(42),i=n(69),a="data-rc-order",o="rc-util-key",u=new Map;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):o}function c(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function l(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function f(e){return Array.from((u.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(r.a)())return null;var n=t.csp,i=t.prepend,o=document.createElement("style");o.setAttribute(a,l(i)),(null===n||void 0===n?void 0:n.nonce)&&(o.nonce=null===n||void 0===n?void 0:n.nonce),o.innerHTML=e;var u=c(t),s=u.firstChild;if(i){if("queue"===i){var h=f(u).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(a))}));if(h.length)return u.insertBefore(o,h[h.length-1].nextSibling),o}u.insertBefore(o,s)}else u.appendChild(o);return o}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(t);return f(n).find((function(n){return n.getAttribute(s(t))===e}))}function p(e,t){var n=u.get(e);if(!n||!Object(i.a)(document,n)){var r=h("",t),a=r.parentNode;u.set(e,a),a.removeChild(r)}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=c(n);p(r,n);var i=d(t,n);if(i){var a,o,u;if((null===(a=n.csp)||void 0===a?void 0:a.nonce)&&i.nonce!==(null===(o=n.csp)||void 0===o?void 0:o.nonce))i.nonce=null===(u=n.csp)||void 0===u?void 0:u.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var l=h(e,n);return l.setAttribute(s(n),t),l}},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="CloseCircleFilled";t.a=i.forwardRef(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(7),i=n(3),a=n(4),o=n(12),u=n(13),s=n(0),c=n(93),l=n(63).a,f=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||l[null!==t&&void 0!==t?t:"global"],i=this.context,a=t&&i?i[t]:{};return Object(r.a)(Object(r.a)({},n instanceof Function?n():n),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?l.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(s.Component);function h(e,t){var n=s.useContext(c.a);return[s.useMemo((function(){var i=t||l[e||"global"],a=e&&n?n[e]:{};return Object(r.a)(Object(r.a)({},"function"===typeof i?i():i),a||{})}),[e,t,n])]}f.defaultProps={componentName:"global"},f.contextType=c.a},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(132),i=n(203),a=n(204),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(5),i=n(9),a=n(7),o=n(11),u=n.n(o),s=n(21),c=n(8),l=n(22),f=n(0),h=n(82),d=n(123);function p(e){var t=e.showArrow,n=e.arrowContent,r=e.children,i=e.prefixCls,a=e.id,o=e.overlayInnerStyle,s=e.className,c=e.style;return f.createElement("div",{className:u()("".concat(i,"-content"),s),style:c},!1!==t&&f.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},n),f.createElement("div",{className:"".concat(i,"-inner"),id:a,role:"tooltip",style:o},"function"===typeof r?r():r))}var v=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,u=void 0===o?0:o,v=e.mouseLeaveDelay,m=void 0===v?.1:v,b=e.overlayStyle,g=e.prefixCls,y=void 0===g?"rc-tooltip":g,O=e.children,k=e.onVisibleChange,w=e.afterVisibleChange,j=e.transitionName,_=e.animation,x=e.motion,E=e.placement,C=void 0===E?"right":E,T=e.align,S=void 0===T?{}:T,I=e.destroyTooltipOnHide,N=void 0!==I&&I,P=e.defaultVisible,A=e.getTooltipContainer,R=e.overlayInnerStyle,D=e.arrowContent,M=e.overlay,L=e.id,F=e.showArrow,U=Object(l.a)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),V=Object(f.useRef)(null);Object(f.useImperativeHandle)(t,(function(){return V.current}));var q=Object(c.a)({},U);"visible"in e&&(q.popupVisible=e.visible);var B=!1,z=!1;if("boolean"===typeof N)B=N;else if(N&&"object"===Object(s.a)(N)){var W=N.keepParent;B=!0===W,z=!1===W}return f.createElement(h.a,Object(a.a)({popupClassName:n,prefixCls:y,popup:function(){return f.createElement(p,{showArrow:F,arrowContent:D,key:"content",prefixCls:y,id:L,overlayInnerStyle:R},M)},action:i,builtinPlacements:d.a,popupPlacement:C,ref:V,popupAlign:S,getPopupContainer:A,onPopupVisibleChange:k,afterPopupVisibleChange:w,popupTransitionName:j,popupAnimation:_,popupMotion:x,defaultPopupVisible:P,destroyPopupOnHide:B,autoDestroy:z,mouseLeaveDelay:m,popupStyle:b,mouseEnterDelay:u},q),O)},m=Object(f.forwardRef)(v),b=n(51),g=n(65),y=n(57),O=(Object(y.a)("success","processing","error","default","warning"),Object(y.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),k=n(62),w=n(156),j=n(39),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},x=new RegExp("^(".concat(O.join("|"),")(-inverse)?$"));function E(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var r=function(e,t){var n={},r=Object(a.a)({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,s=Object(a.a)(Object(a.a)({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),c=Object(a.a)(Object(a.a)({},o),{pointerEvents:"none"}),l=Object(j.a)(e,{style:c,className:null});return f.createElement("span",{style:s,className:u()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},l)}return e}var C=f.forwardRef((function(e,t){var n,o=f.useContext(g.b),s=o.getPopupContainer,c=o.getPrefixCls,l=o.direction;var h=Object(b.a)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),d=Object(i.a)(h,2),p=d[0],v=d[1],y=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},O=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||Object(w.a)({arrowPointAtCenter:n,autoAdjustOverflow:r})},C=e.getPopupContainer,T=_(e,["getPopupContainer"]),S=e.prefixCls,I=e.openClassName,N=e.getTooltipContainer,P=e.overlayClassName,A=e.color,R=e.overlayInnerStyle,D=e.children,M=c("tooltip",S),L=c(),F=p;"open"in e||"visible"in e||!y()||(F=!1);var U,V=E(Object(j.c)(D)&&!Object(j.b)(D)?D:f.createElement("span",null,D),M),q=V.props,B=q.className&&"string"!==typeof q.className?q.className:u()(q.className,Object(r.a)({},I||"".concat(M,"-open"),!0)),z=u()(P,(n={},Object(r.a)(n,"".concat(M,"-rtl"),"rtl"===l),Object(r.a)(n,"".concat(M,"-").concat(A),A&&x.test(A)),n)),W=R;return A&&!x.test(A)&&(W=Object(a.a)(Object(a.a)({},R),{background:A}),U={"--antd-arrow-background-color":A}),f.createElement(m,Object(a.a)({},T,{prefixCls:M,overlayClassName:z,getTooltipContainer:C||N||s,ref:t,builtinPlacements:O(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:F,onVisibleChange:function(t){var n,r;v(!y()&&t),y()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=O(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:W,arrowContent:f.createElement("span",{className:"".concat(M,"-arrow-content"),style:U}),motion:{motionName:Object(k.c)(L,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),F?Object(j.a)(V,{className:B}):V)}));C.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};t.a=C},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(115),i=n(118),a=n(66),o=n(116);function u(e){return Object(r.a)(e)||Object(i.a)(e)||Object(a.a)(e)||Object(o.a)()}},function(e,t,n){var r=n(192),i=n(193),a=n(194),o=n(195),u=n(196);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(146);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(80)(Object,"create");e.exports=r},function(e,t,n){var r=n(216);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="CloseOutlined";t.a=i.forwardRef(u)},function(e,t,n){"use strict";t.a=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}},function(e,t,n){"use strict";t.a=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1}},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="CheckCircleFilled";t.a=i.forwardRef(u)},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="ExclamationCircleFilled";t.a=i.forwardRef(u)},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="EllipsisOutlined";t.a=i.forwardRef(u)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(183)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(7),i=n(5),a=n(3),o=n(4),u=n(12),s=n(13),c=n(0),l=n(47),f=n.n(l),h=n(11),d=n.n(h),p=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=t.closable,u=t.closeIcon,s=t.style,l=t.onClick,h=t.children,p=t.holder,v="".concat(n,"-notice"),m=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),b=c.createElement("div",Object(r.a)({className:d()(v,a,Object(i.a)({},"".concat(v,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},m),c.createElement("div",{className:"".concat(v,"-content")},h),o?c.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},u||c.createElement("span",{className:"".concat(v,"-close-x")})):null);return p?f.a.createPortal(b,p):b}}]),n}(c.Component);p.defaultProps={onClose:function(){},duration:1.5}},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function u(){a(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},f=b(0,0,0,0);function h(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=l(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=h(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=h(r.width),s=h(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=d(r,"left","right")+a),Math.round(s+o)!==n&&(s-=d(r,"top","bottom")+o)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(u+a)-t,p=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(p)&&(s-=p)}return b(i.left,i.top,u,s)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return r?v(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):p(e):f}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return c(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!==typeof WeakMap?new WeakMap:new n,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),r=new O(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var j="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:w;t.a=j}).call(this,n(79))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),i=n(111);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(i.a)(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),o=Number(a),u=null;return a&&!Number.isNaN(o)?u=o:r&&null===u&&(u=0),r&&e.disabled&&(u=null),null!==u&&(u>=0||t&&u<0)}return!1}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.a)(e.querySelectorAll("*")).filter((function(e){return a(e,t)}));return a(e,t)&&n.unshift(e),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={adjustX:1,adjustY:1},i=[0,0],a={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:i},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:i},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:i},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:i},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:i},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:i},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:i},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:i},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:i},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:i},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:i},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:i}}},function(e,t,n){"use strict";var r=n(0),i=Object(r.createContext)({});t.a=i},function(e,t,n){"use strict";var r=n(7),i=n(5),a=n(22),o=n(8),u=n(3),s=n(4),c=n(12),l=n(13),f=n(0),h=n.n(f),d=n(11),p=n.n(d),v=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(u.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:Object(o.a)(Object(o.a)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return Object(s.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,o=t.className,u=t.style,s=t.name,c=t.id,l=t.type,f=t.disabled,d=t.readOnly,v=t.tabIndex,m=t.onClick,b=t.onFocus,g=t.onBlur,y=t.onKeyDown,O=t.onKeyPress,k=t.onKeyUp,w=t.autoFocus,j=t.value,_=t.required,x=Object(a.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),C=this.state.checked,T=p()(n,o,(e={},Object(i.a)(e,"".concat(n,"-checked"),C),Object(i.a)(e,"".concat(n,"-disabled"),f),e));return h.a.createElement("span",{className:T,style:u},h.a.createElement("input",Object(r.a)({name:s,id:c,type:l,required:_,readOnly:d,disabled:f,tabIndex:v,className:"".concat(n,"-input"),checked:!!C,onClick:m,onFocus:b,onBlur:g,onKeyUp:k,onKeyDown:y,onKeyPress:O,onChange:this.handleChange,autoFocus:w,ref:this.saveInput,value:j},E)),h.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(o.a)(Object(o.a)({},t),{},{checked:e.checked}):null}}]),n}(f.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.a=v},function(e,t,n){"use strict";var r,i=n(22),a=n(7),o=n(8),u=n(3),s=n(4),c=n(12),l=n(13),f=n(0),h=n(1),d=n(6),p=n(21),v=n(47),m=Object(o.a)({},v),b=m.version,g=m.render,y=m.unmountComponentAtNode;try{Number((b||"").split(".")[0])>=18&&(r=m.createRoot)}catch(F){}function O(e){var t=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===Object(p.a)(t)&&(t.usingClientEntryPoint=e)}var k="__rc_react_root__";function w(e,t){r?function(e,t){O(!0);var n=t[k]||r(t);O(!1),n.render(e),t[k]=n}(e,t):function(e,t){g(e,t)}(e,t)}function j(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[k])||void 0===e||e.unmount(),delete t[k]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){y(e)}function E(){return(E=Object(d.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",j(t));case 2:x(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(11),T=n.n(C),S=n(46),I=n(120),N=n(84),P=["getContainer"],A=0,R=Date.now();function D(){var e=A;return A+=1,"rcNotification_".concat(R,"_").concat(e)}var M=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||D(),i=Object(o.a)(Object(o.a)({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),u=t.concat();return-1!==o?u.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=u[0].notice.key,i.updateMark=D(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return Object(s.a)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,u=n.closeIcon,s=n.style,c=[];return t.forEach((function(n,i){var a=n.notice,s=n.holderCallback,l=i===t.length-1?a.updateMark:void 0,f=a.key,h=a.userPassKey,d=Object(o.a)(Object(o.a)(Object(o.a)({prefixCls:r,closeIcon:u},a),a.props),{},{key:f,noticeKey:h||f,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});c.push(f),e.noticePropsMap[f]={props:d,holderCallback:s}})),f.createElement("div",{className:T()(r,i),style:s},f.createElement(S.a,{keys:c,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,i=t.className,u=t.style,s=t.visible,c=e.noticePropsMap[n],l=c.props,h=c.holderCallback;return h?f.createElement("div",{key:n,className:T()(i,"".concat(r,"-hook-holder")),style:Object(o.a)({},u),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),h(t,l)):e.hookRefs.delete(n))}}):f.createElement(I.a,Object(a.a)({},l,{className:T()(i,null===l||void 0===l?void 0:l.className),style:Object(o.a)(Object(o.a)({},u),null===l||void 0===l?void 0:l.style),visible:s}))})))}}]),n}(f.Component);M.newInstance=void 0,M.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},M.newInstance=function(e,t){var n=e||{},r=n.getContainer,o=Object(i.a)(n,P),u=document.createElement("div");r?r().appendChild(u):document.body.appendChild(u);var s=!1;w(f.createElement(M,Object(a.a)({},o,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){E.apply(this,arguments)}(u),u.parentNode&&u.parentNode.removeChild(u)},useNotification:function(){return Object(N.a)(e)}}))}})),u)};var L=M;t.a=L},function(e,t,n){"use strict";var r=n(18);n.d(t,"a",(function(){return r.y})),n.d(t,"b",(function(){return r.P})),n.d(t,"c",(function(){return r.S}))},function(e,t,n){"use strict";n(1);var r=n(7),i=n(5),a=n(8),o=n(0),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},s=n(26),c=function(e,t){return o.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:u}))};c.displayName="CheckCircleOutlined";var l=o.forwardRef(c),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},h=function(e,t){return o.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:f}))};h.displayName="CloseCircleOutlined";var d=o.forwardRef(h),p=n(109),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},m=function(e,t){return o.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:v}))};m.displayName="ExclamationCircleOutlined";var b=o.forwardRef(m),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},y=function(e,t){return o.createElement(s.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:g}))};y.displayName="InfoCircleOutlined";var O=o.forwardRef(y),k=n(11),w=n.n(k),j=n(126),_=n(25),x=n(9),E=n(84),C=n(65);var T,S,I,N={},P=4.5,A=24,R=24,D="",M="topRight",L=!1;function F(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function U(e,t){var n=e.placement,r=void 0===n?M:n,a=e.top,o=e.bottom,u=e.getContainer,s=void 0===u?T:u,c=e.prefixCls,l=Object(_.b)(),f=l.getPrefixCls,h=l.getIconPrefixCls,d=f("notification",c||D),p=h(),v="".concat(d,"-").concat(r),m=N[v];if(m)Promise.resolve(m).then((function(e){t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:p,instance:e})}));else{var b=w()("".concat(d,"-").concat(r),Object(i.a)({},"".concat(d,"-rtl"),!0===L));N[v]=new Promise((function(e){j.a.newInstance({prefixCls:d,className:b,style:F(r,a,o),getContainer:s,maxCount:I},(function(n){e(n),t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:p,instance:n})}))}))}}var V={success:l,info:O,error:d,warning:b};function q(e,t,n){var r=e.duration,a=e.icon,u=e.type,s=e.description,c=e.message,l=e.btn,f=e.onClose,h=e.onClick,d=e.key,v=e.style,m=e.className,b=e.closeIcon,g=void 0===b?S:b,y=void 0===r?P:r,O=null;a?O=o.createElement("span",{className:"".concat(t,"-icon")},e.icon):u&&(O=o.createElement(V[u]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(u)}));var k=o.createElement("span",{className:"".concat(t,"-close-x")},g||o.createElement(p.a,{className:"".concat(t,"-close-icon")})),j=!s&&O?o.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:o.createElement(_.a,{iconPrefixCls:n},o.createElement("div",{className:O?"".concat(t,"-with-icon"):"",role:"alert"},O,o.createElement("div",{className:"".concat(t,"-message")},j,c),o.createElement("div",{className:"".concat(t,"-description")},s),l?o.createElement("span",{className:"".concat(t,"-btn")},l):null)),duration:y,closable:!0,closeIcon:k,onClose:f,onClick:h,key:d,style:v||{},className:w()(m,Object(i.a)({},"".concat(t,"-").concat(u),!!u))}}var B,z,W={open:function(e){U(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(q(e,n,r))}))},close:function(e){Object.keys(N).forEach((function(t){return Promise.resolve(N[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,u=e.prefixCls;void 0!==u&&(D=u),void 0!==t&&(P=t),void 0!==n?M=n:e.rtl&&(M="topLeft"),void 0!==r&&(R=r),void 0!==i&&(A=i),void 0!==a&&(T=a),void 0!==o&&(S=o),void 0!==e.rtl&&(L=e.rtl),void 0!==e.maxCount&&(I=e.maxCount)},destroy:function(){Object.keys(N).forEach((function(e){Promise.resolve(N[e]).then((function(e){e.destroy()})),delete N[e]}))}};["success","info","warning","error"].forEach((function(e){W[e]=function(t){return W.open(Object(r.a)(Object(r.a)({},t),{type:e}))}})),W.warn=W.warning,W.useNotification=(B=U,z=q,function(){var e,t=null,n={add:function(e,n){null===t||void 0===t||t.component.add(e,n)}},i=Object(E.a)(n),a=Object(x.a)(i,2),u=a[0],s=a[1],c=o.useRef({});return c.current.open=function(n){var i=n.prefixCls,a=e("notification",i);B(Object(r.a)(Object(r.a)({},n),{prefixCls:a}),(function(e){var r=e.prefixCls,i=e.instance;t=i,u(z(n,r))}))},["success","info","warning","error"].forEach((function(e){c.current[e]=function(t){return c.current.open(Object(r.a)(Object(r.a)({},t),{type:e}))}})),[c.current,o.createElement(C.a,{key:"holder"},(function(t){return e=t.getPrefixCls,s}))]});t.a=W},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){var r=n(80)(n(61),"Map");e.exports=r},function(e,t,n){var r=n(61).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),i=n(0),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=i.createContext(null),u=function(e){var t=e.children,n=a(e,["children"]),u=i.useContext(o),s=i.useMemo((function(){return Object(r.a)(Object(r.a)({},u),n)}),[u,n.prefixCls,n.mode,n.selectable]);return i.createElement(o.Provider,{value:s},t)};t.b=o},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="RightOutlined";t.a=i.forwardRef(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a}));var r,i=n(29),a=n(3),o=n(4),u=n(9),s=n(10),c=n(5),l=n(1),f=n(6),h=n(16),d=n(24),p=n(2),v=n(20),m=n(15),b=n(44),g="@firebase/installations",y="0.5.12",O=1e4,k="w:".concat(y),w="FIS_v2",j=36e5,_=(r={},Object(c.a)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(r,"not-registered","Firebase Installation is not registered."),Object(c.a)(r,"installation-not-found","Firebase Installation not found."),Object(c.a)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Object(c.a)(r,"app-offline","Could not process request. Application offline."),Object(c.a)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),x=new p.b("installations","Installations",_);function E(e){return e instanceof p.c&&e.code.includes("request-failed")}function C(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function T(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function S(e,t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",x.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P(e,t){var n=t.refreshToken,r=N(e);return r.append("Authorization",function(e){return"".concat(w," ").concat(e)}(n)),r}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(f.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return M.apply(this,arguments)}function M(){return(M=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c,f,h,d,p,v;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=C(r),u=N(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return f={fid:a,authVersion:w,appId:r.appId,sdkVersion:k},h={method:"POST",headers:u,body:JSON.stringify(f)},e.next=14,A((function(){return fetch(o,h)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return p=e.sent,v={fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:T(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,S("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return new Promise((function(t){setTimeout(t,e)}))}var F=/^[cdef][\w-]{21}$/;function U(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(m.a)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return F.test(t)?t:""}catch(n){return""}}function V(e){return"".concat(e.appName,"!").concat(e.appId)}var q=new Map;function B(e,t){var n=V(e);z(n,t),function(e,t){var n=H();n&&n.postMessage({key:e,fid:t});K()}(n,t)}function z(e,t){var n=q.get(e);if(n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var W=null;function H(){return!W&&"BroadcastChannel"in self&&((W=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){z(e.data.key,e.data.fid)}),W}function K(){0===q.size&&W&&(W.close(),W=null)}var G="firebase-installations-store",$=null;function Q(){return $||($=Object(b.b)("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(G)}})),$}function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,Q();case 3:return i=e.sent,a=i.transaction(G,"readwrite"),o=a.objectStore(G),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||B(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=V(t),e.next=3,Q();case 3:return r=e.sent,i=r.transaction(G,"readwrite"),e.next=7,i.objectStore(G).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,Q();case 3:return i=e.sent,a=i.transaction(G,"readwrite"),o=a.objectStore(G),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||B(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(f.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t.appConfig,(function(e){var r=ie(e),i=ae(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return le(e||{fid:U(),registrationStatus:0})}function ae(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return oe.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ue(e)}:{installationEntry:t}}function oe(){return(oe=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,n);case 3:return r=e.sent,e.abrupt("return",Y(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!E(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,J(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Y(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,L(100);case 6:return e.next=8,ce(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ne(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ee(e,(function(e){if(!e)throw x.create("installation-not-found");return le(e)}))}function le(e){return 1===(t=e).registrationStatus&&t.registrationTime+O<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c,f,h,d,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=de(r,n),o=P(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:k,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,A((function(){return fetch(a,f)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return d=e.sent,p=T(d),e.abrupt("return",p);case 22:return e.next=24,S("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){var n=t.fid;return"".concat(C(e),"/").concat(n,"/authTokens:generate")}function pe(e){return ve.apply(this,arguments)}function ve(){return ve=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ee(t.appConfig,(function(e){if(!ke(e))throw x.create("not-registered");var i=e.authToken;if(!n&&we(i))return e;if(1===i.requestStatus)return r=me(t,n),e;if(!navigator.onLine)throw x.create("app-offline");var a=je(e);return r=ye(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function me(e,t){return be.apply(this,arguments)}function be(){return(be=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,L(100);case 6:return e.next=8,ge(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",pe(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ee(e,(function(e){if(!ke(e))throw x.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+O<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ye(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Y(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!E(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,J(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Y(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ke(e){return void 0!==e&&2===e.registrationStatus}function we(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+j}(e)}function je(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function _e(){return(_e=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ne(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):pe(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return xe=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Ee(r);case 4:return e.next=6,pe(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function Ee(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(f.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return x.create("missing-app-config-values",{valueName:e})}var Se,Ie="installations",Ne=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Te("App Configuration");if(!e.name)throw Te("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Te(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Object(h._getProvider)(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Pe=function(e){var t=e.getProvider("app").getImmediate(),n=Object(h._getProvider)(t,Ie).getImmediate(),r={getId:function(){return function(e){return _e.apply(this,arguments)}(n)},getToken:function(e){return function(e){return xe.apply(this,arguments)}(n,e)}};return r};Object(h._registerComponent)(new v.a(Ie,Ne,"PUBLIC")),Object(h._registerComponent)(new v.a("installations-internal",Pe,"PRIVATE")),Object(h.registerVersion)(g,y),Object(h.registerVersion)(g,y,"esm2017");var Ae="analytics",Re=6e4,De="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Me="https://www.googletagmanager.com/gtag/js",Le=new d.b("@firebase/analytics");function Fe(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Ue(e,t){var n=document.createElement("script");n.src="".concat(Me,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Ve(e,t,n,r,i,a){return qe.apply(this,arguments)}function qe(){return(qe=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i,a,o){var u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Fe(r);case 9:if(s=e.sent,!(c=s.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Le.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function Be(e,t,n,r,i){return ze.apply(this,arguments)}function ze(){return(ze=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i,a){var o,u,c,f,h,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Fe(r);case 7:c=e.sent,f=Object(s.a)(u),e.prev=9,d=function(){var e=h.value,t=c.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},f.s();case 12:if((h=f.n()).done){e.next=18;break}if("break"!==d()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),f.e(e.t0);case 23:return e.prev=23,f.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Le.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})))).apply(this,arguments)}function We(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Object(f.a)(Object(l.a)().mark((function i(a,o,u){return Object(l.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Be(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Ve(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Le.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function He(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Me))return r}return null}var Ke=(Se={},Object(c.a)(Se,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Object(c.a)(Se,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Object(c.a)(Se,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Object(c.a)(Se,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Object(c.a)(Se,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(c.a)(Se,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(c.a)(Se,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Object(c.a)(Se,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Object(c.a)(Se,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Object(c.a)(Se,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Se),Ge=new p.b("analytics","Analytics",Ke),$e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(a.a)(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Object(o.a)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Qe=new $e;function Ye(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Xe(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Ye(i)},o=De.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Ge.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Ze(e){return et.apply(this,arguments)}function et(){return et=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,u,s,c,h=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:Qe,r=h.length>2?h[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw Ge.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw Ge.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ut,setTimeout(Object(f.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Re),e.abrupt("return",tt({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e,t,n){return nt.apply(this,arguments)}function nt(){return nt=Object(f.a)(Object(l.a)().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,v,m,b=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=b.length>3&&void 0!==b[3]?b[3]:Qe,c=t.appId,f=t.measurementId,e.prev=3,e.next=6,rt(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!f){e.next=13;break}return Le.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(f)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:f});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Xe(t);case 17:return h=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",h);case 22:if(e.prev=22,e.t1=e.catch(14),it(d=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!f){e.next=32;break}return Le.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(f)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===d||void 0===d?void 0:d.message,"]")),e.abrupt("return",{appId:c,measurementId:f});case 32:throw e.t1;case 33:return v=503===Number(null===(s=null===d||void 0===d?void 0:d.customData)||void 0===s?void 0:s.httpStatus)?Object(p.l)(a,o.intervalMillis,30):Object(p.l)(a,o.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:a+1},o.setThrottleMetadata(c,m),Le.debug("Calling attemptFetch again in ".concat(v," millis")),e.abrupt("return",tt(t,m,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),nt.apply(this,arguments)}function rt(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Ge.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function it(e){if(!(e instanceof p.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var at,ot,ut=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function st(){return(st=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i,a){var o,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return(ct=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return(lt=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return(ft=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i){var a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,u=Object.keys(r);o<u.length;o++)s=u[o],a["user_properties.".concat(s)]=r[s];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){ot=e}function pt(e){at=e}function vt(){return mt.apply(this,arguments)}function mt(){return(mt=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.C)()){e.next=5;break}return Le.warn(Ge.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Object(p.W)();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Le.warn(Ge.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function bt(){return(bt=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i,a,o,s){var c,f,h,d,p,v,m,b;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(f=Ze(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Le.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Le.error(e)})),n.push(f),h=vt().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([f,h]);case 6:return d=e.sent,p=Object(u.a)(d,2),v=p[0],m=p[1],He()||Ue(o,v.measurementId),ot&&(a("consent","default",ot),dt(void 0)),a("js",new Date),(b=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{}).origin="firebase",b.update=!0,null!=m&&(b.firebase_id=m),a("config",v.measurementId,b),at&&(a("set",at),pt(void 0)),e.abrupt("return",v.measurementId);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt,yt,Ot=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"_delete",value:function(){return delete kt[this.app.options.appId],Promise.resolve()}}]),e}(),kt={},wt=[],jt={},_t="dataLayer",xt="gtag",Et=!1;function Ct(e){if(Et)throw Ge.create("already-initialized");e.dataLayerName&&(_t=e.dataLayerName),e.gtagName&&(xt=e.gtagName)}function Tt(e,t,n){!function(){var e=[];if(Object(p.z)()&&e.push("This is a browser extension environment."),Object(p.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Ge.create("invalid-analytics-context",{errorInfo:t});Le.warn(n.message)}}();var r=e.options.appId;if(!r)throw Ge.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ge.create("no-api-key");Le.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=kt[r])throw Ge.create("already-exists",{id:r});if(!Et){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(_t);var i=We(kt,wt,jt,_t,xt),a=i.wrappedGtag,o=i.gtagCore;yt=a,gt=o,Et=!0}return kt[r]=function(e,t,n,r,i,a,o){return bt.apply(this,arguments)}(e,wt,jt,t,gt,_t,n),new Ot(e)}function St(){return It.apply(this,arguments)}function It(){return(It=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.z)()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Object(p.e)()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Object(p.C)()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Object(p.W)();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function Nt(e,t,n){e=Object(p.v)(e),function(e,t,n,r){return ct.apply(this,arguments)}(yt,kt[e.app.options.appId],t,n).catch((function(e){return Le.error(e)}))}function Pt(e,t,n){e=Object(p.v)(e),function(e,t,n,r){return lt.apply(this,arguments)}(yt,kt[e.app.options.appId],t,n).catch((function(e){return Le.error(e)}))}function At(e,t,n){e=Object(p.v)(e),function(e,t,n,r){return ft.apply(this,arguments)}(yt,kt[e.app.options.appId],t,n).catch((function(e){return Le.error(e)}))}function Rt(e,t){e=Object(p.v)(e),function(e,t){return ht.apply(this,arguments)}(kt[e.app.options.appId],t).catch((function(e){return Le.error(e)}))}function Dt(e,t,n,r){e=Object(p.v)(e),function(e,t,n,r,i){return st.apply(this,arguments)}(yt,kt[e.app.options.appId],t,n,r).catch((function(e){return Le.error(e)}))}var Mt="@firebase/analytics",Lt="0.8.0";Object(h._registerComponent)(new v.a(Ae,(function(e,t){var n=t.options;return Tt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Object(h._registerComponent)(new v.a("analytics-internal",(function(e){try{var t=e.getProvider(Ae).getImmediate();return{logEvent:function(e,n,r){return Dt(t,e,n,r)}}}catch(n){throw Ge.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Object(h.registerVersion)(Mt,Lt),Object(h.registerVersion)(Mt,Lt,"esm2017");var Ft,Ut=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"logEvent",value:function(e,t,n){Dt(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Nt(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){Pt(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){At(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Rt(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Ft||(Ft={}));var Vt,qt=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Ut(t,n)};!function(){var e={Analytics:Ut,settings:Ct,isSupported:St,EventName:Ft};i.a.INTERNAL.registerComponent(new v.a("analytics-compat",qt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/analytics-compat","0.1.13");var Bt=new Map,zt={activated:!1,tokenObservers:[]},Wt={initialized:!1,enabled:!1};function Ht(e){return Bt.get(e)||zt}function Kt(e,t){Bt.set(e,t)}function Gt(){return Wt}var $t="https://content-firebaseappcheck.googleapis.com/v1",Qt=3e4,Yt=96e4,Xt=function(){function e(t,n,r,i,o){if(Object(a.a)(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Object(o.a)(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new p.a,e.next=5,Jt(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new p.a,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function Jt(e){return new Promise((function(t){setTimeout(t,e)}))}var Zt=(Vt={},Object(c.a)(Vt,"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),Object(c.a)(Vt,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),Object(c.a)(Vt,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(c.a)(Vt,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(c.a)(Vt,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(c.a)(Vt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(c.a)(Vt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Vt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(c.a)(Vt,"recaptcha-error","ReCAPTCHA error."),Object(c.a)(Vt,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),Vt),en=new p.b("appCheck","AppCheck",Zt);function tn(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function nn(e){if(!Ht(e).activated)throw en.create("use-before-activation",{appName:e.name})}function rn(e){var t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),a=t-3600*n*24-3600*r-60*i,o="";return n&&(o+=an(n)+"d:"),r&&(o+=an(r)+"h:"),o+=an(i)+"m:"+an(a)+"s"}function an(e){return 0===e?"00":e>=10?e.toString():"0"+e}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c,f,h,d,p,v,m;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.body,u={"Content-Type":"application/json"},!(s=n.getImmediate({optional:!0}))){e.next=8;break}return e.next=6,s.getHeartbeatsHeader();case 6:(c=e.sent)&&(u["X-Firebase-Client"]=c);case 8:return f={method:"POST",body:JSON.stringify(i),headers:u},e.prev=9,e.next=12,fetch(r,f);case 12:h=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),en.create("fetch-network-error",{originalErrorMessage:null===(a=e.t0)||void 0===a?void 0:a.message});case 18:if(200===h.status){e.next=20;break}throw en.create("fetch-status-error",{httpStatus:h.status});case 20:return e.prev=20,e.next=23,h.json();case 23:d=e.sent,e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(20),en.create("fetch-parse-error",{originalErrorMessage:null===(o=e.t1)||void 0===o?void 0:o.message});case 29:if((p=d.ttl.match(/^([\d.]+)(s)$/))&&p[2]&&!isNaN(Number(p[1]))){e.next=32;break}throw en.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(d.ttl)});case 32:return v=1e3*Number(p[1]),m=Date.now(),e.abrupt("return",{token:d.token,expireTimeMillis:m+v,issuedAtTimeMillis:m});case 35:case"end":return e.stop()}}),e,null,[[9,15],[20,26]])})))).apply(this,arguments)}function sn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat($t,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaV3Token","?key=").concat(a),body:{recaptcha_v3_token:t}}}function cn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat($t,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(a),body:{recaptcha_enterprise_token:t}}}function ln(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat($t,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:t}}}var fn="firebase-app-check-store",hn="debug-token",dn=null;function pn(){return dn||(dn=new Promise((function(e,t){var n;try{var r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var n;t(en.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(fn,{keyPath:"compositeKey"})}}catch(i){t(en.create("storage-open",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message}))}})))}function vn(e){return On(wn(e))}function mn(e){return gn(hn,e)}function bn(){return On(hn)}function gn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:return r=e.sent,i=r.transaction(fn,"readwrite"),a=i.objectStore(fn),o=a.put({compositeKey:t,value:n}),e.abrupt("return",new Promise((function(e,t){o.onsuccess=function(t){e()},i.onerror=function(e){var n;t(en.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:return n=e.sent,r=n.transaction(fn,"readonly"),i=r.objectStore(fn),a=i.get(t),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},r.onerror=function(e){var n;t(en.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e){return"".concat(e.options.appId,"-").concat(e.name)}var jn=new d.b("@firebase/app-check");function _n(){return(_n=Object(f.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.C)()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,vn(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),jn.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function xn(e,t){return Object(p.C)()?function(e,t){return gn(wn(e),t)}(e,t).catch((function(e){jn.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function En(){return(En=Object(f.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,bn();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return mn(n=Object(p.S)()).catch((function(e){return jn.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",n);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function Cn(){return Gt().enabled}function Tn(){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Gt()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(){var e=Object(p.u)(),t=Gt();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var n=new p.a;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return En.apply(this,arguments)}())}}var Nn={error:"UNKNOWN_ERROR"};function Pn(e){return An.apply(this,arguments)}function An(){return An=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,u,s,c,f,h=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]&&h[1],nn(r=t.app),i=Ht(r),a=i.token,o=void 0,a){e.next=11;break}return e.next=9,i.cachedTokenPromise;case 9:(u=e.sent)&&Fn(u)&&(a=u);case 11:if(n||!a||!Fn(a)){e.next=13;break}return e.abrupt("return",{token:a.token});case 13:if(s=!1,!Cn()){e.next=33;break}if(i.exchangeTokenPromise){e.next=26;break}return e.t0=on,e.t1=ln,e.t2=r,e.next=21,Tn();case 21:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.heartbeatServiceProvider,i.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).then((function(e){return i.exchangeTokenPromise=void 0,e})),s=!0;case 26:return e.next=28,i.exchangeTokenPromise;case 28:return c=e.sent,e.next=31,xn(r,c);case 31:return Kt(r,Object.assign(Object.assign({},i),{token:c})),e.abrupt("return",{token:c.token});case 33:return e.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then((function(e){return i.exchangeTokenPromise=void 0,e})),s=!0),e.next=37,i.exchangeTokenPromise;case 37:a=e.sent,e.next=44;break;case 40:e.prev=40,e.t6=e.catch(33),e.t6.code==="appCheck/".concat("throttled")?jn.warn(e.t6.message):jn.error(e.t6),o=e.t6;case 44:if(a){e.next=48;break}f=Un(o),e.next=52;break;case 48:return f={token:a.token},Kt(r,Object.assign(Object.assign({},i),{token:a})),e.next=52,xn(r,a);case 52:return s&&Ln(r,f),e.abrupt("return",f);case 54:case"end":return e.stop()}}),e,null,[[33,40]])}))),An.apply(this,arguments)}function Rn(e,t,n,r){var i=e.app,a=Ht(i),o={next:n,error:r,type:t};if(Kt(i,Object.assign(Object.assign({},a),{tokenObservers:[].concat(Object(m.a)(a.tokenObservers),[o])})),a.token&&Fn(a.token)){var u=a.token;Promise.resolve().then((function(){n({token:u.token}),Mn(e)})).catch((function(){}))}a.cachedTokenPromise.then((function(){return Mn(e)}))}function Dn(e,t){var n=Ht(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Kt(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Mn(e){var t=e.app,n=Ht(t),r=n.tokenRefresher;r||(r=function(e){var t=e.app;return new Xt(Object(f.a)(Object(l.a)().mark((function n(){var r;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ht(t).token){n.next=7;break}return n.next=4,Pn(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,Pn(e,!0);case 9:r=n.sent;case 10:if(!r.error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}}),n)}))),(function(){return!0}),(function(){var e=Ht(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),Qt,Yt)}(e),Kt(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ln(e,t){var n,r=Ht(e).tokenObservers,i=Object(s.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{"EXTERNAL"===a.type&&null!=t.error?a.error(t.error):a.next(t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}function Fn(e){return e.expireTimeMillis-Date.now()>0}function Un(e){return{token:(t=Nn,p.h.encodeString(JSON.stringify(t),!1)),error:e};var t}var Vn=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.heartbeatServiceProvider=n}return Object(o.a)(e,[{key:"_delete",value:function(){var e,t=Ht(this.app).tokenObservers,n=Object(s.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;Dn(this.app,r.next)}}catch(i){n.e(i)}finally{n.f()}return Promise.resolve()}}]),e}();var qn="https://www.google.com/recaptcha/api.js",Bn="https://www.google.com/recaptcha/enterprise.js";function zn(e,t){var n=Ht(e),r=new p.a;Kt(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=Kn(e),a=tn(!1);return a?Hn(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=qn,t.onload=e,document.head.appendChild(t)}((function(){var n=tn(!1);if(!n)throw new Error("no recaptcha");Hn(e,t,n,i,r)})),r.promise}function Wn(e,t){var n=Ht(e),r=new p.a;Kt(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=Kn(e),a=tn(!0);return a?Hn(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=Bn,t.onload=e,document.head.appendChild(t)}((function(){var n=tn(!0);if(!n)throw new Error("no recaptcha");Hn(e,t,n,i,r)})),r.promise}function Hn(e,t,n,r,i){n.ready((function(){!function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=Ht(e);Kt(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:i})}))}(e,t,n,r),i.resolve(n)}))}function Kn(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function Gn(e){return $n.apply(this,arguments)}function $n(){return($n=Object(f.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nn(t),n=Ht(t).reCAPTCHAState,e.next=4,n.initialized.promise;case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,n){var i=Ht(t).reCAPTCHAState;r.ready((function(){e(r.execute(i.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qn=function(){function e(t){Object(a.a)(this,e),this._siteKey=t,this._throttleData=null}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn(this._throttleData),e.next=3,Gn(this._app).catch((function(e){throw en.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,on(sn(this._app,r),this._heartbeatServiceProvider);case 7:i=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(null===(t=e.t0.code)||void 0===t?void 0:t.includes("fetch-status-error"))){e.next=17;break}throw this._throttleData=Jn(Number(null===(n=e.t0.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),en.create("throttled",{time:rn(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Object(h._getProvider)(e,"heartbeat"),zn(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Yn=function(){function e(t){Object(a.a)(this,e),this._siteKey=t,this._throttleData=null}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn(this._throttleData),e.next=3,Gn(this._app).catch((function(e){throw en.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,on(cn(this._app,r),this._heartbeatServiceProvider);case 7:i=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(null===(t=e.t0.code)||void 0===t?void 0:t.includes("fetch-status-error"))){e.next=17;break}throw this._throttleData=Jn(Number(null===(n=e.t0.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),en.create("throttled",{time:rn(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Object(h._getProvider)(e,"heartbeat"),Wn(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Xn=function(){function e(t){Object(a.a)(this,e),this._customProviderOptions=t}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,n=Object(p.J)(t.token),r=null!==n&&n<Date.now()&&n>0?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:r}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function Jn(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var n=t?t.backoffCount:0,r=Object(p.l)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}function Zn(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw en.create("throttled",{time:rn(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function er(e,t,n){var r=Ht(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return _n.apply(this,arguments)}(e).then((function(t){return t&&Fn(t)&&(Kt(e,Object.assign(Object.assign({},Ht(e)),{token:t})),Ln(e,{token:t.token})),t})),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,Kt(e,i),i.provider.initialize(e)}function tr(){return(tr=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(t,n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",{token:r.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nr="app-check-internal";Object(h._registerComponent)(new v.a("app-check",(function(e){return function(e,t){return new Vn(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(nr).initialize()}))),Object(h._registerComponent)(new v.a(nr,(function(e){return function(e){return{getToken:function(t){return Pn(e,t)},addTokenListener:function(t){return Rn(e,"INTERNAL",t)},removeTokenListener:function(t){return Dn(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),Object(h.registerVersion)("@firebase/app-check","0.5.12");var rr=Object(c.a)({},"use-before-activation","App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."),ir=new p.b("appCheck","AppCheck",rr),ar=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"activate",value:function(e,t){var n;n="string"===typeof e?new Qn(e):e instanceof Yn||e instanceof Qn||e instanceof Xn?e:new Xn({getToken:e.getToken}),this._delegate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(h.getApp)(),t=arguments.length>1?arguments[1]:void 0;e=Object(p.v)(e);var n=Object(h._getProvider)(e,"app-check");if(Gt().initialized||In(),Cn()&&Tn().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw en.create("already-initialized",{appName:e.name})}var a=n.initialize({options:t});return er(e,t.provider,t.isTokenAutoRefreshEnabled),Ht(e).isTokenAutoRefreshEnabled&&Rn(a,"INTERNAL",(function(){})),a}(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw ir.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=e.app,r=Ht(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),Kt(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw ir.create("use-before-activation",{appName:this.app.name});return function(e,t){return tr.apply(this,arguments)}(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw ir.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){var i=function(){},a=function(){};return i=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):n&&(a=n),Rn(e,"EXTERNAL",i,a),function(){return Dn(e.app,i)}}(this._delegate,e,t)}}]),e}(),or=function(e){var t=e.getProvider("app-compat").getImmediate();return new ar(t)};i.a.INTERNAL.registerComponent(new v.a("appCheck-compat",or,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:Yn,ReCaptchaV3Provider:Qn,CustomProvider:Xn})),i.a.registerVersion("@firebase/app-check-compat","0.2.12");n(182);var ur=n(12),sr=n(13),cr=n(19),lr=new d.b("@firebase/database-compat"),fr=function(e){var t="FIREBASE WARNING: "+e;lr.warn(t)},hr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(p.s)(e,t)+"must be a boolean.")},dr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(p.s)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"cancel",value:function(e){Object(p.T)("OnDisconnect.cancel",0,1,arguments.length),Object(p.U)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Object(p.T)("OnDisconnect.remove",0,1,arguments.length),Object(p.U)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Object(p.T)("OnDisconnect.set",1,2,arguments.length),Object(p.U)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Object(p.T)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(p.U)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Object(p.T)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,fr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(p.U)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),vr=function(){function e(t,n){Object(a.a)(this,e),this.committed=t,this.snapshot=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return Object(p.T)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),mr=function(){function e(t,n){Object(a.a)(this,e),this._database=t,this._delegate=n}return Object(o.a)(e,[{key:"val",value:function(){return Object(p.T)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Object(p.T)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Object(p.T)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Object(p.T)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Object(p.T)("DataSnapshot.child",0,1,arguments.length),t=String(t),Object(cr.g)("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Object(p.T)("DataSnapshot.hasChild",1,1,arguments.length),Object(cr.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Object(p.T)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Object(p.T)("DataSnapshot.forEach",1,1,arguments.length),Object(p.U)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Object(p.T)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Object(p.T)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Object(p.T)("DataSnapshot.ref",0,0,arguments.length),new gr(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),br=function(){function e(t,n){Object(a.a)(this,e),this.database=t,this._delegate=n}return Object(o.a)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Object(p.T)("Query.on",2,4,arguments.length),Object(p.U)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new mr(o.database,e),t)};s.userCallback=n,s.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Object(cr.B)(this._delegate,s,c),n;case"child_added":return Object(cr.x)(this._delegate,s,c),n;case"child_removed":return Object(cr.A)(this._delegate,s,c),n;case"child_changed":return Object(cr.y)(this._delegate,s,c),n;case"child_moved":return Object(cr.z)(this._delegate,s,c),n;default:throw new Error(Object(p.s)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Object(p.T)("Query.off",0,3,arguments.length),dr("Query.off",e,!0),Object(p.U)("Query.off","callback",t,!0),Object(p.V)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Object(cr.w)(this._delegate,e,r)}else Object(cr.w)(this._delegate,e)}},{key:"get",value:function(){var e=this;return Object(cr.q)(this._delegate).then((function(t){return new mr(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Object(p.T)("Query.once",1,4,arguments.length),Object(p.U)("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new p.a,s=function(e,t){var r=new mr(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":Object(cr.B)(this._delegate,s,c,{onlyOnce:!0});break;case"child_added":Object(cr.x)(this._delegate,s,c,{onlyOnce:!0});break;case"child_removed":Object(cr.A)(this._delegate,s,c,{onlyOnce:!0});break;case"child_changed":Object(cr.y)(this._delegate,s,c,{onlyOnce:!0});break;case"child_moved":Object(cr.z)(this._delegate,s,c,{onlyOnce:!0});break;default:throw new Error(Object(p.s)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return Object(p.T)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.u)(t)))}},{key:"limitToLast",value:function(t){return Object(p.T)("Query.limitToLast",1,1,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.v)(t)))}},{key:"orderByChild",value:function(t){return Object(p.T)("Query.orderByChild",1,1,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.C)(t)))}},{key:"orderByKey",value:function(){return Object(p.T)("Query.orderByKey",0,0,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.D)()))}},{key:"orderByPriority",value:function(){return Object(p.T)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.E)()))}},{key:"orderByValue",value:function(){return Object(p.T)("Query.orderByValue",0,0,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.F)()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(p.T)("Query.startAt",0,2,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.R)(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(p.T)("Query.startAfter",0,2,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.Q)(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(p.T)("Query.endAt",0,2,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.l)(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(p.T)("Query.endBefore",0,2,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.m)(t,n)))}},{key:"equalTo",value:function(t,n){return Object(p.T)("Query.equalTo",1,2,arguments.length),new e(this.database,Object(cr.H)(this._delegate,Object(cr.n)(t,n)))}},{key:"toString",value:function(){return Object(p.T)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Object(p.T)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Object(p.T)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new gr(this.database,new cr.d(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(p.U)(e,"cancel",r.cancel,!0),r.context=n,Object(p.V)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(p.s)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),gr=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,new cr.b(r._repo,r._path,new cr.c,!1))).database=e,i._delegate=r,i}return Object(o.a)(n,[{key:"getKey",value:function(){return Object(p.T)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Object(p.T)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Object(cr.i)(this._delegate,e))}},{key:"getParent",value:function(){Object(p.T)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Object(p.T)("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Object(p.T)("Reference.set",1,2,arguments.length),Object(p.U)("Reference.set","onComplete",t,!0);var n=Object(cr.N)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Object(p.T)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,fr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(cr.h)("Reference.update",this._delegate._path),Object(p.U)("Reference.update","onComplete",t,!0);var i=Object(cr.S)(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Object(p.T)("Reference.setWithPriority",2,3,arguments.length),Object(p.U)("Reference.setWithPriority","onComplete",n,!0);var r=Object(cr.P)(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Object(p.T)("Reference.remove",0,1,arguments.length),Object(p.U)("Reference.remove","onComplete",e,!0);var t=Object(cr.K)(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Object(p.T)("Reference.transaction",1,3,arguments.length),Object(p.U)("Reference.transaction","transactionUpdate",e,!1),Object(p.U)("Reference.transaction","onComplete",t,!0),hr("Reference.transaction","applyLocally",n,!0);var i=Object(cr.L)(this._delegate,e,{applyLocally:n}).then((function(e){return new vr(e.committed,new mr(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Object(p.T)("Reference.setPriority",1,2,arguments.length),Object(p.U)("Reference.setPriority","onComplete",t,!0);var n=Object(cr.O)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Object(p.T)("Reference.push",0,2,arguments.length),Object(p.U)("Reference.push","onComplete",t,!0);var i=Object(cr.G)(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Object(cr.h)("Reference.onDisconnect",this._delegate._path),new pr(new cr.a(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(br),yr=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:cr.p,forceLongPolling:cr.o}}return Object(o.a)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(cr.j)(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Object(p.T)("database.ref",0,1,arguments.length),e instanceof gr){var t=Object(cr.J)(this._delegate,e.toString());return new gr(this,t)}var n=Object(cr.I)(this._delegate,e);return new gr(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Object(p.T)(t,1,1,arguments.length);var n=Object(cr.J)(this._delegate,e);return new gr(this,n)}},{key:"goOffline",value:function(){return Object(p.T)("database.goOffline",0,0,arguments.length),Object(cr.r)(this._delegate)}},{key:"goOnline",value:function(){return Object(p.T)("database.goOnline",0,0,arguments.length),Object(cr.s)(this._delegate)}}]),e}();yr.ServerValue={TIMESTAMP:Object(cr.M)(),increment:function(e){return Object(cr.t)(e)}};var Or,kr=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;Object(cr.f)(r);var s=new v.c("auth-internal",new v.b("database-standalone"));return s.setComponent(new v.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new yr(Object(cr.e)(t,s,void 0,n,u),t),namespace:a}}}),wr=yr.ServerValue;(Or=i.a).INTERNAL.registerComponent(new v.a("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new yr(i,r)}),"PUBLIC").setServiceProps({Reference:gr,Query:br,Database:yr,DataSnapshot:mr,enableLogging:cr.k,INTERNAL:kr,ServerValue:wr}).setMultipleInstances(!0)),Or.registerVersion("@firebase/database-compat","0.2.6");var jr=n(83),_r=n(18);function xr(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _r.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Er(){if("undefined"===typeof Uint8Array)throw new _r.g("unimplemented","Uint8Arrays are not available in this environment.")}function Cr(){if(!Object(_r.r)())throw new _r.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Tr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"toBase64",value:function(){return Cr(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Er(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Cr(),new e(_r.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Er(),new e(_r.b.fromUint8Array(t))}}]),e}();function Sr(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(s.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Ir=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(_r.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(_r.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(_r.x)(e._delegate)}}]),e}(),Nr=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof _r.m||(this._appCompat=t)}return Object(o.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(_r.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(_r.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(_r.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(_r.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(_r.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(_r.mb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(_r.Z)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new _r.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Hr(this,Object(_r.y)(this._delegate,e))}catch(t){throw Lr(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Mr(this,Object(_r.E)(this._delegate,e))}catch(t){throw Lr(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Br(this,Object(_r.z)(this._delegate,e))}catch(t){throw Lr(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(_r.eb)(this._delegate,(function(n){return e(new Ar(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(_r.K)(this._delegate),new Rr(new _r.l(this._delegate,(function(t){return Object(_r.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(_r.W)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(_r.X)(this._delegate,e).then((function(e){return e?new Br(t,e):null}))}}]),e}(),Pr=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(o.a)(n,[{key:"convertBytes",value:function(e){return new Tr(new _r.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Mr.forKey(t,this.firestore,null)}}]),n}(_r.a);var Ar=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Pr(t)}return Object(o.a)(e,[{key:"get",value:function(e){var t=this,n=Kr(e);return this._delegate.get(n).then((function(e){return new Vr(t._firestore,new _r.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Kr(e);return n?(xr("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Kr(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Kr(e);return this._delegate.delete(t),this}}]),e}(),Rr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"set",value:function(e,t,n){var r=Kr(e);return n?(xr("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Kr(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Kr(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Dr=function(){function e(t,n,r){Object(a.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(o.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new _r.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qr(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Pr(t),n),i.set(n,a)),a}}]),e}();Dr.INSTANCES=new WeakMap;var Mr=function(){function e(t,n){Object(a.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Pr(t)}return Object(o.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Hr(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Hr(this.firestore,Object(_r.y)(this._delegate,e))}catch(t){throw Lr(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(p.v)(e))instanceof _r.d&&Object(_r.db)(this._delegate,e)}},{key:"set",value:function(e,t){t=xr("DocumentReference.set",t);try{return t?Object(_r.gb)(this._delegate,e,t):Object(_r.gb)(this._delegate,e)}catch(n){throw Lr(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(_r.lb)(this._delegate,e):_r.lb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Lr(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(_r.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Fr(n),a=Ur(n,(function(t){return new Vr(e.firestore,new _r.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(_r.Y)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(_r.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(_r.O)(this._delegate):Object(_r.M)(this._delegate)).then((function(e){return new Vr(t.firestore,new _r.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Dr.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new _r.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new _r.d(n._delegate,r,new _r.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new _r.d(n._delegate,r,t))}}]),e}();function Lr(e,t,n){return e.message=e.message.replace(t,n),e}function Fr(e){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Sr(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Ur(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Sr(e[0])?e[0]:Sr(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Vr=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"ref",get:function(){return new Mr(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(_r.ib)(this._delegate,e._delegate)}}]),e}(),qr=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(_r.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(Vr),Br=function(){function e(t,n){Object(a.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Pr(t)}return Object(o.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(_r.bb)(this._delegate,Object(_r.nb)(t,n,r)))}catch(i){throw Lr(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(_r.bb)(this._delegate,Object(_r.ab)(t,n)))}catch(r){throw Lr(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(_r.bb)(this._delegate,Object(_r.U)(t)))}catch(n){throw Lr(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(_r.bb)(this._delegate,Object(_r.V)(t)))}catch(n){throw Lr(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(_r.bb)(this._delegate,_r.kb.apply(void 0,arguments)))}catch(t){throw Lr(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(_r.bb)(this._delegate,_r.jb.apply(void 0,arguments)))}catch(t){throw Lr(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(_r.bb)(this._delegate,_r.J.apply(void 0,arguments)))}catch(t){throw Lr(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(_r.bb)(this._delegate,_r.I.apply(void 0,arguments)))}catch(t){throw Lr(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(_r.cb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(_r.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(_r.R)(this._delegate):Object(_r.P)(this._delegate)).then((function(e){return new Wr(t.firestore,new _r.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Fr(n),a=Ur(n,(function(t){return new Wr(e.firestore,new _r.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(_r.Y)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Dr.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zr=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new qr(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Wr=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"query",get:function(){return new Br(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new qr(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zr(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new qr(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(_r.ib)(this._delegate,e._delegate)}}]),e}(),Hr=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(o.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Mr(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Mr(this.firestore,void 0===e?Object(_r.E)(this._delegate):Object(_r.E)(this._delegate,e))}catch(t){throw Lr(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(_r.u)(this._delegate,e).then((function(e){return new Mr(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(_r.db)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Dr.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Br);function Kr(e){return Object(_r.p)(e,_r.d)}var Gr=function(){function e(){Object(a.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Object(jr.a)(_r.f,n)}return Object(o.a)(e,[{key:"isEqual",value:function(e){return(e=Object(p.v)(e))instanceof _r.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(_r.o.keyField().canonicalString())}}]),e}(),$r=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(_r.fb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(_r.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=_r.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_r.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(_r.T)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Qr={Firestore:Nr,GeoPoint:_r.h,Timestamp:_r.k,Blob:Tr,Transaction:Ar,WriteBatch:Rr,DocumentReference:Mr,DocumentSnapshot:Vr,Query:Br,QueryDocumentSnapshot:qr,QuerySnapshot:Wr,CollectionReference:Hr,FieldPath:Gr,FieldValue:$r,setLogLevel:function(e){Object(_r.hb)(e)},CACHE_SIZE_UNLIMITED:_r.c};!function(e){var t;t=function(e,t){return new Nr(e,t,new Ir)},e.INTERNAL.registerComponent(new v.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Qr))),e.registerVersion("@firebase/firestore-compat","0.1.25")}(i.a);function Yr(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Xr(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return Xr(e)}));if("function"===typeof e||"object"===typeof e)return Yr(e,(function(e){return Xr(e)}));throw new Error("Data cannot be encoded in JSON: "+e)}function Jr(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return Jr(e)})):"function"===typeof e||"object"===typeof e?Yr(e,(function(e){return Jr(e)})):e}var Zr="functions",ei={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ti=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,"".concat(Zr,"/").concat(e),r||"")).details=i,o}return Object(o.a)(n)}(p.c);function ni(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var a=t&&t.error;if(a){var o=a.status;if("string"===typeof o){if(!ei[o])return new ti("internal","internal");n=ei[o],r=o}var u=a.message;"string"===typeof u&&(r=u),void 0!==(i=a.details)&&(i=Jr(i))}}catch(s){}return"ok"===n?null:new ti(n,r,i)}var ri=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return Object(o.a)(e,[{key:"getAuthToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ii="us-central1";function ai(e){var t=null;return{promise:new Promise((function(n,r){t=setTimeout((function(){r(new ti("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:function(){t&&clearTimeout(t)}}}var oi=function(){function e(t,n,r,i){var o=this,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ii,s=arguments.length>5?arguments[5]:void 0;Object(a.a)(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new ri(n,r,i),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return Promise.resolve(e())}}));try{var c=new URL(u);this.customDomain=c.origin,this.region=ii}catch(l){this.customDomain=null,this.region=u}}return Object(o.a)(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();function ui(e,t,n){return function(r){return function(e,t,n,r){var i=e._url(t);return li(e,i,n,r)}(e,t,r,n||{})}}function si(e,t,n,r){return ci.apply(this,arguments)}function ci(){return(ci=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i){var a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r["Content-Type"]="application/json",e.prev=1,e.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:a=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return o=null,e.prev=11,e.next=14,a.json();case 14:o=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:a.status,json:o});case 20:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})))).apply(this,arguments)}function li(e,t,n,r){return fi.apply(this,arguments)}function fi(){return(fi=Object(f.a)(Object(l.a)().mark((function e(t,n,r,i){var a,o,u,s,c,f,h,d,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xr(r),a={data:r},o={},e.next=5,t.contextProvider.getContext();case 5:return(u=e.sent).authToken&&(o.Authorization="Bearer "+u.authToken),u.messagingToken&&(o["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(o["X-Firebase-AppCheck"]=u.appCheckToken),s=i.timeout||7e4,c=ai(s),e.next=13,Promise.race([si(n,a,o,t.fetchImpl),c.promise,t.cancelAllRequests]);case 13:if(f=e.sent,c.cancel(),f){e.next=17;break}throw new ti("cancelled","Firebase Functions instance was deleted.");case 17:if(!(h=ni(f.status,f.json))){e.next=20;break}throw h;case 20:if(f.json){e.next=22;break}throw new ti("internal","Response is not valid JSON object.");case 22:if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"!==typeof d){e.next=26;break}throw new ti("internal","Response is missing data field.");case 26:return p=Jr(d),e.abrupt("return",{data:p});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hi,di,pi="@firebase/functions",vi="0.8.4";function mi(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(Object(p.v)(e),t,n)}function bi(e,t,n){return function(e,t,n){return function(r){return li(e,t,r,n||{})}}(Object(p.v)(e),t,n)}hi=fetch.bind(self),Object(h._registerComponent)(new v.a(Zr,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new oi(r,i,a,o,n,hi)}),"PUBLIC").setMultipleInstances(!0)),Object(h.registerVersion)(pi,vi,di),Object(h.registerVersion)(pi,vi,"esm2017");var gi,yi=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}return Object(o.a)(e,[{key:"httpsCallable",value:function(e,t){return function(e,t,n){return ui(Object(p.v)(e),t,n)}(this._delegate,e,t)}},{key:"httpsCallableFromURL",value:function(e,t){return bi(this._delegate,e,t)}},{key:"useFunctionsEmulator",value:function(e){var t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new p.c("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new p.c("functions","Port missing in origin provided to useFunctionsEmulator()");return mi(this._delegate,t[1],Number(t[2]))}},{key:"useEmulator",value:function(e,t){return mi(this._delegate,e,t)}}]),e}(),Oi=function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("functions").getImmediate({identifier:null!==n&&void 0!==n?n:"us-central1"});return new yi(r,i)};!function(){var e={Functions:yi};i.a.INTERNAL.registerComponent(new v.a("functions-compat",Oi,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/functions-compat","0.2.4");var ki,wi,ji="/firebase-messaging-sw.js",_i="/firebase-cloud-messaging-push-scope",xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ei="google.c.a.c_id";function Ci(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(m.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ti(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ki||(ki={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(wi||(wi={}));var Si="fcm_token_details_db",Ii="fcm_token_object_Store";function Ni(e){return Pi.apply(this,arguments)}function Pi(){return Pi=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Si)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Object(b.b)(Si,5,{upgrade:function(){var e=Object(f.a)(Object(l.a)().mark((function e(n,r,a,o){var u,s,c,f,h,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(Ii)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore(Ii),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((f=c).auth&&f.p256dh&&f.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:f.fcmToken,createTime:null!==(u=f.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"===typeof f.vapidKey?f.vapidKey:Ci(f.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ci(h.auth),p256dh:Ci(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ci(h.vapidKey)}}:4===r&&(i={token:(d=c).fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ci(d.auth),p256dh:Ci(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ci(d.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Object(b.a)(Si);case 14:return e.next=16,Object(b.a)("fcm_vapid_details_db");case 16:return e.next=18,Object(b.a)("undefined");case 18:return e.abrupt("return",Ai(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ai(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ri="firebase-messaging-store",Di=null;function Mi(){return Di||(Di=Object(b.b)("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ri)}})),Di}function Li(e){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zi(t),e.next=3,Mi();case 3:return r=e.sent,e.next=6,r.transaction(Ri).objectStore(Ri).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,Ni(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Ui(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,Mi();case 3:return i=e.sent,a=i.transaction(Ri,"readwrite"),e.next=7,a.objectStore(Ri).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(e){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zi(t),e.next=3,Mi();case 3:return r=e.sent,i=r.transaction(Ri,"readwrite"),e.next=7,i.objectStore(Ri).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e){return e.appConfig.appId}var Wi=(gi={},Object(c.a)(gi,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(gi,"only-available-in-window","This method is available in a Window context."),Object(c.a)(gi,"only-available-in-sw","This method is available in a service worker context."),Object(c.a)(gi,"permission-default","The notification permission was not granted and dismissed instead."),Object(c.a)(gi,"permission-blocked","The notification permission was not granted and blocked instead."),Object(c.a)(gi,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(c.a)(gi,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(c.a)(gi,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(c.a)(gi,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(c.a)(gi,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(c.a)(gi,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(c.a)(gi,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(c.a)(gi,"token-update-no-token","FCM returned no token when updating the user to push."),Object(c.a)(gi,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(c.a)(gi,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(c.a)(gi,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(c.a)(gi,"invalid-vapid-key","The public VAPID key must be a string."),Object(c.a)(gi,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),gi),Hi=new p.b("messaging","Messaging",Wi);function Ki(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(t);case 2:return i=e.sent,a=ta(n),o={method:"POST",headers:i,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch(Ji(t.appConfig),o);case 8:return s=e.sent,e.next=11,s.json();case 11:u=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Hi.create("token-subscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!u.error){e.next=20;break}throw c=u.error.message,Hi.create("token-subscribe-failed",{errorInfo:c});case 20:if(u.token){e.next=22;break}throw Hi.create("token-subscribe-no-token");case 22:return e.abrupt("return",u.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function $i(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(t);case 2:return i=e.sent,a=ta(n.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch("".concat(Ji(t.appConfig),"/").concat(n.token),o);case 8:return s=e.sent,e.next=11,s.json();case 11:u=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Hi.create("token-update-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!u.error){e.next=20;break}throw c=u.error.message,Hi.create("token-update-failed",{errorInfo:c});case 20:if(u.token){e.next=22;break}throw Hi.create("token-update-no-token");case 22:return e.abrupt("return",u.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(t);case 2:return i=e.sent,a={method:"DELETE",headers:i},e.prev=4,e.next=7,fetch("".concat(Ji(t.appConfig),"/").concat(n),a);case 7:return o=e.sent,e.next=10,o.json();case 10:if(!(u=e.sent).error){e.next=14;break}throw s=u.error.message,Hi.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Hi.create("token-unsubscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function Ji(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function Zi(e){return ea.apply(this,arguments)}function ea(){return(ea=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==xi&&(a.web.applicationPubKey=i),a}var na=6048e5;function ra(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ci(n.getKey("auth")),p256dh:Ci(n.getKey("p256dh"))},e.next=6,Li(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",ca(t.firebaseDependencies,r));case 11:if(da(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Yi(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",ca(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+na)){e.next=27;break}return e.abrupt("return",ua(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function aa(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(f.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Yi(t.firebaseDependencies,n.token);case 6:return e.next=8,qi(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$i(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Ui(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,aa(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Ui(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ti(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function pa(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function va(e){return"object"===typeof e&&!!e&&Ei in e}function ma(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function ba(e){return Hi.create("missing-app-config-values",{valueName:e})}ma("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ma("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var ga=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw ba("App Configuration Object");if(!e.name)throw ba("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw ba(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function ya(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(f.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(ji,{scope:_i});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Hi.create("failed-service-worker-registration",{browserErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ka(e,t){return wa.apply(this,arguments)}function wa(){return(wa=Object(f.a)(Object(l.a)().mark((function e(t,n){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,ya(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Hi.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){return _a.apply(this,arguments)}function _a(){return(_a=Object(f.a)(Object(l.a)().mark((function e(t,n){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=xi);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(f.a)(Object(l.a)().mark((function e(t,n){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Hi.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Hi.create("permission-blocked");case 7:return e.next=9,ja(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,ka(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",ra(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e,t,n){return Ta.apply(this,arguments)}function Ta(){return(Ta=Object(f.a)(Object(l.a)().mark((function e(t,n,r){var i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sa(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r["google.c.a.c_id"],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sa(e){switch(e){case wi.NOTIFICATION_CLICKED:return"notification_open";case wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ia(){return(Ia=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===wi.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(pa(r)):t.onMessageHandler.next(pa(r))),!va(i=r.data)||"1"!==i["google.c.a.e"]){e.next=8;break}return e.next=8,Ca(t,r.messageType,i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Na,Pa="@firebase/messaging",Aa="0.9.16",Ra=function(e){var t=new ga(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return Ia.apply(this,arguments)}(t,e)})),t},Da=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return xa(t,e)}}};function Ma(){return(Ma=Object(f.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Hi.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,ya(t);case 5:return e.abrupt("return",aa(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(f.a)(Object(l.a)().mark((function e(t,n){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.v)(t),e.abrupt("return",xa(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e){return function(e){return Ma.apply(this,arguments)}(e=Object(p.v)(e))}function Va(e,t){return function(e,t){if(!navigator)throw Hi.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Object(p.v)(e),t)}Object(h._registerComponent)(new v.a("messaging",Ra,"PUBLIC")),Object(h._registerComponent)(new v.a("messaging-internal",Da,"PRIVATE")),Object(h.registerVersion)(Pa,Aa),Object(h.registerVersion)(Pa,Aa,"esm2017");var qa,Ba,za="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wa="FCM_MSG";function Ha(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(m.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ka(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(qa||(qa={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ba||(Ba={}));var Ga="fcm_token_details_db",$a="fcm_token_object_Store";function Qa(e){return Ya.apply(this,arguments)}function Ya(){return Ya=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Ga)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Object(b.b)(Ga,5,{upgrade:function(){var e=Object(f.a)(Object(l.a)().mark((function e(n,r,a,o){var u,s,c,f,h,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains($a)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore($a),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((f=c).auth&&f.p256dh&&f.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:f.fcmToken,createTime:null!==(u=f.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"===typeof f.vapidKey?f.vapidKey:Ha(f.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ha(h.auth),p256dh:Ha(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ha(h.vapidKey)}}:4===r&&(i={token:(d=c).fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ha(d.auth),p256dh:Ha(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ha(d.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Object(b.a)(Ga);case 14:return e.next=16,Object(b.a)("fcm_vapid_details_db");case 16:return e.next=18,Object(b.a)("undefined");case 18:return e.abrupt("return",Xa(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ja="firebase-messaging-store",Za=null;function eo(){return Za||(Za=Object(b.b)("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ja)}})),Za}function to(e){return no.apply(this,arguments)}function no(){return(no=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uo(t),e.next=3,eo();case 3:return r=e.sent,e.next=6,r.transaction(Ja).objectStore(Ja).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,Qa(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,ro(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t),e.next=3,eo();case 3:return i=e.sent,a=i.transaction(Ja,"readwrite"),e.next=7,a.objectStore(Ja).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e){return oo.apply(this,arguments)}function oo(){return(oo=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uo(t),e.next=3,eo();case 3:return r=e.sent,i=r.transaction(Ja,"readwrite"),e.next=7,i.objectStore(Ja).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e){return e.appConfig.appId}var so=(Na={},Object(c.a)(Na,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(Na,"only-available-in-window","This method is available in a Window context."),Object(c.a)(Na,"only-available-in-sw","This method is available in a service worker context."),Object(c.a)(Na,"permission-default","The notification permission was not granted and dismissed instead."),Object(c.a)(Na,"permission-blocked","The notification permission was not granted and blocked instead."),Object(c.a)(Na,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(c.a)(Na,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(c.a)(Na,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(c.a)(Na,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(c.a)(Na,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(c.a)(Na,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(c.a)(Na,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(c.a)(Na,"token-update-no-token","FCM returned no token when updating the user to push."),Object(c.a)(Na,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(c.a)(Na,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(c.a)(Na,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(c.a)(Na,"invalid-vapid-key","The public VAPID key must be a string."),Object(c.a)(Na,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Na),co=new p.b("messaging","Messaging",so);function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(t);case 2:return i=e.sent,a=Oo(n),o={method:"POST",headers:i,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch(bo(t.appConfig),o);case 8:return s=e.sent,e.next=11,s.json();case 11:u=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),co.create("token-subscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!u.error){e.next=20;break}throw c=u.error.message,co.create("token-subscribe-failed",{errorInfo:c});case 20:if(u.token){e.next=22;break}throw co.create("token-subscribe-no-token");case 22:return e.abrupt("return",u.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(t);case 2:return i=e.sent,a=Oo(n.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch("".concat(bo(t.appConfig),"/").concat(n.token),o);case 8:return s=e.sent,e.next=11,s.json();case 11:u=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),co.create("token-update-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!u.error){e.next=20;break}throw c=u.error.message,co.create("token-update-failed",{errorInfo:c});case 20:if(u.token){e.next=22;break}throw co.create("token-update-no-token");case 22:return e.abrupt("return",u.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o,u,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(t);case 2:return i=e.sent,a={method:"DELETE",headers:i},e.prev=4,e.next=7,fetch("".concat(bo(t.appConfig),"/").concat(n),a);case 7:return o=e.sent,e.next=10,o.json();case 10:if(!(u=e.sent).error){e.next=14;break}throw s=u.error.message,co.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),co.create("token-unsubscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function bo(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function go(e){return yo.apply(this,arguments)}function yo(){return(yo=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==za&&(a.web.applicationPubKey=i),a}var ko=6048e5;function wo(e){return jo.apply(this,arguments)}function jo(){return(jo=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ha(n.getKey("auth")),p256dh:Ha(n.getKey("p256dh"))},e.next=6,to(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",To(t.firebaseDependencies,r));case 11:if(Po(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,vo(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",To(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+ko)){e.next=27;break}return e.abrupt("return",Eo(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function _o(e){return xo.apply(this,arguments)}function xo(){return(xo=Object(f.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,vo(t.firebaseDependencies,n.token);case 6:return e.next=8,ao(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(e,t){return Co.apply(this,arguments)}function Co(){return(Co=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ho(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,ro(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,_o(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function To(e,t){return So.apply(this,arguments)}function So(){return(So=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,ro(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t){return No.apply(this,arguments)}function No(){return(No=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ka(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Ao(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function Ro(e){return new Promise((function(t){setTimeout(t,e)}))}function Do(e,t){return Mo.apply(this,arguments)}function Mo(){return(Mo=Object(f.a)(Object(l.a)().mark((function e(t,n){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lo,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),Fo(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=qa.DISPLAY_NOTIFICATION.toString():i.message_type=qa.DATA_MESSAGE.toString(),i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=1..toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Fo(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Uo(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Vo(){return(Vo=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,_o(n);case 4:return e.abrupt("return");case 5:return e.next=7,to(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,_o(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:za,e.next=13,wo(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(){return(qo=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wo(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,Do(n,r);case 6:return e.next=8,Qo();case 8:if(!Go(i=e.sent)){e.next=11;break}return e.abrupt("return",$o(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,Yo(zo(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=Ao(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(){return(Bo=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,u,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r.FCM_MSG){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=Xo(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),u=new URL(self.location.origin),o.host===u.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Ho(o);case 18:if(s=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return s=e.sent,e.next=25,Ro(3e3);case 25:e.next=30;break;case 27:return e.next=29,s.focus();case 29:s=e.sent;case 30:if(s){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Ba.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",s.postMessage(i));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e){var t=Object.assign({},e.notification);return t.data=Object(c.a)({},Wa,e),t}function Wo(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function Ho(e){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo();case 2:n=e.sent,r=Object(s.a)(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}function Go(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function $o(e,t){t.isFirebaseMessaging=!0,t.messageType=Ba.PUSH_RECEIVED;var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function Qo(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Yo(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Xo(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&"google.c.a.c_id"in i?self.location.origin:null)}function Jo(e){return co.create("missing-app-config-values",{valueName:e})}Uo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Zo=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Jo("App Configuration Object");if(!e.name)throw Jo("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Jo(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),eu=function(e){var t=new Zo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return qo.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return Vo.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return Bo.apply(this,arguments)}(e))})),t};function tu(e,t){return function(e,t){if(void 0!==self.document)throw co.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Object(p.v)(e),t)}Object(h._registerComponent)(new v.a("messaging-sw",eu,"PUBLIC"));var nu=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Va(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return tu(this._delegate,e)}}]),e}(),ru=function(e){return self&&"ServiceWorkerGlobalScope"in self?new nu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new nu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},iu={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Object(p.C)()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Object(p.C)()&&Object(p.e)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};i.a.INTERNAL.registerComponent(new v.a("messaging-compat",ru,"PUBLIC").setServiceProps(iu)),i.a.registerVersion("@firebase/messaging-compat","0.1.16");var au=n(41),ou="firebasestorage.googleapis.com",uu=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,su(e),"Firebase Storage: ".concat(r," (").concat(su(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Object(au.a)(i),n.prototype),i}return Object(o.a)(n,[{key:"_codeEquals",value:function(e){return su(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(p.c);function su(e){return"storage/"+e}function cu(){return new uu("unknown","An unknown error occurred, please check the error payload for server response.")}function lu(){return new uu("canceled","User canceled the upload/download.")}function fu(){return new uu("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hu(e){return new uu("invalid-argument",e)}function du(){return new uu("app-deleted","The Firebase app was deleted.")}function pu(e){return new uu("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vu(e,t){return new uu("invalid-format","String does not match format '"+e+"': "+t)}function mu(e){throw new uu("internal-error","Internal error: "+e)}var bu,gu=function(){function e(t,n){Object(a.a)(this,e),this.bucket=t,this.path_=n}return Object(o.a)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new uu("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===ou?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new uu("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),yu=function(){function e(t){Object(a.a)(this,e),this.promise_=Promise.reject(t)}return Object(o.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Ou(e){return"string"===typeof e||e instanceof String}function ku(e){return wu()&&e instanceof Blob}function wu(){return"undefined"!==typeof Blob}function ju(e,t,n,r){if(r<t)throw hu("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw hu("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function _u(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function xu(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(bu||(bu={}));var Eu=function(){function e(t,n,r,i,o,u,s,c,l,f,h){var d=this;Object(a.a)(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return Object(o.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());void 0!==o?r(o):r()}catch(s){i(s)}else if(null!==a){var u=cu();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?du():lu());else i(new uu("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Cu(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Cu(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===bu.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Cu(o,r))}else{var u=r.getErrorCode()===bu.ABORT;t(!1,new Cu(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Cu=Object(o.a)((function e(t,n,r){Object(a.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Tu(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Su(){for(var e=Tu(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(wu())return new Blob(n);throw new uu("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Iu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Nu=Object(o.a)((function e(t,n){Object(a.a)(this,e),this.data=t,this.contentType=n||null}));function Pu(e,t){switch(e){case Iu.RAW:return new Nu(Au(t));case Iu.BASE64:case Iu.BASE64URL:return new Nu(Ru(e,t));case Iu.DATA_URL:return new Nu(function(e){var t=new Du(e);return t.base64?Ru(Iu.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw vu(Iu.DATA_URL,"Malformed data URL.")}return Au(t)}(t.rest)}(t),new Du(t).contentType)}throw cu()}function Au(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ru(e,t){switch(e){case Iu.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vu(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Iu.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vu(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw vu(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Du=Object(o.a)((function e(t){Object(a.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vu(Iu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Mu=function(){function e(t,n){Object(a.a)(this,e);var r=0,i="";ku(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Object(o.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ku(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(wu()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Su.apply(null,i))}var a=n.map((function(e){return Ou(e)?Pu(Iu.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Lu(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Fu(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Uu(e,t){return t}var Vu=Object(o.a)((function e(t,n,r,i){Object(a.a)(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Uu})),qu=null;function Bu(){if(qu)return qu;var e=[];e.push(new Vu("bucket")),e.push(new Vu("generation")),e.push(new Vu("metageneration")),e.push(new Vu("name","fullPath",!0));var t=new Vu("name");t.xform=function(e,t){return function(e){return!Ou(e)||e.length<2?e:Fu(e)}(t)},e.push(t);var n=new Vu("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Vu("timeCreated")),e.push(new Vu("updated")),e.push(new Vu("md5Hash",null,!0)),e.push(new Vu("cacheControl",null,!0)),e.push(new Vu("contentDisposition",null,!0)),e.push(new Vu("contentEncoding",null,!0)),e.push(new Vu("contentLanguage",null,!0)),e.push(new Vu("contentType",null,!0)),e.push(new Vu("metadata","customMetadata",!0)),qu=e}function zu(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gu(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Wu(e,t,n){var r=Lu(t);return null===r?null:zu(e,r,n)}function Hu(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Ku(e,t,n){var r=Lu(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Object(s.a)(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new gu(t,o));r.prefixes.push(u)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var c,l=Object(s.a)(n.items);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=e._makeStorageReference(new gu(t,f.name));r.items.push(h)}}catch(d){l.e(d)}finally{l.f()}}return r}(e,t,r)}var Gu=Object(o.a)((function e(t,n,r,i){Object(a.a)(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $u(e){if(!e)throw cu()}function Qu(e,t){return function(n,r){var i=Wu(e,r,t);return $u(null!==i),i}}function Yu(e,t){return function(n,r){var i=Wu(e,r,t);return $u(null!==i),function(e,t,n,r){var i=Lu(t);if(null===i)return null;if(!Ou(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return _u("/b/"+o(i)+"/o/"+o(a),n,r)+xu({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Xu(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uu("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new uu("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new uu("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uu("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ju(e){var t=Xu(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new uu("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Zu(e,t,n){var r=_u(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Gu(r,"GET",Qu(e,n),i);return a.errorHandler=Ju(t),a}function es(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=_u(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new Gu(o,"GET",function(e,t){return function(n,r){var i=Ku(e,t,r);return $u(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=Xu(t),s}function ts(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ns(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=ts(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Hu(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Mu.getBlob(c,r,l);if(null===f)throw fu();var h={name:s.fullPath},d=_u(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Gu(d,"POST",Qu(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Xu(t),v}var rs=Object(o.a)((function e(t,n,r,i){Object(a.a)(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function is(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){$u(!1)}return $u(!!n&&-1!==(t||["active"]).indexOf(n)),n}var as=262144;function os(e,t,n,r,i,a,o,u){var s=new rs(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new uu("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw fu();var v=t.maxUploadRetryTime,m=new Gu(n,"POST",(function(e,n){var i,o=is(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Qu(t,a)(e,n):null,new rs(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=Xu(e),m}var us={STATE_CHANGED:"state_changed"},ss={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cs(e){switch(e){case"running":case"pausing":case"canceling":return ss.RUNNING;case"paused":return ss.PAUSED;case"success":return ss.SUCCESS;case"canceled":return ss.CANCELED;default:return ss.ERROR}}var ls=Object(o.a)((function e(t,n,r){if(Object(a.a)(this,e),"function"===typeof t||null!=n||null!=r)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}));function fs(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var hs=function(){function e(){var t=this;Object(a.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bu.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=bu.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=bu.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Object(o.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mu("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mu("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mu("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ds=function(e){Object(ur.a)(n,e);var t=Object(sr.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hs);function ps(){return new ds}var vs=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(a.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Bu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Object(o.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Object(u.a)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ts(t,r,i),u={name:o.fullPath},s=_u(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Hu(o,n),f=e.maxUploadRetryTime,h=new Gu(s,"POST",(function(e){var t;is(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){$u(!1)}return $u(Ou(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Xu(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ps,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Gu(n,"POST",(function(e){var t=is(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){$u(!1)}n||$u(!1);var i=Number(n);return $u(!isNaN(i)),new rs(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Xu(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,ps,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=as*this._chunkMultiplier,n=new rs(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=os(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,ps,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){as*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Zu(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,ps,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=ns(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ps,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lu(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cs(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new ls(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cs(this._state)){case ss.SUCCESS:fs(this._resolve.bind(null,this.snapshot))();break;case ss.CANCELED:case ss.ERROR:fs(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cs(this._state)){case ss.RUNNING:case ss.PAUSED:e.next&&fs(e.next.bind(e,this.snapshot))();break;case ss.SUCCESS:e.complete&&fs(e.complete.bind(e))();break;default:e.error&&fs(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),ms=function(){function e(t,n){Object(a.a)(this,e),this._service=t,this._location=n instanceof gu?n:gu.makeFromUrl(n,t.host)}return Object(o.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gu(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Fu(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gu(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pu(e)}}]),e}();function bs(e,t,n){return gs.apply(this,arguments)}function gs(){return(gs=Object(f.a)(Object(l.a)().mark((function e(t,n,r){var i,a,o,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,ys(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Object(m.a)(u.prefixes)),(a=n.items).push.apply(a,Object(m.a)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,bs(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t){null!=t&&"number"===typeof t.maxResults&&ju("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=es(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ps)}function Os(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=_u(t.fullServerUrl(),e.host,e._protocol),a=Hu(n,r),o=e.maxOperationRetryTime,u=new Gu(i,"PATCH",Qu(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Ju(t),u}(e.storage,e._location,t,Bu());return e.storage.makeRequestWithTokens(n,ps)}function ks(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=_u(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Gu(r,"GET",Yu(e,n),i);return a.errorHandler=Ju(t),a}(e.storage,e._location,Bu());return e.storage.makeRequestWithTokens(t,ps).then((function(e){if(null===e)throw new uu("no-download-url","The given file does not have any download URLs.");return e}))}function ws(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=_u(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Gu(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ju(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ps)}function js(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gu(e._location.bucket,n);return new ms(e.storage,r)}function _s(e,t){if(e instanceof Ts){var n=e;if(null==n._bucket)throw new uu("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ms(n,n._bucket);return null!=t?_s(r,t):r}return void 0!==t?js(e,t):e}function xs(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ts)return new ms(e,t);throw hu("To use ref(service, url), the first argument must be a Storage instance.")}return _s(e,t)}function Es(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gu.makeFromBucketSpec(n,e)}function Cs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(p.n)(i,e.app.options.projectId))}var Ts=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ou,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gu.makeFromBucketSpec(i,this._host):Es(this._host,this.app.options)}return Object(o.a)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gu.makeFromBucketSpec(this._url,e):this._bucket=Es(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ju("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ju("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ms(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new yu(du());var a=function(e,t,n,r,i,a){var o=xu(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new Eu(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Object(u.a)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ss="@firebase/storage",Is="0.9.9",Ns="storage";function Ps(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vs(e,new Mu(t),n)}(e=Object(p.v)(e),t,n)}function As(e){return function(e){e._throwIfRoot("getMetadata");var t=Zu(e.storage,e._location,Bu());return e.storage.makeRequestWithTokens(t,ps)}(e=Object(p.v)(e))}function Rs(e){return function(e){var t={prefixes:[],items:[]};return bs(e,t).then((function(){return t}))}(e=Object(p.v)(e))}function Ds(e,t){return xs(e=Object(p.v)(e),t)}function Ms(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Cs(e,t,n,r)}function Ls(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ts(r,i,a,n,h.SDK_VERSION)}Object(h._registerComponent)(new v.a(Ns,Ls,"PUBLIC").setMultipleInstances(!0)),Object(h.registerVersion)(Ss,Is,""),Object(h.registerVersion)(Ss,Is,"esm2017");var Fs=function(){function e(t,n,r){Object(a.a)(this,e),this._delegate=t,this.task=n,this.ref=r}return Object(o.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Us=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(o.a)(e,[{key:"snapshot",get:function(){return new Fs(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Fs(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Fs(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Fs(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Vs=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this._service=n}return Object(o.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new qs(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new qs(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),qs=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this.storage=n}return Object(o.a)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return js(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Us(Ps(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iu.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Pu(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Us(new vs(this._delegate,new Mu(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Rs(this._delegate).then((function(t){return new Vs(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return ys(e=Object(p.v)(e),t)}(this._delegate,e||void 0).then((function(e){return new Vs(e,t.storage)}))}},{key:"getMetadata",value:function(){return As(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Os(e=Object(p.v)(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return e=this._delegate,ks(e=Object(p.v)(e));var e}},{key:"delete",value:function(){return this._throwIfRoot("delete"),e=this._delegate,ws(e=Object(p.v)(e));var e}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pu(e)}}]),e}(),Bs=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(zs(e))throw hu("ref() expected a child path but got a URL, use refFromURL instead.");return new qs(Ds(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!zs(e))throw hu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gu.makeFromUrl(e,this._delegate.host)}catch(t){throw hu("refFromUrl() expected a valid full URL but got an invalid one.")}return new qs(Ds(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ms(this._delegate,e,t,n)}}]),e}();function zs(e){return/^[A-Za-z]+:\/\//.test(e)}var Ws;function Hs(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Bs(r,i)}!function(e){var t={TaskState:ss,TaskEvent:us,StringFormat:Iu,Storage:Bs,Reference:qs};e.INTERNAL.registerComponent(new v.a("storage-compat",Hs,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(i.a);var Ks,Gs,$s="@firebase/performance",Qs="0.5.12",Ys=Qs,Xs="FB-PERF-TRACE-START",Js="FB-PERF-TRACE-STOP",Zs="FB-PERF-TRACE-MEASURE",ec="_wt_",tc="_fcp",nc="_fid",rc="@firebase/performance/config",ic="@firebase/performance/configexpire",ac="Performance",oc=(Ws={},Object(c.a)(Ws,"trace started","Trace {$traceName} was started before."),Object(c.a)(Ws,"trace stopped","Trace {$traceName} is not running."),Object(c.a)(Ws,"nonpositive trace startTime","Trace {$traceName} startTime should be positive."),Object(c.a)(Ws,"nonpositive trace duration","Trace {$traceName} duration should be positive."),Object(c.a)(Ws,"no window","Window is not available."),Object(c.a)(Ws,"no app id","App id is not available."),Object(c.a)(Ws,"no project id","Project id is not available."),Object(c.a)(Ws,"no api key","Api key is not available."),Object(c.a)(Ws,"invalid cc log","Attempted to queue invalid cc event"),Object(c.a)(Ws,"FB not default","Performance can only start when Firebase app instance is the default one."),Object(c.a)(Ws,"RC response not ok","RC response is not ok"),Object(c.a)(Ws,"invalid attribute name","Attribute name {$attributeName} is invalid."),Object(c.a)(Ws,"invalid attribute value","Attribute value {$attributeValue} is invalid."),Object(c.a)(Ws,"invalid custom metric name","Custom metric name {$customMetricName} is invalid"),Object(c.a)(Ws,"invalid String merger input","Input for String merger is invalid, contact support team to resolve."),Object(c.a)(Ws,"already initialized","initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."),Ws),uc=new p.b("performance",ac,oc),sc=new d.b(ac);sc.logLevel=d.a.INFO;var cc,lc,fc=function(){function e(t){if(Object(a.a)(this,e),this.window=t,!t)throw uc.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return Object(o.a)(e,[{key:"getUrl",value:function(){return this.windowLocation.href.split("?")[0]}},{key:"mark",value:function(e){this.performance&&this.performance.mark&&this.performance.mark(e)}},{key:"measure",value:function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}},{key:"getEntriesByType",value:function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}},{key:"getEntriesByName",value:function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}},{key:"getTimeOrigin",value:function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}},{key:"requiredApisAvailable",value:function(){return fetch&&Promise&&Object(p.e)()?!!Object(p.C)()||(sc.info("IndexedDB is not supported by current browswer"),!1):(sc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}},{key:"setupObserver",value:function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){var n,r=Object(s.a)(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i)}}catch(a){r.e(a)}finally{r.f()}})).observe({entryTypes:[e]})}}],[{key:"getInstance",value:function(){return void 0===Ks&&(Ks=new e(Gs)),Ks}}]),e}();function hc(){return cc}function dc(e,t){var n=e.length-t.length;if(n<0||n>1)throw uc.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var pc,vc=function(){function e(){Object(a.a)(this,e),this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=dc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=dc("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return Object(o.a)(e,[{key:"getFlTransportFullUrl",value:function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}}],[{key:"getInstance",value:function(){return void 0===lc&&(lc=new e),lc}}]),e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(pc||(pc={}));var mc=["firebase_","google_","ga_"],bc=new RegExp("^[a-zA-Z]\\w*$");function gc(){var e=fc.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function yc(){switch(fc.getInstance().document.visibilityState){case"visible":return pc.VISIBLE;case"hidden":return pc.HIDDEN;default:return pc.UNKNOWN}}function Oc(){var e=fc.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function kc(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw uc.create("no app id");return n}var wc="0.0.1",jc={loggingEnabled:!0},_c="FIREBASE_INSTALLATIONS_AUTH";function xc(e,t){var n=function(){var e=fc.getInstance().localStorage;if(!e)return;var t=e.getItem(ic);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(rc);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return n?(Cc(n),Promise.resolve()):function(e,t){return function(e){var t=e.getToken();return t.then((function(e){})),t}(e.installations).then((function(n){var r=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw uc.create("no project id");return n}(e.app),i=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw uc.create("no api key");return n}(e.app),a="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(r,"/namespaces/fireperf:fetch?key=").concat(i),o=new Request(a,{method:"POST",headers:{Authorization:"".concat(_c," ").concat(n)},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:kc(e.app),app_version:Ys,sdk_version:wc})});return fetch(o).then((function(e){if(e.ok)return e.json();throw uc.create("RC response not ok")}))})).catch((function(){sc.info(Ec)}))}(e,t).then(Cc).then((function(e){return function(e){var t=fc.getInstance().localStorage;if(!e||!t)return;t.setItem(rc,JSON.stringify(e)),t.setItem(ic,String(Date.now()+60*vc.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Ec="Could not fetch config, will use default configs";function Cc(e){if(!e)return e;var t=vc.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=jc.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):jc.logSource&&(t.logSource=jc.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:jc.logEndPointUrl&&(t.logEndPointUrl=jc.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:jc.transportKey&&(t.transportKey=jc.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==jc.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=jc.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==jc.tracesSamplingRate&&(t.tracesSamplingRate=jc.tracesSamplingRate),t.logTraceAfterSampling=Tc(t.tracesSamplingRate),t.logNetworkAfterSampling=Tc(t.networkRequestsSamplingRate),e}function Tc(e){return Math.random()<=e}var Sc,Ic=1;function Nc(e){return Ic=2,Sc=Sc||function(e){return function(){var e=fc.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(e){var t=e.getId();return t.then((function(e){cc=e})),t}(e.installations)})).then((function(t){return xc(e,t)})).then((function(){return Pc()}),(function(){return Pc()}))}(e),Sc}function Pc(){Ic=3}var Ac,Rc=1e4,Dc=3,Mc=[],Lc=!1;function Fc(e){setTimeout((function(){if(0!==Dc)return Mc.length?void function(){var e=Mc.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=vc.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||sc.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Rc;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Mc=[].concat(Object(m.a)(t),Object(m.a)(Mc)),sc.info("Retry transport request later.")),Dc=3,Fc(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:vc.getInstance().logSource,log_event:t},e).catch((function(){Mc=[].concat(Object(m.a)(e),Object(m.a)(Mc)),Dc--,sc.info("Tries left: ".concat(Dc,".")),Fc(Rc)}))}():Fc(Rc)}),e)}function Uc(e){if(!e.eventTime||!e.message)throw uc.create("invalid cc log");Mc=[].concat(Object(m.a)(Mc),[e])}function Vc(e,t){Ac||(Ac=function(e){return function(){Uc({message:e.apply(void 0,arguments),eventTime:Date.now()})}}(zc)),Ac(e,t)}function qc(e){var t=vc.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&fc.getInstance().requiredApisAvailable()&&(e.isAuto&&yc()!==pc.VISIBLE||(3===Ic?Bc(e):Nc(e.performanceController).then((function(){return Bc(e)}),(function(){return Bc(e)}))))}function Bc(e){if(hc()){var t=vc.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Vc(e,1)}),0)}}function zc(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Wc(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Wc(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function Wc(e){return{google_app_id:kc(e),app_instance_id:hc(),web_app_info:{sdk_version:Ys,page_url:fc.getInstance().getUrl(),service_worker_status:gc(),visibility_state:yc(),effective_connection_type:Oc()},application_process_state:0}}var Hc=["_fp",tc,nc];var Kc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;Object(a.a)(this,e),this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=fc.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="".concat(Xs,"-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat(Js,"-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=i||"".concat(Zs,"-").concat(this.randomId,"-").concat(this.name),i&&this.calculateTraceMetrics())}return Object(o.a)(e,[{key:"start",value:function(){if(1!==this.state)throw uc.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}},{key:"stop",value:function(){if(2!==this.state)throw uc.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qc(this)}},{key:"record",value:function(e,t,n){if(e<=0)throw uc.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw uc.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Math.floor(Number(n.metrics[a])))}qc(this)}},{key:"incrementMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}},{key:"putMetric",value:function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(ec)&&Hc.indexOf(n)>-1)&&n.startsWith("_"))throw uc.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&sc.info("Metric value should be an Integer, setting the value as : ".concat(t,".")),t}(null!==t&&void 0!==t?t:0)}},{key:"getMetric",value:function(e){return this.counters[e]||0}},{key:"putAttribute",value:function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!mc.some((function(e){return n.startsWith(e)}))&&!!n.match(bc),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw uc.create("invalid attribute name",{attributeName:e});if(!i)throw uc.create("invalid attribute value",{attributeValue:t})}}},{key:"getAttribute",value:function(e){return this.customAttributes[e]}},{key:"removeAttribute",value:function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}},{key:"getAttributes",value:function(){return Object.assign({},this.customAttributes)}},{key:"setStartTime",value:function(e){this.startTimeUs=e}},{key:"setDuration",value:function(e){this.durationUs=e}},{key:"calculateTraceMetrics",value:function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}}],[{key:"createOobTrace",value:function(t,n,r,i){var a=fc.getInstance().getUrl();if(a){var o=new e(t,ec+a,!0),u=Math.floor(1e3*fc.getInstance().getTimeOrigin());o.setStartTime(u),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd)));if(r){var s=r.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=r.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&o.putMetric(tc,Math.floor(1e3*c.startTime)),i&&o.putMetric(nc,Math.floor(1e3*i))}qc(o)}}},{key:"createUserTimingTrace",value:function(t,n){qc(new e(t,n,!1,n))}}]),e}();function Gc(e,t){var n=t;if(n&&void 0!==n.responseStart){var r=fc.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),a=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){var t=vc.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Vc(e,0)}),0)}}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:o})}}function $c(e){hc()&&(setTimeout((function(){return function(e){var t=fc.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){Kc.createOobTrace(e,n,r),i=void 0}),5e3);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),Kc.createOobTrace(e,n,r,t))}))}else Kc.createOobTrace(e,n,r)}(e)}),0),setTimeout((function(){return function(e){var t,n=fc.getInstance(),r=n.getEntriesByType("resource"),i=Object(s.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;Gc(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("resource",(function(t){return Gc(e,t)}))}(e)}),0),setTimeout((function(){return function(e){var t,n=fc.getInstance(),r=n.getEntriesByType("measure"),i=Object(s.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;Qc(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("measure",(function(t){return Qc(e,t)}))}(e)}),0))}function Qc(e,t){var n=t.name;n.substring(0,Zs.length)!==Zs&&Kc.createUserTimingTrace(e,n)}var Yc=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.installations=n,this.initialized=!1}return Object(o.a)(e,[{key:"_init",value:function(e){var t=this;this.initialized||(void 0!==(null===e||void 0===e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null===e||void 0===e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),fc.getInstance().requiredApisAvailable()?Object(p.W)().then((function(e){e&&(Lc||(Fc(5500),Lc=!0),Nc(t).then((function(){return $c(t)}),(function(){return $c(t)})),t.initialized=!0)})).catch((function(e){sc.info("Environment doesn't support IndexedDB: ".concat(e))})):sc.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}},{key:"instrumentationEnabled",get:function(){return vc.getInstance().instrumentationEnabled},set:function(e){vc.getInstance().instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return vc.getInstance().dataCollectionEnabled},set:function(e){vc.getInstance().dataCollectionEnabled=e}}]),e}();var Xc=function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==r.name)throw uc.create("FB not default");if("undefined"===typeof window)throw uc.create("no window");!function(e){Gs=e}(window);var a=new Yc(r,i);return a._init(n),a};Object(h._registerComponent)(new v.a("performance",Xc,"PUBLIC")),Object(h.registerVersion)($s,Qs),Object(h.registerVersion)($s,Qs,"esm2017");var Jc,Zc,el=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"instrumentationEnabled",get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e}},{key:"trace",value:function(e){return function(e,t){return e=Object(p.v)(e),new Kc(e,t)}(this._delegate,e)}}]),e}();function tl(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new el(t,n)}(Jc=i.a).INTERNAL.registerComponent(new v.a("performance-compat",tl,"PUBLIC")),Jc.registerVersion("@firebase/performance-compat","0.1.12");var nl="@firebase/remote-config",rl="0.3.11",il=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}(),al="remote-config",ol=(Zc={},Object(c.a)(Zc,"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),Object(c.a)(Zc,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),Object(c.a)(Zc,"registration-api-key","Undefined API key. Check Firebase app initialization."),Object(c.a)(Zc,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),Object(c.a)(Zc,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),Object(c.a)(Zc,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),Object(c.a)(Zc,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(c.a)(Zc,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(c.a)(Zc,"indexed-db-unavailable","Indexed DB is not supported by current browser"),Zc),ul=new p.b("remoteconfig","Remote Config",ol);function sl(e,t){return e instanceof p.c&&-1!==e.code.indexOf(t)}var cl=["1","true","t","yes","y","on"],ll=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(a.a)(this,e),this._source=t,this._value=n}return Object(o.a)(e,[{key:"asString",value:function(){return this._value}},{key:"asBoolean",value:function(){return"static"!==this._source&&cl.indexOf(this._value.toLowerCase())>=0}},{key:"asNumber",value:function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e}},{key:"getSource",value:function(){return this._source}}]),e}();function fl(e){return hl.apply(this,arguments)}function hl(){return(hl=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.v)(t),e.next=3,Promise.all([n._storage.getLastSuccessfulFetchResponse(),n._storage.getActiveConfigEtag()]);case 3:if(r=e.sent,i=Object(u.a)(r,2),a=i[0],o=i[1],a&&a.config&&a.eTag&&a.eTag!==o){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,Promise.all([n._storageCache.setActiveConfig(a.config),n._storage.setActiveConfigEtag(a.eTag)]);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dl(e){var t=Object(p.v)(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}function pl(e){return vl.apply(this,arguments)}function vl(){return(vl=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.v)(t),r=new il,setTimeout(Object(f.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.abort();case 1:case"end":return e.stop()}}),e)}))),n.settings.fetchTimeoutMillis),e.prev=3,e.next=6,n._client.fetch({cacheMaxAgeMillis:n.settings.minimumFetchIntervalMillis,signal:r});case 6:return e.next=8,n._storageCache.setLastFetchStatus("success");case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(3),i=sl(e.t0,"fetch-throttle")?"throttle":"failure",e.next=15,n._storageCache.setLastFetchStatus(i);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function ml(e){var t=Object(p.v)(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(Object.assign(Object.assign({},e),t))}(t._storageCache.getActiveConfig(),t.defaultConfig).reduce((function(t,n){return t[n]=bl(e,n),t}),{})}function bl(e,t){var n=Object(p.v)(e);n._isInitializationComplete||n._logger.debug('A value was requested for key "'.concat(t,'" before SDK initialization completed.')+" Await on ensureInitialized if the intent was to get a previously activated value.");var r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new ll("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new ll("default",String(n.defaultConfig[t])):(n._logger.debug('Returning static value for key "'.concat(t,'".')+" Define a default or remote value if this is unintentional."),new ll("static"))}var gl=function(){function e(t,n,r,i){Object(a.a)(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return Object(o.a)(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=Object(u.a)(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var Ol=function(){function e(t,n,r,i,o,u){Object(a.a)(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=u}return Object(o.a)(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){var n,r,i,a,o,s,c,f,h,d,p,v,m,b,g,y,O,k,w,j,_;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return a=e.sent,o=Object(u.a)(a,2),s=o[0],c=o[1],f=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",h="".concat(f,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},p={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:c,app_id:this.appId,language_code:yl()},v={method:"POST",headers:d,body:JSON.stringify(p)},m=fetch(h,v),b=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([m,b]);case 16:return e.next=18,m;case 18:g=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),y="fetch-client-network","AbortError"===(null===(n=e.t0)||void 0===n?void 0:n.name)&&(y="fetch-timeout"),ul.create(y,{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 26:if(O=g.status,k=g.headers.get("ETag")||void 0,200!==g.status){e.next=40;break}return e.prev=29,e.next=32,g.json();case 32:_=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),ul.create("fetch-client-parse",{originalErrorMessage:null===(i=e.t1)||void 0===i?void 0:i.message});case 38:w=_.entries,j=_.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===j?O=500:"NO_CHANGE"===j?O=304:"NO_TEMPLATE"!==j&&"EMPTY_CONFIG"!==j||(w={}),304===O||200===O){e.next=43;break}throw ul.create("fetch-status",{httpStatus:O});case 43:return e.abrupt("return",{status:O,eTag:k,config:w});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function kl(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(ul.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function wl(e){if(!(e instanceof p.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var jl=function(){function e(t,n){Object(a.a)(this,e),this.client=t,this.storage=n}return Object(o.a)(e,[{key:"fetch",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,kl(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),wl(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Object(p.l)(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),_l=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return Object(o.a)(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function xl(e,t){var n,r=e.target.error||void 0;return ul.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}var El="app_namespace_store";function Cl(){return new Promise((function(e,t){var n;try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(xl(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(El,{keyPath:"compositeKey"})}}catch(i){t(ul.create("storage-open",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message}))}}))}var Tl=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cl();Object(a.a)(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){var n,r=this;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a,o=n.transaction([El],"readonly").objectStore(El),u=r.createCompositeKey(t);try{var s=o.get(u);s.onerror=function(e){i(xl(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(c){i(ul.create("storage-get",{originalErrorMessage:null===(a=c)||void 0===a?void 0:a.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t,n){var r,i=this;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o,u=r.transaction([El],"readwrite").objectStore(El),s=i.createCompositeKey(t);try{var c=u.put({compositeKey:s,value:n});c.onerror=function(e){a(xl(e,"storage-set"))},c.onsuccess=function(){e()}}catch(l){a(ul.create("storage-set",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(t){var n,r=this;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a,o=n.transaction([El],"readwrite").objectStore(El),u=r.createCompositeKey(t);try{var s=o.delete(u);s.onerror=function(e){i(xl(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(c){i(ul.create("storage-delete",{originalErrorMessage:null===(a=c)||void 0===a?void 0:a.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),Sl=function(){function e(t){Object(a.a)(this,e),this.storage=t}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=Object(f.a)(Object(l.a)().mark((function e(){var t,n,r,i,a,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function Il(){return(Il=Object(f.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.v)(t),e.next=3,pl(t);case 3:return e.abrupt("return",fl(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(){return Pl.apply(this,arguments)}function Pl(){return(Pl=Object(f.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.C)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,Object(p.W)();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Object(h._registerComponent)(new v.a(al,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw ul.create("registration-window");if(!Object(p.C)())throw ul.create("indexed-db-unavailable");var a=r.options,o=a.projectId,u=a.apiKey,s=a.appId;if(!o)throw ul.create("registration-project-id");if(!u)throw ul.create("registration-api-key");if(!s)throw ul.create("registration-app-id");n=n||"firebase";var c=new Tl(s,r.name,n),l=new Sl(c),f=new d.b(nl);f.logLevel=d.a.ERROR;var v=new Ol(i,h.SDK_VERSION,n,o,u,s),m=new jl(v,c),b=new gl(m,c,l,f),g=new _l(r,b,l,c,f);return dl(g),g}),"PUBLIC").setMultipleInstances(!0)),Object(h.registerVersion)(nl,rl),Object(h.registerVersion)(nl,rl,"esm2017");var Al=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"defaultConfig",get:function(){return this._delegate.defaultConfig},set:function(e){this._delegate.defaultConfig=e}},{key:"fetchTimeMillis",get:function(){return this._delegate.fetchTimeMillis}},{key:"lastFetchStatus",get:function(){return this._delegate.lastFetchStatus}},{key:"settings",get:function(){return this._delegate.settings},set:function(e){this._delegate.settings=e}},{key:"activate",value:function(){return fl(this._delegate)}},{key:"ensureInitialized",value:function(){return dl(this._delegate)}},{key:"fetch",value:function(){return pl(this._delegate)}},{key:"fetchAndActivate",value:function(){return function(e){return Il.apply(this,arguments)}(this._delegate)}},{key:"getAll",value:function(){return ml(this._delegate)}},{key:"getBoolean",value:function(e){return function(e,t){return bl(Object(p.v)(e),t).asBoolean()}(this._delegate,e)}},{key:"getNumber",value:function(e){return function(e,t){return bl(Object(p.v)(e),t).asNumber()}(this._delegate,e)}},{key:"getString",value:function(e){return function(e,t){return bl(Object(p.v)(e),t).asString()}(this._delegate,e)}},{key:"getValue",value:function(e){return bl(this._delegate,e)}},{key:"setLogLevel",value:function(e){!function(e,t){var n=Object(p.v)(e);switch(t){case"debug":n._logger.logLevel=d.a.DEBUG;break;case"silent":n._logger.logLevel=d.a.SILENT;break;default:n._logger.logLevel=d.a.ERROR}}(this._delegate,e)}}]),e}();function Rl(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("remote-config").getImmediate({identifier:n});return new Al(r,i)}!function(e){e.INTERNAL.registerComponent(new v.a("remoteConfig-compat",Rl,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:Nl})),e.registerVersion("@firebase/remote-config-compat","0.1.12")}(i.a);i.a.registerVersion("firebase","9.10.0","app-compat");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.a.registerVersion("firebase","9.10.0","compat")},function(e,t,n){"use strict";var r=n(8),i=n(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},o=n(26),u=function(e,t){return i.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:a}))};u.displayName="LeftOutlined";t.a=i.forwardRef(u)},function(e,t,n){"use strict";e.exports=n(178)},function(e,t,n){var r=n(186);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],b=n[4],g=n[5],y=n[6],O=n[7];u&&(r.push(u),u="");var k=null!=v&&null!=p&&p!==v,w="+"===y||"*"===y,j="?"===y||"*"===y,_=n[2]||l,x=b||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:j,repeat:w,partial:k,asterisk:!!O,pattern:x?c(x):O?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(42),i=function(e){if(Object(r.a)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function a(e,t){return Array.isArray(e)||void 0===t?i(e):function(e,t){if(!i(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}},,function(e,t,n){"use strict";t.a={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},function(e,t,n){var r=n(189);e.exports=function(e,t){return r(e,t)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(101),i=n(141);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(79))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(208),i=n(215),a=n(217),o=n(218),u=n(219);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(220),i=n(223),a=n(224);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var b=e[p],g=t[p];if(o)var y=c?o(g,b,p,t,e,s):o(b,g,p,e,t,s);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(b===e||u(b,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(b!==g&&!u(b,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},function(e,t,n){(function(e){var r=n(61),i=n(241),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s}).call(this,n(153)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(243),i=n(244),a=n(245),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),i=n(123),a={adjustX:1,adjustY:1},o={adjustX:0,adjustY:0},u=[0,0];function s(e){return"boolean"===typeof e?e?a:o:Object(r.a)(Object(r.a)({},o),e)}function c(e){var t=e.arrowWidth,n=void 0===t?4:t,a=e.horizontalArrowShift,o=void 0===a?16:a,c=e.verticalArrowShift,l=void 0===c?8:c,f=e.autoAdjustOverflow,h=e.arrowPointAtCenter,d={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(o+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(l+n)]},topRight:{points:["br","tc"],offset:[o+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(l+n)]},bottomRight:{points:["tr","bc"],offset:[o+n,4]},rightBottom:{points:["bl","cr"],offset:[4,l+n]},bottomLeft:{points:["tl","bc"],offset:[-(o+n),4]},leftBottom:{points:["br","cl"],offset:[-4,l+n]}};return Object.keys(d).forEach((function(e){d[e]=h?Object(r.a)(Object(r.a)({},d[e]),{overflow:s(f),targetOffset:u}):Object(r.a)(Object(r.a)({},i.a[e]),{overflow:s(f)}),d[e].ignoreShake=!0})),d}},,,,,function(e,t,n){"use strict";var r=n(5),i=n(8),a=n(9),o=n(22),u=n(0),s=n(82),c=n(11),l=n.n(c),f={adjustX:1,adjustY:1},h=[0,0],d={topLeft:{points:["bl","tl"],overflow:f,offset:[0,-4],targetOffset:h},topCenter:{points:["bc","tc"],overflow:f,offset:[0,-4],targetOffset:h},topRight:{points:["br","tr"],overflow:f,offset:[0,-4],targetOffset:h},bottomLeft:{points:["tl","bl"],overflow:f,offset:[0,4],targetOffset:h},bottomCenter:{points:["tc","bc"],overflow:f,offset:[0,4],targetOffset:h},bottomRight:{points:["tr","br"],overflow:f,offset:[0,4],targetOffset:h}},p=n(31),v=n(27),m=n(122),b=p.a.ESC,g=p.a.TAB;var y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function O(e,t){var n=e.arrow,c=void 0!==n&&n,f=e.prefixCls,h=void 0===f?"rc-dropdown":f,p=e.transitionName,O=e.animation,k=e.align,w=e.placement,j=void 0===w?"bottomLeft":w,_=e.placements,x=void 0===_?d:_,E=e.getPopupContainer,C=e.showAction,T=e.hideAction,S=e.overlayClassName,I=e.overlayStyle,N=e.visible,P=e.trigger,A=void 0===P?["hover"]:P,R=e.autoFocus,D=Object(o.a)(e,y),M=u.useState(),L=Object(a.a)(M,2),F=L[0],U=L[1],V="visible"in e?N:F,q=u.useRef(null);u.useImperativeHandle(t,(function(){return q.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.onVisibleChange,a=e.autoFocus,o=u.useRef(!1),s=function(){var e,a,o,u;t&&r.current&&(null===(e=r.current)||void 0===e||null===(a=e.triggerRef)||void 0===a||null===(o=a.current)||void 0===o||null===(u=o.focus)||void 0===u||u.call(o),n(!1),"function"===typeof i&&i(!1))},c=function(){var e,t,n,i,a=Object(m.a)(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(i=n.getElement)||void 0===i?void 0:i.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),o.current=!0,!0)},l=function(e){switch(e.keyCode){case b:s();break;case g:var t=!1;o.current||(t=c()),t?e.preventDefault():s()}};u.useEffect((function(){return t?(window.addEventListener("keydown",l),a&&Object(v.a)(c,3),function(){window.removeEventListener("keydown",l),o.current=!1}):function(){o.current=!1}}),[t])}({visible:V,setTriggerVisible:U,triggerRef:q,onVisibleChange:e.onVisibleChange,autoFocus:R});var B=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return u.createElement(u.Fragment,null,c&&u.createElement("div",{className:"".concat(h,"-arrow")}),t)},z=T;return z||-1===A.indexOf("contextMenu")||(z=["click"]),u.createElement(s.a,Object(i.a)(Object(i.a)({builtinPlacements:x},D),{},{prefixCls:h,ref:q,popupClassName:l()(S,Object(r.a)({},"".concat(h,"-show-arrow"),c)),popupStyle:I,action:A,showAction:C,hideAction:z||[],popupPlacement:j,popupAlign:k,popupTransitionName:p,popupAnimation:O,popupVisible:V,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?B:B(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;U(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;U(!1),n&&n(t)},getPopupContainer:E}),function(){var t=e.children,n=t.props?t.props:{},r=l()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(h,"-open")}());return V&&t?u.cloneElement(t,{className:r}):t}())}var k=u.forwardRef(O);t.a=k},function(e,t,n){"use strict";t.a=function(e){function t(e,r,s,c,h){for(var d,p,v,m,O,w=0,j=0,_=0,x=0,E=0,P=0,R=v=d=0,M=0,L=0,F=0,U=0,V=s.length,q=V-1,B="",z="",W="",H="";M<V;){if(p=s.charCodeAt(M),M===q&&0!==j+x+_+w&&(0!==j&&(p=47===j?10:47),x=_=w=0,V++,q++),0===j+x+_+w){if(M===q&&(0<L&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<q;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<L&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=N}if(U=(v=t(r,L,v,p,h+1)).length,0<A&&(O=u(3,v,L=n(N,B,F),r,T,C,U,p,h,c),B=L.join(""),void 0!==O&&0===(U=(v=O.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(k,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(b,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);W+=v,v=F=L=R=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<L?B.replace(f,""):B).trim()).length))switch(0===R&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<A&&void 0!==(O=u(1,B,r,e,T,C,z.length,c,h,c))&&0===(U=(B=O.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}F=L=R=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===j?j=0:0===1+d&&107!==c&&0<B.length&&(L=1,B+="\0"),0<A*D&&u(0,B,r,e,T,C,z.length,c,h,c),C=1,T++;break;case 59:case 125:if(0===j+x+_+w){C++;break}default:switch(C++,m=s.charAt(M),p){case 9:case 32:if(0===x+w+j)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===x+j+w&&(L=F=1,m="\f"+m);break;case 108:if(0===x+j+w+S&&0<R)switch(M-R){case 2:112===E&&58===s.charCodeAt(M-3)&&(S=E);case 8:111===P&&(S=P)}break;case 58:0===x+j+w&&(R=M);break;case 44:0===j+_+x+w&&(L=1,m+="\r");break;case 34:case 39:0===j&&(x=x===p?0:0===x?p:x);break;case 91:0===x+j+_&&w++;break;case 93:0===x+j+_&&w--;break;case 41:0===x+j+w&&_--;break;case 40:if(0===x+j+w){if(0===d)if(2*E+3*P===533);else d=1;_++}break;case 64:0===j+_+x+w+R+v&&(v=1);break;case 42:case 47:if(!(0<x+w+_))switch(j){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:j=47;break;case 220:U=M,j=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(z+=s.substring(U,M+1)),m="",j=0)}}0===j&&(B+=m)}P=E,E=p,M++}if(0<(U=z.length)){if(L=r,0<A&&(void 0!==(O=u(2,z,L,e,T,C,U,c,h,c))&&0===(z=O).length))return H+z+W;if(z=L.join(",")+"{"+z+"}",0!==I*S){switch(2!==I||a(z,2)||(S=0),S){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}S=0}}return H+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===I||2===I&&a(s,1)?"-webkit-"+s+s:s}if(0===I||2===I&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(O,"tb");break;case 232:s=o.replace(O,"tb-rl");break;case 220:s=o.replace(O,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(j,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(j,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(_,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<A;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?I=1:(I=2,R=e):I=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<A){var i=u(-1,n,r,r,T,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<A&&(void 0!==(i=u(-2,a,r,r,T,C,a.length,0,0,0))&&(a=i)),"",S=0,C=T=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,O=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,j=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,T=1,S=0,I=1,N=[],P=[],A=0,R=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:A=P.length=0;break;default:if("function"===typeof t)P[A++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";(function(e){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},u.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},s(e)}n.d(t,"a",(function(){return S}));var c=/%[sdj%]/g,l=function(){};function f(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(c,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function d(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function p(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/phtpage",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0});var v=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n),r}(s(Error));function m(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);p(o,n,(function(e){return r(e),e.length?a(new v(e,f(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],h=new Promise((function(t,a){var h=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new v(l,f(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?p(r,n,h):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,h)}))}));return h.catch((function(e){return e})),h}function b(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function g(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"===typeof i&&"object"===typeof e[n]?e[n]=r({},e[n],i):e[n]=i}return e}var y,O=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!d(t,a||e.type)||r.push(h(i.messages.required,e.fullField))},k=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,w=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,j={integer:function(e){return j.number(e)&&parseInt(e,10)===e},float:function(e){return j.number(e)&&!j.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!j.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(k)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(y)return y;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),s=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};s.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+i+t(e),"g")};var c=s.v4().source,l=s.v6().source;return y=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(w)}},_={required:O,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(h(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)O(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?j[a](t)||r.push(h(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(h(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(l?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(h(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(h(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(h(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(h(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(h(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},x=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t,a)&&!e.required)return n();_.required(e,t,r,o,i,a),d(t,a)||_.type(e,t,r,o,i)}n(o)},E={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t,"string")&&!e.required)return n();_.required(e,t,r,a,i,"string"),d(t,"string")||(_.type(e,t,r,a,i),_.range(e,t,r,a,i),_.pattern(e,t,r,a,i),!0===e.whitespace&&_.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),d(t)||_.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();_.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(_.type(e,t,r,a,i),_.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i),void 0!==t&&_.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t,"string")&&!e.required)return n();_.required(e,t,r,a,i),d(t,"string")||_.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t,"date")&&!e.required)return n();var o;if(_.required(e,t,r,a,i),!d(t,"date"))o=t instanceof Date?t:new Date(t),_.type(e,o,r,a,i),o&&_.range(e,o.getTime(),r,a,i)}n(a)},url:x,hex:x,email:x,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;_.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(d(t)&&!e.required)return n();_.required(e,t,r,a,i)}n(a)}};function C(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var T=C(),S=function(){function e(e){this.rules=null,this._messages=T,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=g(C(),e)),this._messages},t.validate=function(t,n,i){var a=this;void 0===n&&(n={}),void 0===i&&(i=function(){});var o=t,u=n,s=i;if("function"===typeof u&&(s=u,u={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(u.messages){var c=this.messages();c===T&&(c=C()),g(c,u.messages),u.messages=c}else u.messages=this.messages();var l={};(u.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],i=o[e];n.forEach((function(n){var u=n;"function"===typeof u.transform&&(o===t&&(o=r({},o)),i=o[e]=u.transform(i)),(u="function"===typeof u?{validator:u}:r({},u)).validator=a.getValidationMethod(u),u.validator&&(u.field=e,u.fullField=u.fullField||e,u.type=a.getType(u),l[e]=l[e]||[],l[e].push({rule:u,value:i,source:o,field:e}))}))}));var d={};return m(l,u,(function(t,n){var i,a=t.rule,s=("object"===a.type||"array"===a.type)&&("object"===typeof a.fields||"object"===typeof a.defaultField);function c(e,t){return r({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function l(i){void 0===i&&(i=[]);var l=Array.isArray(i)?i:[i];!u.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==a.message&&(l=[].concat(a.message));var f=l.map(b(a,o));if(u.first&&f.length)return d[a.field]=1,n(f);if(s){if(a.required&&!t.value)return void 0!==a.message?f=[].concat(a.message).map(b(a,o)):u.error&&(f=[u.error(a,h(u.messages.required,a.field))]),n(f);var p={};a.defaultField&&Object.keys(t.value).map((function(e){p[e]=a.defaultField})),p=r({},p,t.rule.fields);var v={};Object.keys(p).forEach((function(e){var t=p[e],n=Array.isArray(t)?t:[t];v[e]=n.map(c.bind(null,e))}));var m=new e(v);m.messages(u.messages),t.rule.options&&(t.rule.options.messages=u.messages,t.rule.options.error=u.error),m.validate(t.value,t.rule.options||u,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)i=a.asyncValidator(a,t.value,l,t.source,u);else if(a.validator){try{i=a.validator(a,t.value,l,t.source,u)}catch(f){null==console.error||console.error(f),u.suppressValidatorError||setTimeout((function(){throw f}),0),l(f.message)}!0===i?l():!1===i?l("function"===typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):i instanceof Array?l(i):i instanceof Error&&l(i.message)}i&&i.then&&i.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=f(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!E.hasOwnProperty(e.type))throw new Error(h("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?E.required:E[this.getType(e)]||void 0},e}();S.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");E[e]=t},S.warning=l,S.messages=T,S.validators=E}).call(this,n(100))},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),a=n(52),o=n(87),u=n.n(o),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[o]=u.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(79))},function(e,t,n){"use strict";var r=n(0),i=n(47),a=n.n(i),o=n(42),u=Object(r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,u=e.children,s=Object(r.useRef)(),c=Object(r.useRef)();Object(r.useImperativeHandle)(t,(function(){return{}}));var l=Object(r.useRef)(!1);return!l.current&&Object(o.a)()&&(c.current=i(),s.current=c.current.parentNode,l.current=!0),Object(r.useEffect)((function(){null===n||void 0===n||n(e)})),Object(r.useEffect)((function(){return null===c.current.parentNode&&null!==s.current&&s.current.appendChild(c.current),function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(c.current)}}),[]),c.current?a.a.createPortal(u,c.current):null}));t.a=u},,,function(e,t,n){"use strict";var r=n(16);n.d(t,"a",(function(){return r.initializeApp}));Object(r.registerVersion)("firebase","9.10.0","app")},function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return V}));var r=n(7),i=n(5),a=n(112),o=n(98),u=n(113),s=n(8),c=n(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},f=n(26),h=function(e,t){return c.createElement(f.a,Object(s.a)(Object(s.a)({},e),{},{ref:t,icon:l}))};h.displayName="InfoCircleFilled";var d,p=c.forwardRef(h),v=n(96),m=n(11),b=n.n(m),g=n(126),y=n(25),O=n(9),k=n(84),w=n(65);var j,_,x,E=3,C=1,T="",S="move-up",I=!1,N=!1;function P(){return C++}function A(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=Object(y.b)(),a=i.getPrefixCls,o=i.getRootPrefixCls,u=i.getIconPrefixCls,s=a("message",n||T),c=o(e.rootPrefixCls,s),l=u();if(d)t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:d});else{var f={prefixCls:s,transitionName:I?S:"".concat(c,"-").concat(S),style:{top:j},getContainer:_||r,maxCount:x};g.a.newInstance(f,(function(e){d?t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:d}):(d=e,t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var R={info:p,success:a.a,error:o.a,warning:u.a,loading:v.a},D=Object.keys(R);function M(e,t,n){var r,a=void 0!==e.duration?e.duration:E,o=R[e.type],u=b()("".concat(t,"-custom-content"),(r={},Object(i.a)(r,"".concat(t,"-").concat(e.type),e.type),Object(i.a)(r,"".concat(t,"-rtl"),!0===N),r));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:c.createElement(y.a,{iconPrefixCls:n},c.createElement("div",{className:u},e.icon||o&&c.createElement(o,null),c.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var L,F,U={open:function(e){var t=e.key||P(),n=new Promise((function(n){var i=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};A(e,(function(n){var a=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(M(Object(r.a)(Object(r.a)({},e),{key:t,onClose:i}),a,o))}))})),i=function(){d&&d.removeNotice(t)};return i.then=function(e,t){return n.then(e,t)},i.promise=n,i},config:function(e){void 0!==e.top&&(j=e.top,d=null),void 0!==e.duration&&(E=e.duration),void 0!==e.prefixCls&&(T=e.prefixCls),void 0!==e.getContainer&&(_=e.getContainer,d=null),void 0!==e.transitionName&&(S=e.transitionName,d=null,I=!0),void 0!==e.maxCount&&(x=e.maxCount,d=null),void 0!==e.rtl&&(N=e.rtl)},destroy:function(e){if(d)if(e){(0,d.removeNotice)(e)}else{var t=d.destroy;t(),d=null}}};function V(e,t){e[t]=function(n,i,a){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(Object(r.a)(Object(r.a)({},n),{type:t})):("function"===typeof i&&(a=i,i=void 0),e.open({content:n,duration:i,type:t,onClose:a}))}}D.forEach((function(e){return V(U,e)})),U.warn=U.warning,U.useMessage=(L=A,F=M,function(){var e,t,n=null,i={add:function(e,t){null===n||void 0===n||n.component.add(e,t)}},a=Object(k.a)(i),o=Object(O.a)(a,2),u=o[0],s=o[1],l=c.useRef({});return l.current.open=function(i){var a=i.prefixCls,o=e("message",a),s=e(),c=i.key||P(),l=new Promise((function(e){var a=function(){return"function"===typeof i.onClose&&i.onClose(),e(!0)};L(Object(r.a)(Object(r.a)({},i),{prefixCls:o,rootPrefixCls:s,getPopupContainer:t}),(function(e){var t=e.prefixCls,o=e.instance;n=o,u(F(Object(r.a)(Object(r.a)({},i),{key:c,onClose:a}),t))}))})),f=function(){n&&n.removeNotice(c)};return f.then=function(e,t){return l.then(e,t)},f.promise=l,f},D.forEach((function(e){return V(l.current,e)})),[l.current,c.createElement(w.a,{key:"holder"},(function(n){return e=n.getPrefixCls,t=n.getPopupContainer,s}))]});t.b=U},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(67);var a=n(83);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)},o(e)}},,function(e,t,n){"use strict";var r=n(0),i=n(130),a=n(175);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function O(e,t,n,r){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);b[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);b[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);b[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,j=60106,_=60107,x=60108,E=60114,C=60109,T=60110,S=60112,I=60113,N=60120,P=60115,A=60116,R=60121,D=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),j=U("react.portal"),_=U("react.fragment"),x=U("react.strict_mode"),E=U("react.profiler"),C=U("react.provider"),T=U("react.context"),S=U("react.forward_ref"),I=U("react.suspense"),N=U("react.suspense_list"),P=U("react.memo"),A=U("react.lazy"),R=U("react.block"),U("react.scope"),D=U("react.opaque.id"),M=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case j:return"Portal";case E:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case R:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&O(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,be=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){Oe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var je=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(je[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Te=null,Se=null;function Ie(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function Ne(e){Te?Se?Se.push(e):Se=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Se;if(Se=Te=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Me=Ae,Le=!1,Fe=!1;function Ue(){null===Te&&null===Se||(De(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,$e={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,He=null,ze.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function Ot(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(yt),ft.forEach(yt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ot)))}function wt(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&kt(ut,e),null!==st&&kt(st,e),null!==ct&&kt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)bt(n),null===n.blockedOn&&ht.shift()}function jt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},xt={},Et={};function Ct(e){if(xt[e])return xt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return xt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Tt=Ct("animationend"),St=Ct("animationiteration"),It=Ct("animationstart"),Nt=Ct("transitionend"),Pt=new Map,At=new Map,Rt=["abort","abort",Tt,"animationEnd",St,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Lt(s),i=Mt):0!==(u&=a)&&(r=Lt(u),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==u&&(r=Lt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Le||De();var i=Jt,a=Le;Le=!0;try{Re(i,e,t,n,r)}finally{(Le=a)||Ue()}}function Xt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),bn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},pn,{relatedTarget:0})),On=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(kn),jn=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Cn}var Sn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Sn),Nn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Ln||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function $n(e,t,n,r){Ne(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Sr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,Ee(e)),e=Xn,Le)e(t);else{Le=!0;try{Ae(e,t)}finally{Le=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,Or=null,kr=null,wr=!1;function jr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&br(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=Lr(Or,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<_r.length;xr++)At.set(_r[xr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ir(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Nr]||(e[Nr]=!0,u.forEach((function(t){Cr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Tt:case St:case It:s=On;break;case Nt:s=An;break;case"scroll":s=vn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=bn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var b=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?$n(o,m,n,i):(b&&b(e,u,r),"focusout"===e&&(b=u._wrapperState)&&b.controlled&&"number"===u.type&&ie(u,"number",u.value)),b=r?ii(r):window,e){case"focusin":(Gn(b)||"true"===b.contentEditable)&&(yr=b,Or=r,kr=null);break;case"focusout":kr=Or=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,jr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":jr(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(b=Lr(r,y)).length&&(y=new jn(y,e,null,n,i),o.push({event:y,listeners:b}),g?y.data=g:null!==(g=Wn(n))&&(y.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new jn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Sr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function yi(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function Oi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var ji=null,_i=null,xi=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Si=a.unstable_requestPaint,Ii=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Si?Si:function(){},Ui=null,Vi=null,qi=!1,Bi=Ii(),zi=1e4>Bi?Ii:function(){return Ii()-Bi};function Wi(){switch(Ni()){case Pi:return 99;case Ai:return 98;case Ri:return 97;case Di:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ai;case 97:return Ri;case 96:return Di;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),xi(e,t)}function Gi(e,t,n){return e=Hi(e),Ei(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}Qi()}function Qi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Pi,$i),n}finally{qi=!1}}}var Yi=k.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ya(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=bi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=bi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$s(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case j:return(t=Xs(t,e.mode,n)).return=e,t}if(wa(t)||B(t))return(t=$s(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case j:return n.key===i?l(e,t,n,r):null}if(wa(n)||B(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case j:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var b=d(i,f,u[v],s);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,v),null===l?c=b:l.sibling=b,l=b,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,b=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(b=v,v=null):b=v.sibling;var y=d(i,v,g.value,c);if(null===y){null===v&&(v=b);break}e&&v&&null===y.alternate&&t(i,v),u=a(y,u,m),null===f?l=y:f.sibling=y,f=y,v=b}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ja(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=$s(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=ja(e,r,a),s.return=e,e=s)}return u(e);case j:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(wa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=xa(!0),Ca=xa(!1),Ta={},Sa=ci(Ta),Ia=ci(Ta),Na=ci(Ta);function Pa(e){if(e===Ta)throw Error(o(174));return e}function Aa(e,t){switch(fi(Na,t),fi(Ia,e),fi(Sa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Sa),fi(Sa,t)}function Ra(){li(Sa),li(Ia),li(Na)}function Da(e){Pa(Na.current);var t=Pa(Sa.current),n=pe(t,e.type);t!==n&&(fi(Ia,e),fi(Sa,n))}function Ma(e){Ia.current===e&&(li(Sa),li(Ia))}var La=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,qa=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(qa){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=$r(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!qa)return Ha(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=$r(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,qa=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=k.ReactCurrentDispatcher,Xa=k.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ao:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Do,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Au;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=No.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=No.bind(null,Za,e),[t.memoizedState,e]}function bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function yo(){return so().memoizedState}function Oo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=bo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void bo(t,n,a,r)}Za.flags|=e,i.memoizedState=bo(1|t,n,a,r)}function wo(e,t){return Oo(516,4,e,t)}function jo(e,t){return ko(516,4,e,t)}function _o(e,t){return ko(4,2,e,t)}function xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,xo.bind(null,t,e),n)}function Co(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Io(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function No(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ao={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,2,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Co,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return wo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Io.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,bo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:To,useContext:oa,useEffect:jo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:So,useReducer:lo,useRef:yo,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return jo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[yo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:To,useContext:oa,useEffect:jo,useImperativeHandle:Eo,useLayoutEffect:_o,useMemo:So,useReducer:fo,useRef:yo,useState:function(){return fo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return jo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[yo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=k.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ws(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ws(t,e),null;t.memoizedState={baseLanes:0},ws(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ws(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=bi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(bi(n)){var a=!0;ki(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=bi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Oa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=bi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Oa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Aa(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(La,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=$s(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=$s(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Sa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Ir(Er[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,u),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ir("invalid",r);break;case"textarea":se(r,u),Ir("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),a=r;break;case"iframe":case"object":case"embed":Ir("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Ir(Er[a],e);a=r;break;case"source":Ir("error",e),a=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),a=r;break;case"details":Ir("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ir("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ir("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&be(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ir("scroll",e):null!=f&&O(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Na.current),Pa(Sa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Au||0===(134217727&qu)&&0===(134217727&Bu)||gs(Au,Du))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(La),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=La.current,fi(La,u?1&t|2:1&t),n):null;case 23:case 24:return js(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:bi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(La),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return js(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Sa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function bu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ls(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(ji,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ls(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:xu(e,t)}}function Ou(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ku(e){return 5===e.tag||3===e.tag||4===e.tag}function wu(e){e:{for(var t=e.return;null!==t;){if(ku(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ku(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ju(e,n,t):_u(e,n,t)}function ju(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ju(e,t,n),e=e.sibling;null!==e;)ju(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function xu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(yu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(yu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Eu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?be(n,s):"children"===u?ge(n,s):O(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=zi(),gu(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Tu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Su=Math.ceil,Iu=k.ReactCurrentDispatcher,Nu=k.ReactCurrentOwner,Pu=0,Au=null,Ru=null,Du=0,Mu=0,Lu=ci(0),Fu=0,Uu=null,Vu=0,qu=0,Bu=0,zu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=zi()+500}var $u,Qu=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Au&&(Bu|=t,4===Fu&&gs(e,Du));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ys(e):(ms(e,n),0===Pu&&(Gu(),$i())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Au?Du:0),t=Mt,0===r)null!==n&&(n!==Li&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ci(n)}15===t?(n=ys.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Pi,Qi)):Ui.push(n),n=Li):14===t?n=Gi(99,ys.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,bs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function bs(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ds()&&e.callbackNode!==t)return null;var n=Ft(e,e===Au?Du:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Es();for(Au===e&&Du===r||(Gu(),_s(e,r));;)try{Ss();break}catch(s){xs(e,s)}if(na(),Iu.current=a,Pu=i,null!==Ru?r=0:(Au=null,Du=0,r=Fu),0!==(Vu&Bu))_s(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cs(e,n))),1===r)throw t=Uu,_s(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Su(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?bs.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&Pu))throw Error(o(327));if(Ds(),e===Au&&0!==(e.expiredLanes&Du)){var t=Du,n=Cs(e,t);0!==(Vu&Bu)&&(n=Cs(e,t=Ft(e,t)))}else n=Cs(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cs(e,t))),1===n)throw n=Uu,_s(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,zi()),null}function Os(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function ks(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function ws(e,t){fi(Lu,Mu),Mu|=t,Vu|=t}function js(){Mu=Lu.current,li(Lu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(La);break;case 10:ra(r);break;case 23:case 24:js()}n=n.return}Au=e,Ru=Ks(e.current,null),Du=Mu=Vu=t,Fu=0,Uu=null,zu=Bu=qu=0}function xs(e,t){for(;;){var n=Ru;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Nu.current=null,null===n||null===n.return){Fu=1,Uu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Du,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&La.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var b=new Set;b.add(c),h.updateQueue=b}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new fu,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(u)){s.add(u);var O=qs.bind(null,a,c,u);c.then(O,O)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var k=h.type,w=h.stateNode;if(0===(64&h.flags)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ju||!Ju.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ns(n)}catch(j){t=j,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Es(){var e=Iu.current;return Iu.current=Po,null===e?Po:e}function Cs(e,t){var n=Pu;Pu|=16;var r=Es();for(Au===e&&Du===t||_s(e,t);;)try{Ts();break}catch(i){xs(e,i)}if(na(),Pu=n,Iu.current=r,null!==Ru)throw Error(o(261));return Au=null,Du=0,Fu}function Ts(){for(;null!==Ru;)Is(Ru)}function Ss(){for(;null!==Ru&&!Ti();)Is(Ru)}function Is(e){var t=$u(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ns(e):Ru=t,Nu.current=null}function Ns(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ps(e){var t=Wi();return Ki(99,As.bind(null,e,t)),null}function As(e,t){do{Ds()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Au&&(Ru=Au=null,Du=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Nu.current=null,qr=Qt,br(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,b=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)b=m,m=g;for(;;){if(m===u)break t;if(b===s&&++p===a&&(h=f),b===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;b=(m=b).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Rs()}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var y=Qu.flags;if(16&y&&ge(Qu.stateNode,""),128&y){var O=Qu.alternate;if(null!==O){var k=O.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&y){case 2:wu(Qu),Qu.flags&=-3;break;case 6:wu(Qu),Qu.flags&=-3,Eu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Eu(Qu.alternate,Qu);break;case 4:Eu(Qu.alternate,Qu);break;case 8:xu(u,s=Qu);var w=s.alternate;Ou(s),null!==w&&Ou(w)}Qu=Qu.nextEffect}}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);if(k=Br,O=mr(),y=k.focusedElem,u=k.selectionRange,O!==y&&y&&y.ownerDocument&&vr(y.ownerDocument.documentElement,y)){null!==u&&br(y)&&(O=u.start,void 0===(k=u.end)&&(k=O),"selectionStart"in y?(y.selectionStart=O,y.selectionEnd=Math.min(k,y.value.length)):(k=(O=y.ownerDocument||document)&&O.defaultView||window).getSelection&&(k=k.getSelection(),s=y.textContent.length,w=Math.min(u.start,s),u=void 0===u.end?w:Math.min(u.end,s),!k.extend&&w>u&&(s=u,u=w,w=s),s=pr(y,w),a=pr(y,u),s&&a&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((O=O.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),w>u?(k.addRange(O),k.extend(a.node,a.offset)):(O.setEnd(a.node,a.offset),k.addRange(O))))),O=[];for(k=y;k=k.parentNode;)1===k.nodeType&&O.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<O.length;y++)(k=O[y]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Qt=!!qr,Br=qr=null,e.current=n,Qu=r;do{try{for(y=e;null!==Qu;){var j=Qu.flags;if(36&j&&bu(y,Qu.alternate,Qu),128&j){O=void 0;var _=Qu.ref;if(null!==_){var x=Qu.stateNode;Qu.tag,O=x,"function"===typeof _?_(O):_.current=O}}Qu=Qu.nextEffect}}catch(E){if(null===Qu)throw Error(o(330));Vs(Qu,E),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Fi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((j=Qu).sibling=null,j.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(ji,n,void 0,64===(64&n.current.flags))}catch(E){}if(ms(e,zi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||$i(),null}function Rs(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Tu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ds(),null}))),Qu=Qu.nextEffect}}function Ds(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ds(),null})))}function Ls(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ds(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,$i(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Du&n)===n&&(4===Fu||3===Fu&&(62914560&Du)===Du&&500>zi()-Hu?_s(e,0):zu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return $s(n.children,i,a,t);case M:u=8,i|=16;break;case x:u=8,i|=1;break;case E:return(e=Ws(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case I:return(e=Ws(13,n,t,i)).type=I,e.elementType=I,e.lanes=a,e;case N:return(e=Ws(19,n,t,i)).elementType=N,e.lanes=a,e;case L:return Qs(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case S:u=11;break e;case P:u=14;break e;case A:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $s(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=L,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(bi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=Oi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ks((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:bi(t.type)&&ki(t);break;case 4:Aa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(La,1&La.current),null!==(t=au(e,t,n))?t.sibling:null);fi(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ba,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Aa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bi(r)?(e=!0,ki(t)):e=!1,aa(t,n),ya(t,r,i),ka(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=Os,Re=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),$i())}},De=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}$i()}(),Ds())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}};var sc={Events:[ri,ii,ai,Ne,Pe,Ds,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ji=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ks((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=Os,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(130),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var y=g.prototype=new b;y.constructor=g,r(y,m.prototype),y.isPureReactComponent=!0;var O={current:null},k=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:O.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=C(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function N(){var e=I.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=O.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(176)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,b=null,g=-1,y=5,O=0;t.unstable_shouldYield=function(){return t.unstable_now()>=O},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();O=e+y;try{b(!0,e)?w.postMessage(null):(m=!1,b=null)}catch(n){throw w.postMessage(null),n}}else m=!1},r=function(e){b=e,m||(m=!0,w.postMessage(null))},i=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function j(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],T=[],S=1,I=null,N=3,P=!1,A=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,j(C,t)}t=_(T)}}function M(e){if(R=!1,D(e),!A)if(null!==_(C))A=!0,r(L);else{var t=_(T);null!==t&&i(M,t.startTime-e)}}function L(e,n){A=!1,R&&(R=!1,a()),P=!0;var r=N;try{for(D(n),I=_(C);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=I.callback;if("function"===typeof o){I.callback=null,N=I.priorityLevel;var u=o(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===_(C)&&x(C),D(n)}else x(C);I=_(C)}if(null!==I)var s=!0;else{var c=_(T);null!==c&&i(M,c.startTime-n),s=!1}return s}finally{I=null,N=r,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||P||(A=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(C)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,j(T,e),null===_(C)&&e===_(T)&&(R?a():R=!0,i(M,o-u))):(e.sortIndex=s,j(C,e),A||P||(A=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){"use strict";n.p},function(e,t,n){"use strict";var r,i=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case f:case l:case h:case m:case v:case c:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=d,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===v},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===u},t.isSuspense=function(e){return g(e)===d},t.isSuspenseList=function(e){return g(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===u||e===d||e===p||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=g},function(e,t,n){"use strict";e.exports=n(180)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case b:case m:case c:return e;default:return t}}case a:return t}}}function j(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=b,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===O||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},function(e,t,n){"use strict";n(130);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";(function(e){var t=n(1),r=n(3),i=n(4),a=n(6),o=n(29),u=n(17),s=n(20),c=n(2);function l(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.w)();return!("file:"!==l()&&"ionic:"!==l()&&"capacitor:"!==l()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function h(){return Object(c.B)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.w)();return/Edge\/\d+/.test(e)}function p(){try{var e=self.localStorage,t=u.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.w)();return h()||d(e)}()||Object(c.C)()}catch(n){return v()&&Object(c.C)()}return!1}function v(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function m(){return("http:"===l()||"https:"===l()||Object(c.z)()||f())&&!(Object(c.G)()||Object(c.E)())&&p()&&!v()}function b(){return f()&&"undefined"!==typeof document}function g(){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(Object(t.a)().mark((function e(){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={LOCAL:"local",NONE:"none",SESSION:"session"},k=u.p,w="persistence";function j(e,t){k(Object.values(O).includes(t),e,"invalid-persistence-type"),Object(c.G)()?k(t!==O.SESSION,e,"unsupported-persistence-type"):Object(c.E)()?k(t===O.NONE,e,"unsupported-persistence-type"):v()?k(t===O.NONE||t===O.LOCAL&&Object(c.C)(),e,"unsupported-persistence-type"):k(t===O.NONE||p(),e,"unsupported-persistence-type")}function _(e){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(Object(t.a)().mark((function e(n){var r,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._initializationPromise;case 2:r=E(),i=u.w(w,n.config.apiKey,n.name),r&&r.setItem(i,n._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var C=u.p,T=function(){function e(){Object(r.a)(this,e),this.browserResolver=u.t(u.A),this.cordovaResolver=u.t(u.F),this.underlyingResolver=null,this._redirectPersistence=u.B,this._completeRedirectFn=u.u,this._overrideRedirectResult=u.v}return Object(i.a)(e,[{key:"_initialize",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(n));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r,i,a){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(n,r,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r,i,a){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(n,r,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return b()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return C(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(){var n;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g();case 4:n=e.sent,this.underlyingResolver=n?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function S(e){return e.unwrap()}function I(e){var t=(e instanceof c.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof c.c)&&"temporaryProof"in t&&"phoneNumber"in t)return u.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===u.k.PASSWORD)return null;switch(r){case u.k.GOOGLE:n=u.f;break;case u.k.FACEBOOK:n=u.d;break;case u.k.GITHUB:n=u.e;break;case u.k.TWITTER:n=u.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,l=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?u.m._create(r,s):u.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new u.h(r).credential({idToken:i,accessToken:a,rawNonce:l}):null}return e instanceof c.c?n.credentialFromError(e):n.credentialFromResult(e)}function N(e,t){return t.catch((function(t){throw t instanceof c.c&&function(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new R(e,u.K(e,t));else if(i){var a=I(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,I(t)),additionalUserInfo:u.J(e),user:D.getOrCreate(r)}}))}function P(e,t){return A.apply(this,arguments)}function A(){return(A=Object(a.a)(Object(t.a)().mark((function e(n,r){var i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return N(n,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){function e(t,n){Object(r.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(i.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return N(S(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),D=function(){function e(t){Object(r.a)(this,e),this._delegate=t,this.multiFactor=u.T(t)}return Object(i.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.P(this._delegate,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,u.Q(this._delegate,n,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.R(this._delegate,n,T)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(u.q(this.auth));case 2:return e.abrupt("return",u.S(this._delegate,n,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.U(this._delegate,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return P(this.auth,u.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return N(this.auth,u.W(this._delegate,e,T))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(u.q(this.auth));case 2:return e.abrupt("return",u.X(this._delegate,n,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return u.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.jb(this._delegate,n);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return u.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return u.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return u.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return u.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return u.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();D.USER_MAP=new WeakMap;var M=u.p,L=function(){function e(t,n){if(Object(r.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var i=t.options.apiKey;M(i,"invalid-api-key",{appName:t.name}),M(i,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?T:void 0;this._delegate=n.initialize({options:{persistence:U(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(u.H),this.linkUnderlyingAuth()}return Object(i.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?D.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return u.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return u.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this._delegate,u.G(this._delegate,n,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return u.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return u.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(){var n;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,u.L(this._delegate,T);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",N(this._delegate,Promise.resolve(n)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){u.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=F(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=F(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return u.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return u.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){var r,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,n),e.t0=n,e.next=e.t0===O.SESSION?4:e.t0===O.LOCAL?6:e.t0===O.NONE?11:13;break;case 4:return r=u.B,e.abrupt("break",14);case 6:return e.next=8,u.t(u.N)._isAvailable();case 8:return i=e.sent,r=i?u.N:u.z,e.abrupt("break",14);case 11:return r=u.M,e.abrupt("break",14);case 13:return e.abrupt("return",u.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(r));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return N(this._delegate,u.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return N(this._delegate,u.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return N(this._delegate,u.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return N(this._delegate,u.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return N(this._delegate,u.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return P(this._delegate,u.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",N(this._delegate,u.hb(this._delegate,n,T)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(m(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_(this._delegate);case 3:return e.abrupt("return",u.ib(this._delegate,n,T));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return u.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function F(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&D.getOrCreate(e))},error:t,complete:n}}function U(e,t){var n=function(e,t){var n=E();if(!n)return[];var r=u.w(w,e,t);switch(n.getItem(r)){case O.NONE:return[u.M];case O.LOCAL:return[u.N,u.B];case O.SESSION:return[u.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(u.N)||n.push(u.N),"undefined"!==typeof window)for(var r=0,i=[u.z,u.B];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(u.M)||n.push(u.M),n}L.Persistence=O;var V=function(){function e(){Object(r.a)(this,e),this.providerId="phone",this._delegate=new u.i(S(o.a.auth()))}return Object(i.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return u.i.credential(e,t)}}]),e}();V.PHONE_SIGN_IN_METHOD=u.i.PHONE_SIGN_IN_METHOD,V.PROVIDER_ID=u.i.PROVIDER_ID;var q,B=u.p,z=function(){function e(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a.app();Object(r.a)(this,e),B(null===(i=a.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new u.l(t,n,a.auth()),this.type=this._delegate.type}return Object(i.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(q=o.a).INTERNAL.registerComponent(new s.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new L(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.a.EMAIL_SIGNIN,PASSWORD_RESET:u.a.PASSWORD_RESET,RECOVER_EMAIL:u.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.a.VERIFY_EMAIL}},EmailAuthProvider:u.c,FacebookAuthProvider:u.d,GithubAuthProvider:u.e,GoogleAuthProvider:u.f,OAuthProvider:u.h,SAMLAuthProvider:u.n,PhoneAuthProvider:V,PhoneMultiFactorGenerator:u.j,RecaptchaVerifier:z,TwitterAuthProvider:u.o,Auth:L,AuthCredential:u.b,Error:c.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.20")}).call(this,n(79))},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case b:case m:case c:return e;default:return t}}case a:return t}}}function j(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=b,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===O||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},function(e,t,n){"use strict";var r=n(185);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(188)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case b:case m:case c:return e;default:return t}}case a:return t}}}function j(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=b,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===O||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},function(e,t,n){var r=n(190),i=n(102);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},function(e,t,n){var r=n(191),i=n(151),a=n(225),o=n(229),u=n(251),s=n(133),c=n(152),l=n(154),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,b){var g=s(e),y=s(t),O=g?h:u(e),k=y?h:u(t),w=(O=O==f?d:O)==d,j=(k=k==f?d:k)==d,_=O==k;if(_&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(_&&!w)return b||(b=new r),g||l(e)?i(e,t,n,v,m,b):a(e,t,O,n,v,m,b);if(!(1&n)){var x=w&&p.call(e,"__wrapped__"),E=j&&p.call(t,"__wrapped__");if(x||E){var C=x?e.value():e,T=E?t.value():t;return b||(b=new r),m(C,T,n,v,b)}}return!!_&&(b||(b=new r),o(e,t,n,v,m,b))}},function(e,t,n){var r=n(105),i=n(197),a=n(198),o=n(199),u=n(200),s=n(201);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(106),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(106);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(106);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(106);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(105);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(105),i=n(131),a=n(150);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(147),i=n(205),a=n(141),o=n(149),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},function(e,t,n){var r=n(132),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(206),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(61)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(209),i=n(105),a=n(131);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(e,t,n){var r=n(210),i=n(211),a=n(212),o=n(213),u=n(214);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(107);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(107),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(107),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(107);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(108);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(108);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(108);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(108);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(150),i=n(221),a=n(222);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(132),i=n(226),a=n(146),o=n(151),u=n(227),s=n(228),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t,n){var r=n(61).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(230),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var b=e[h=c[f]],g=t[h];if(a)var y=s?a(g,b,h,t,e,u):a(b,g,h,e,t,u);if(!(void 0===y?b===g||o(b,g,n,a,u):y)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var O=e.constructor,k=t.constructor;O==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof k&&k instanceof k||(v=!1)}return u.delete(e),u.delete(t),v}},function(e,t,n){var r=n(231),i=n(233),a=n(236);e.exports=function(e){return r(e,a,i)}},function(e,t,n){var r=n(232),i=n(133);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(234),i=n(235),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(237),i=n(246),a=n(250);e.exports=function(e){return a(e)?r(e):i(e)}},function(e,t,n){var r=n(238),i=n(239),a=n(133),o=n(152),u=n(242),s=n(154),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(240),i=n(102),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,n){var r=n(101),i=n(102);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(101),i=n(155),a=n(102),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(148),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u}).call(this,n(153)(e))},function(e,t,n){var r=n(247),i=n(248),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(249)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(147),i=n(155);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(252),i=n(131),a=n(253),o=n(254),u=n(255),s=n(101),c=n(149),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),b=c(a),g=c(o),y=c(u),O=s;(r&&O(new r(new ArrayBuffer(1)))!=p||i&&O(new i)!=l||a&&O(a.resolve())!=f||o&&O(new o)!=h||u&&O(new u)!=d)&&(O=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case b:return f;case g:return h;case y:return d}return t}),e.exports=O},function(e,t,n){var r=n(80)(n(61),"DataView");e.exports=r},function(e,t,n){var r=n(80)(n(61),"Promise");e.exports=r},function(e,t,n){var r=n(80)(n(61),"Set");e.exports=r},function(e,t,n){var r=n(80)(n(61),"WeakMap");e.exports=r},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";var r,i=n(7),a=n(5),o=n(21),u=n(9),s=n(11),c=n.n(s),l=n(0),f=n(65),h=n(42),d=(n(142),function(){if(!Object(h.a)()||!window.document.documentElement)return!1;if(void 0!==r)return r;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),r=1===e.scrollHeight,document.body.removeChild(e),r}),p=n(94),v=n(57),m=n(124),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},g=(Object(v.a)("top","middle","bottom","stretch"),Object(v.a)("start","end","center","space-around","space-between","space-evenly"),l.forwardRef((function(e,t){var n,r=e.prefixCls,s=e.justify,h=e.align,v=e.className,g=e.style,y=e.children,O=e.gutter,k=void 0===O?0:O,w=e.wrap,j=b(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),_=l.useContext(f.b),x=_.getPrefixCls,E=_.direction,C=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),T=Object(u.a)(C,2),S=T[0],I=T[1],N=function(){var e=l.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return l.useEffect((function(){r(d())}),[]),n}(),P=l.useRef(k);l.useEffect((function(){var e=p.a.subscribe((function(e){var t=P.current||0;(!Array.isArray(t)&&"object"===Object(o.a)(t)||Array.isArray(t)&&("object"===Object(o.a)(t[0])||"object"===Object(o.a)(t[1])))&&I(e)}));return function(){return p.a.unsubscribe(e)}}),[]);var A=x("row",r),R=function(){var e=[void 0,void 0];return(Array.isArray(k)?k:[k,void 0]).forEach((function(t,n){if("object"===Object(o.a)(t))for(var r=0;r<p.b.length;r++){var i=p.b[r];if(S[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),D=c()(A,(n={},Object(a.a)(n,"".concat(A,"-no-wrap"),!1===w),Object(a.a)(n,"".concat(A,"-").concat(s),s),Object(a.a)(n,"".concat(A,"-").concat(h),h),Object(a.a)(n,"".concat(A,"-rtl"),"rtl"===E),n),v),M={},L=null!=R[0]&&R[0]>0?R[0]/-2:void 0,F=null!=R[1]&&R[1]>0?R[1]/-2:void 0;if(L&&(M.marginLeft=L,M.marginRight=L),N){var U=Object(u.a)(R,2);M.rowGap=U[1]}else F&&(M.marginTop=F,M.marginBottom=F);var V=Object(u.a)(R,2),q=V[0],B=V[1],z=l.useMemo((function(){return{gutter:[q,B],wrap:w,supportFlexGap:N}}),[q,B,w,N]);return l.createElement(m.a.Provider,{value:z},l.createElement("div",Object(i.a)({},j,{className:D,style:Object(i.a)(Object(i.a)({},M),g),ref:t}),y))})));t.a=g},function(e,t,n){"use strict";var r=n(3),i=n(4),a=n(12),o=n(13),u=n(7),s=n(114),c=n(11),l=n.n(c),f=n(48),h=n(89),d=n(34),p=n(0),v=n(65),m=n(86),b=n(62),g=n(39),y=n(21),O=n(5),k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},w=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,i=k(e,["prefixCls","className","dashed"]),a=(0,p.useContext(v.b).getPrefixCls)("menu",t),o=l()(Object(O.a)({},"".concat(a,"-item-divider-dashed"),!!r),n);return p.createElement(f.a,Object(u.a)({className:o},i))},j=n(58),_=n(103),x=Object(p.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},C=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,i=t.siderCollapsed,a=e.context,o=a.prefixCls,s=a.firstLevel,c=a.inlineCollapsed,h=a.direction,d=a.disableMenuItemTitleTooltip,v=e.props,m=v.className,b=v.children,y=e.props,k=y.title,w=y.icon,x=y.danger,C=E(y,["title","icon","danger"]),T=k;"undefined"===typeof k?T=s?b:"":!1===k&&(T="");var S={title:T};i||c||(S.title=null,S.open=!1);var I=Object(j.a)(b).length,N=p.createElement(f.b,Object(u.a)({},C,{className:l()((n={},Object(O.a)(n,"".concat(o,"-item-danger"),x),Object(O.a)(n,"".concat(o,"-item-only-child"),1===(w?I+1:I)),n),m),title:"string"===typeof k?k:void 0}),Object(g.a)(w,{className:l()(Object(g.c)(w)?null===(r=w.props)||void 0===r?void 0:r.className:"","".concat(o,"-item-icon"))}),e.renderItemChildren(c));return d||(N=p.createElement(_.a,Object(u.a)({},S,{placement:"rtl"===h?"left":"right",overlayClassName:"".concat(o,"-inline-collapsed-tooltip")}),N)),N},e}return Object(i.a)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,i=this.props,a=i.icon,o=i.children,u=p.createElement("span",{className:"".concat(n,"-title-content")},o);return(!a||Object(g.c)(o)&&"span"===o.type)&&o&&e&&r&&"string"===typeof o?p.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},o.charAt(0)):u}},{key:"render",value:function(){return p.createElement(m.a.Consumer,null,this.renderItem)}}]),n}(p.Component);C.contextType=x;var T=function(e){var t,n,r=e.popupClassName,i=e.icon,a=e.title,o=e.theme,s=p.useContext(x),c=s.prefixCls,h=s.inlineCollapsed,v=s.antdMenuTheme,m=Object(f.h)();if(i){var b=Object(g.c)(a)&&"span"===a.type;n=p.createElement(p.Fragment,null,Object(g.a)(i,{className:l()(Object(g.c)(i)?null===(t=i.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),b?a:p.createElement("span",{className:"".concat(c,"-title-content")},a))}else n=h&&!m.length&&a&&"string"===typeof a?p.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},a.charAt(0)):p.createElement("span",{className:"".concat(c,"-title-content")},a);var y=p.useMemo((function(){return Object(u.a)(Object(u.a)({},s),{firstLevel:!1})}),[s]);return p.createElement(x.Provider,{value:y},p.createElement(f.f,Object(u.a)({},Object(d.a)(e,["icon"]),{title:n,popupClassName:l()(c,"".concat(c,"-").concat(o||v),r)})))},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function I(e){return(e||[]).map((function(e,t){if(e&&"object"===Object(y.a)(e)){var n=e,r=n.label,i=n.children,a=n.key,o=n.type,s=S(n,["label","children","key","type"]),c=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?p.createElement(f.c,Object(u.a)({key:c},s,{title:r}),I(i)):p.createElement(T,Object(u.a)({key:c},s,{title:r}),I(i)):"divider"===o?p.createElement(w,Object(u.a)({key:c},s)):p.createElement(C,Object(u.a)({key:c},s),r)}return null})).filter((function(e){return e}))}function N(e){return p.useMemo((function(){return e?I(e):e}),[e])}var P=n(134),A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},R=Object(p.forwardRef)((function(e,t){var n,r=p.useContext(P.b)||{},i=p.useContext(v.b),a=i.getPrefixCls,o=i.getPopupContainer,c=i.direction,m=a(),y=e.prefixCls,O=e.className,k=e.theme,w=void 0===k?"light":k,j=e.expandIcon,_=e._internalDisableMenuItemTitleTooltip,E=e.inlineCollapsed,C=e.siderCollapsed,T=e.items,S=e.children,I=e.mode,R=e.selectable,D=e.onClick,M=A(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),L=Object(d.a)(M,["collapsedWidth"]),F=N(T)||S;null===(n=r.validator)||void 0===n||n.call(r,{mode:I});var U,V=Object(h.a)((function(){var e;null===D||void 0===D||D.apply(void 0,arguments),null===(e=null===r||void 0===r?void 0:r.onClick)||void 0===e||e.call(r)})),q=r.mode||I,B=null!==R&&void 0!==R?R:r.selectable,z=p.useMemo((function(){return void 0!==C?C:E}),[E,C]),W={horizontal:{motionName:"".concat(m,"-slide-up")},inline:b.a,other:{motionName:"".concat(m,"-zoom-big")}},H=a("menu",y||r.prefixCls),K=l()("".concat(H,"-").concat(w),O);U="function"===typeof j?j:Object(g.a)(j||r.expandIcon,{className:"".concat(H,"-submenu-expand-icon")});var G=p.useMemo((function(){return{prefixCls:H,inlineCollapsed:z||!1,antdMenuTheme:w,direction:c,firstLevel:!0,disableMenuItemTitleTooltip:_}}),[H,z,w,c,_]);return p.createElement(P.b.Provider,{value:null},p.createElement(x.Provider,{value:G},p.createElement(f.g,Object(u.a)({getPopupContainer:o,overflowedIndicator:p.createElement(s.a,null),overflowedIndicatorPopupClassName:"".concat(H,"-").concat(w),mode:q,selectable:B,onClick:V},L,{inlineCollapsed:z,className:K,prefixCls:H,direction:c,defaultMotions:W,expandIcon:U,ref:t}),F)))})),D=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return p.createElement(m.a.Consumer,null,(function(t){return p.createElement(R,Object(u.a)({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(p.Component);D.Divider=w,D.Item=C,D.SubMenu=T,D.ItemGroup=f.c;t.a=D},function(e,t,n){"use strict";var r=n(7),i=n(5),a=n(9),o=n(11),u=n.n(o),s=n(51),c=n(0),l=n(65),f=n(54);var h=c.createContext(null),d=h.Provider,p=h,v=c.createContext(null),m=v.Provider,b=n(125),g=n(40),y=n(60),O=n(28),k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},w=function(e,t){var n,a=c.useContext(p),o=c.useContext(v),s=c.useContext(l.b),f=s.getPrefixCls,h=s.direction,d=c.useRef(),m=Object(g.a)(t,d),w=Object(c.useContext)(O.b).isFormItemInput,j=e.prefixCls,_=e.className,x=e.children,E=e.style,C=e.disabled,T=k(e,["prefixCls","className","children","style","disabled"]),S=f("radio",j),I="button"===((null===a||void 0===a?void 0:a.optionType)||o)?"".concat(S,"-button"):S,N=Object(r.a)({},T),P=c.useContext(y.b);N.disabled=C||P,a&&(N.name=a.name,N.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===a||void 0===a?void 0:a.onChange)||void 0===r||r.call(a,t)},N.checked=e.value===a.value,N.disabled=N.disabled||a.disabled);var A=u()("".concat(I,"-wrapper"),(n={},Object(i.a)(n,"".concat(I,"-wrapper-checked"),N.checked),Object(i.a)(n,"".concat(I,"-wrapper-disabled"),N.disabled),Object(i.a)(n,"".concat(I,"-wrapper-rtl"),"rtl"===h),Object(i.a)(n,"".concat(I,"-wrapper-in-form-item"),w),n),_);return c.createElement("label",{className:A,style:E,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},c.createElement(b.a,Object(r.a)({},N,{type:"radio",prefixCls:I,ref:m})),void 0!==x?c.createElement("span",null,x):null)};var j=c.forwardRef(w),_=c.forwardRef((function(e,t){var n,o=c.useContext(l.b),h=o.getPrefixCls,p=o.direction,v=c.useContext(f.b),m=Object(s.a)(e.defaultValue,{value:e.value}),b=Object(a.a)(m,2),g=b[0],y=b[1],O=e.prefixCls,k=e.className,w=void 0===k?"":k,_=e.options,x=e.buttonStyle,E=void 0===x?"outline":x,C=e.disabled,T=e.children,S=e.size,I=e.style,N=e.id,P=e.onMouseEnter,A=e.onMouseLeave,R=e.onFocus,D=e.onBlur,M=h("radio",O),L="".concat(M,"-group"),F=T;_&&_.length>0&&(F=_.map((function(e){return"string"===typeof e||"number"===typeof e?c.createElement(j,{key:e.toString(),prefixCls:M,disabled:C,value:e,checked:g===e},e):c.createElement(j,{key:"radio-group-value-options-".concat(e.value),prefixCls:M,disabled:e.disabled||C,value:e.value,checked:g===e.value,style:e.style},e.label)})));var U=S||v,V=u()(L,"".concat(L,"-").concat(E),(n={},Object(i.a)(n,"".concat(L,"-").concat(U),U),Object(i.a)(n,"".concat(L,"-rtl"),"rtl"===p),n),w);return c.createElement("div",Object(r.a)({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(e),{className:V,style:I,onMouseEnter:P,onMouseLeave:A,onFocus:R,onBlur:D,id:N,ref:t}),c.createElement(d,{value:{onChange:function(t){var n=g,r=t.target.value;"value"in e||y(r);var i=e.onChange;i&&r!==n&&i(t)},value:g,disabled:e.disabled,name:e.name,optionType:e.optionType}},F))})),x=c.memo(_),E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},C=function(e,t){var n=c.useContext(l.b).getPrefixCls,i=e.prefixCls,a=E(e,["prefixCls"]),o=n("radio",i);return c.createElement(m,{value:"button"},c.createElement(j,Object(r.a)({prefixCls:o},a,{type:"radio",ref:t})))},T=c.forwardRef(C),S=j;S.Button=T,S.Group=x,S.__ANT_RADIO=!0;t.a=S},function(e,t,n){"use strict";var r=n(5),i=n(7),a=n(11),o=n.n(a),u=n(125),s=n(0),c=n(65),l=n(28),f=n(15),h=n(9),d=n(34),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},v=s.createContext(null),m=function(e,t){var n=e.defaultValue,a=e.children,u=e.options,l=void 0===u?[]:u,m=e.prefixCls,b=e.className,g=e.style,y=e.onChange,O=p(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),k=s.useContext(c.b),j=k.getPrefixCls,_=k.direction,x=s.useState(O.value||n||[]),E=Object(h.a)(x,2),C=E[0],T=E[1],S=s.useState([]),I=Object(h.a)(S,2),N=I[0],P=I[1];s.useEffect((function(){"value"in O&&T(O.value||[])}),[O.value]);var A=function(){return l.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},R=j("checkbox",m),D="".concat(R,"-group"),M=Object(d.a)(O,["value","disabled"]);l&&l.length>0&&(a=A().map((function(e){return s.createElement(w,{prefixCls:R,key:e.value.toString(),disabled:"disabled"in e?e.disabled:O.disabled,value:e.value,checked:-1!==C.indexOf(e.value),onChange:e.onChange,className:"".concat(D,"-item"),style:e.style},e.label)})));var L={toggleOption:function(e){var t=C.indexOf(e.value),n=Object(f.a)(C);-1===t?n.push(e.value):n.splice(t,1),"value"in O||T(n);var r=A();null===y||void 0===y||y(n.filter((function(e){return-1!==N.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:C,disabled:O.disabled,name:O.name,registerValue:function(e){P((function(t){return[].concat(Object(f.a)(t),[e])}))},cancelValue:function(e){P((function(t){return t.filter((function(t){return t!==e}))}))}},F=o()(D,Object(r.a)({},"".concat(D,"-rtl"),"rtl"===_),b);return s.createElement("div",Object(i.a)({className:F,style:g},M,{ref:t}),s.createElement(v.Provider,{value:L},a))},b=s.forwardRef(m),g=s.memo(b),y=n(60),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},k=function(e,t){var n,a=e.prefixCls,f=e.className,h=e.children,d=e.indeterminate,p=void 0!==d&&d,m=e.style,b=e.onMouseEnter,g=e.onMouseLeave,k=e.skipGroup,w=void 0!==k&&k,j=e.disabled,_=O(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),x=s.useContext(c.b),E=x.getPrefixCls,C=x.direction,T=s.useContext(v),S=Object(s.useContext)(l.b).isFormItemInput,I=Object(s.useContext)(y.b),N=j||(null===T||void 0===T?void 0:T.disabled)||I,P=s.useRef(_.value);s.useEffect((function(){null===T||void 0===T||T.registerValue(_.value)}),[]),s.useEffect((function(){if(!w)return _.value!==P.current&&(null===T||void 0===T||T.cancelValue(P.current),null===T||void 0===T||T.registerValue(_.value),P.current=_.value),function(){return null===T||void 0===T?void 0:T.cancelValue(_.value)}}),[_.value]);var A=E("checkbox",a),R=Object(i.a)({},_);T&&!w&&(R.onChange=function(){_.onChange&&_.onChange.apply(_,arguments),T.toggleOption&&T.toggleOption({label:h,value:_.value})},R.name=T.name,R.checked=-1!==T.value.indexOf(_.value));var D=o()((n={},Object(r.a)(n,"".concat(A,"-wrapper"),!0),Object(r.a)(n,"".concat(A,"-rtl"),"rtl"===C),Object(r.a)(n,"".concat(A,"-wrapper-checked"),R.checked),Object(r.a)(n,"".concat(A,"-wrapper-disabled"),N),Object(r.a)(n,"".concat(A,"-wrapper-in-form-item"),S),n),f),M=o()(Object(r.a)({},"".concat(A,"-indeterminate"),p)),L=p?"mixed":void 0;return s.createElement("label",{className:D,style:m,onMouseEnter:b,onMouseLeave:g},s.createElement(u.a,Object(i.a)({"aria-checked":L},R,{prefixCls:A,className:M,disabled:N,ref:t})),void 0!==h&&s.createElement("span",null,h))};var w=s.forwardRef(k),j=w;j.Group=g,j.__ANT_CHECKBOX=!0;t.a=j},,,function(e,t,n){"use strict";var r=n(74),i=n(86),a=r.e;a.Header=r.c,a.Footer=r.b,a.Content=r.a,a.Sider=i.b,t.a=a},function(e,t,n){"use strict";var r=n(264);t.a=r.a},function(e,t,n){"use strict";var r=n(95);t.a=r.a},function(e,t,n){"use strict";var r=n(5),i=n(7),a=n(11),o=n.n(a),u=n(34),s=n(0),c=n.n(s),l=n(65),f=n(54),h=n(21),d=function(e){var t,n,a=e.prefixCls,u=e.className,c=e.style,l=e.size,f=e.shape,h=o()((t={},Object(r.a)(t,"".concat(a,"-lg"),"large"===l),Object(r.a)(t,"".concat(a,"-sm"),"small"===l),t)),d=o()((n={},Object(r.a)(n,"".concat(a,"-circle"),"circle"===f),Object(r.a)(n,"".concat(a,"-square"),"square"===f),Object(r.a)(n,"".concat(a,"-round"),"round"===f),n)),p="number"===typeof l?{width:l,height:l,lineHeight:"".concat(l,"px")}:{};return s.createElement("span",{className:o()(a,h,d,u),style:Object(i.a)(Object(i.a)({},p),c)})},p=function(e){var t=e.prefixCls,n=e.className,a=e.active,c=(0,s.useContext(l.b).getPrefixCls)("skeleton",t),f=Object(u.a)(e,["prefixCls","className"]),h=o()(c,"".concat(c,"-element"),Object(r.a)({},"".concat(c,"-active"),a),n);return s.createElement("div",{className:h},s.createElement(d,Object(i.a)({prefixCls:"".concat(c,"-avatar")},f)))};p.defaultProps={size:"default",shape:"circle"};var v=p,m=function(e){var t,n=e.prefixCls,a=e.className,c=e.active,f=e.block,h=void 0!==f&&f,p=(0,s.useContext(l.b).getPrefixCls)("skeleton",n),v=Object(u.a)(e,["prefixCls"]),m=o()(p,"".concat(p,"-element"),(t={},Object(r.a)(t,"".concat(p,"-active"),c),Object(r.a)(t,"".concat(p,"-block"),h),t),a);return s.createElement("div",{className:m},s.createElement(d,Object(i.a)({prefixCls:"".concat(p,"-button")},v)))};m.defaultProps={size:"default"};var b=m,g=n(8),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},O=n(26),k=function(e,t){return s.createElement(O.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:y}))};k.displayName="DotChartOutlined";var w=s.forwardRef(k),j=function(e){var t,n=e.prefixCls,i=e.className,a=e.style,u=e.active,c=(0,s.useContext(l.b).getPrefixCls)("skeleton",n),f=o()(c,"".concat(c,"-element"),Object(r.a)({},"".concat(c,"-active"),u),i),h=null!==(t=e.children)&&void 0!==t?t:s.createElement(w,null);return s.createElement("div",{className:f},s.createElement("div",{className:o()("".concat(c,"-image"),i),style:a},h))},_=function(e){var t=e.prefixCls,n=e.className,i=e.style,a=e.active,u=(0,s.useContext(l.b).getPrefixCls)("skeleton",t),c=o()(u,"".concat(u,"-element"),Object(r.a)({},"".concat(u,"-active"),a),n);return s.createElement("div",{className:c},s.createElement("div",{className:o()("".concat(u,"-image"),n),style:i},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(u,"-image-svg")},s.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(u,"-image-path")}))))},x=function(e){var t,n=e.prefixCls,a=e.className,c=e.active,f=e.block,h=(0,s.useContext(l.b).getPrefixCls)("skeleton",n),p=Object(u.a)(e,["prefixCls"]),v=o()(h,"".concat(h,"-element"),(t={},Object(r.a)(t,"".concat(h,"-active"),c),Object(r.a)(t,"".concat(h,"-block"),f),t),a);return s.createElement("div",{className:v},s.createElement(d,Object(i.a)({prefixCls:"".concat(h,"-input")},p)))};x.defaultProps={size:"default"};var E=x,C=n(15),T=function(e){var t=function(t){var n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0},n=e.prefixCls,r=e.className,i=e.style,a=e.rows,u=Object(C.a)(Array(a)).map((function(e,n){return s.createElement("li",{key:n,style:{width:t(n)}})}));return s.createElement("ul",{className:o()(n,r),style:i},u)},S=function(e){var t=e.prefixCls,n=e.className,r=e.width,a=e.style;return s.createElement("h3",{className:o()(t,n),style:Object(i.a)({width:r},a)})};function I(e){return e&&"object"===Object(h.a)(e)?e:{}}var N=function(e){var t=e.prefixCls,n=e.loading,a=e.className,u=e.style,c=e.children,f=e.avatar,h=e.title,p=e.paragraph,v=e.active,m=e.round,b=s.useContext(l.b),g=b.getPrefixCls,y=b.direction,O=g("skeleton",t);if(n||!("loading"in e)){var k,w,j,_=!!f,x=!!h,E=!!p;if(_){var C=Object(i.a)(Object(i.a)({prefixCls:"".concat(O,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(x,E)),I(f));w=s.createElement("div",{className:"".concat(O,"-header")},s.createElement(d,Object(i.a)({},C)))}if(x||E){var N,P;if(x){var A=Object(i.a)(Object(i.a)({prefixCls:"".concat(O,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(_,E)),I(h));N=s.createElement(S,Object(i.a)({},A))}if(E){var R=Object(i.a)(Object(i.a)({prefixCls:"".concat(O,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(_,x)),I(p));P=s.createElement(T,Object(i.a)({},R))}j=s.createElement("div",{className:"".concat(O,"-content")},N,P)}var D=o()(O,(k={},Object(r.a)(k,"".concat(O,"-with-avatar"),_),Object(r.a)(k,"".concat(O,"-active"),v),Object(r.a)(k,"".concat(O,"-rtl"),"rtl"===y),Object(r.a)(k,"".concat(O,"-round"),m),k),a);return s.createElement("div",{className:D,style:u},w,j)}return"undefined"!==typeof c?c:null};N.defaultProps={avatar:!1,title:!0,paragraph:!0},N.Button=b,N.Avatar=v,N.Input=E,N.Image=_,N.Node=j;var P=N,A=n(109),R=n(114),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},M=function(e,t){return s.createElement(O.a,Object(g.a)(Object(g.a)({},e),{},{ref:t,icon:D}))};M.displayName="PlusOutlined";var L=s.forwardRef(M),F=n(9),U=n(22),V=n(110),q=n(51),B=n(46),z=Object(s.createContext)(null);var W=s.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.id,u=e.active,c=e.tabKey,l=e.children;return s.createElement("div",{id:a&&"".concat(a,"-panel-").concat(c),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(c),"aria-hidden":!u,style:i,className:o()(n,u&&"".concat(n,"-active"),r),ref:t},l)})),H=["key","forceRender","style","className"];function K(e){var t=e.id,n=e.activeKey,a=e.animated,u=e.tabPosition,c=e.destroyInactiveTabPane,l=s.useContext(z),f=l.prefixCls,h=l.tabs,d=a.tabPane,p="".concat(f,"-tabpane");return s.createElement("div",{className:o()("".concat(f,"-content-holder"))},s.createElement("div",{className:o()("".concat(f,"-content"),"".concat(f,"-content-").concat(u),Object(r.a)({},"".concat(f,"-content-animated"),d))},h.map((function(e){var r=e.key,u=e.forceRender,l=e.style,f=e.className,h=Object(U.a)(e,H),v=r===n;return s.createElement(B.b,Object(i.a)({key:r,visible:v,forceRender:u,removeOnLeave:!!c,leavedClassName:"".concat(p,"-hidden")},a.tabPaneMotion),(function(e,n){var a=e.style,u=e.className;return s.createElement(W,Object(i.a)({},h,{prefixCls:p,id:t,tabKey:r,animated:d,active:v,style:Object(g.a)(Object(g.a)({},l),a),className:o()(f,u),ref:n}))}))}))))}var G=n(27),$=n(71);function Q(e){var t=Object(s.useRef)(),n=Object(s.useRef)(!1);return Object(s.useEffect)((function(){return n.current=!1,function(){n.current=!0,G.a.cancel(t.current)}}),[]),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(G.a.cancel(t.current),t.current=Object(G.a)((function(){e.apply(void 0,i)})))}}var Y=n(31);function X(e,t){var n,i=e.prefixCls,a=e.id,u=e.active,c=e.tab,l=c.key,f=c.label,h=c.disabled,d=c.closeIcon,p=e.closable,v=e.renderWrapper,m=e.removeAriaLabel,b=e.editable,g=e.onClick,y=e.onRemove,O=e.onFocus,k=e.style,w="".concat(i,"-tab");s.useEffect((function(){return y}),[]);var j=b&&!1!==p&&!h;function _(e){h||g(e)}var x=s.createElement("div",{key:l,ref:t,className:o()(w,(n={},Object(r.a)(n,"".concat(w,"-with-remove"),j),Object(r.a)(n,"".concat(w,"-active"),u),Object(r.a)(n,"".concat(w,"-disabled"),h),n)),style:k,onClick:_},s.createElement("div",{role:"tab","aria-selected":u,id:a&&"".concat(a,"-tab-").concat(l),className:"".concat(w,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(l),"aria-disabled":h,tabIndex:h?null:0,onClick:function(e){e.stopPropagation(),_(e)},onKeyDown:function(e){[Y.a.SPACE,Y.a.ENTER].includes(e.which)&&(e.preventDefault(),_(e))},onFocus:O},f),j&&s.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),b.onEdit("remove",{key:l,event:t})}},d||b.removeIcon||"\xd7"));return v?v(x):x}var J=s.forwardRef(X),Z={width:0,height:0,left:0,top:0};var ee={width:0,height:0,left:0,top:0,right:0};var te=n(48),ne=n(161);function re(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,a=e.style;return r&&!1!==r.showAdd?s.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===i||void 0===i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var ie=s.forwardRef(re);function ae(e,t){var n=e.prefixCls,i=e.id,a=e.tabs,u=e.locale,c=e.mobile,l=e.moreIcon,f=void 0===l?"More":l,h=e.moreTransitionName,d=e.style,p=e.className,v=e.editable,m=e.tabBarGutter,b=e.rtl,g=e.removeAriaLabel,y=e.onTabClick,O=e.getPopupContainer,k=e.popupClassName,w=Object(s.useState)(!1),j=Object(F.a)(w,2),_=j[0],x=j[1],E=Object(s.useState)(null),C=Object(F.a)(E,2),T=C[0],S=C[1],I="".concat(i,"-more-popup"),N="".concat(n,"-dropdown"),P=null!==T?"".concat(I,"-").concat(T):null,A=null===u||void 0===u?void 0:u.dropdownAriaLabel;var R=s.createElement(te.g,{onClick:function(e){var t=e.key,n=e.domEvent;y(t,n),x(!1)},prefixCls:"".concat(N,"-menu"),id:I,tabIndex:-1,role:"listbox","aria-activedescendant":P,selectedKeys:[T],"aria-label":void 0!==A?A:"expanded dropdown"},a.map((function(e){var t=v&&!1!==e.closable&&!e.disabled;return s.createElement(te.d,{key:e.key,id:"".concat(I,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},s.createElement("span",null,e.label),t&&s.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(N,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),v.onEdit("remove",{key:r,event:n})}},e.closeIcon||v.removeIcon||"\xd7"))})));function D(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===T}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void S(o.key)}}Object(s.useEffect)((function(){var e=document.getElementById(P);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[T]),Object(s.useEffect)((function(){_||S(null)}),[_]);var M=Object(r.a)({},b?"marginRight":"marginLeft",m);a.length||(M.visibility="hidden",M.order=1);var L=o()(Object(r.a)({},"".concat(N,"-rtl"),b)),U=c?null:s.createElement(ne.a,{prefixCls:N,overlay:R,trigger:["hover"],visible:!!a.length&&_,transitionName:h,onVisibleChange:x,overlayClassName:o()(L,k),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:O},s.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:M,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":I,id:"".concat(i,"-more"),"aria-expanded":_,onKeyDown:function(e){var t=e.which;if(_)switch(t){case Y.a.UP:D(-1),e.preventDefault();break;case Y.a.DOWN:D(1),e.preventDefault();break;case Y.a.ESC:x(!1);break;case Y.a.SPACE:case Y.a.ENTER:null!==T&&y(T,e)}else[Y.a.DOWN,Y.a.SPACE,Y.a.ENTER].includes(t)&&(x(!0),e.preventDefault())}},f));return s.createElement("div",{className:o()("".concat(n,"-nav-operations"),p),style:d,ref:t},U,s.createElement(ie,{prefixCls:n,locale:u,editable:v}))}var oe=s.memo(s.forwardRef(ae),(function(e,t){return t.tabMoving})),ue=Math.pow(.995,20);function se(e,t){var n=s.useRef(e),r=s.useState({}),i=Object(F.a)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,i({})}]}var ce=function(e){var t,n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var a={};return i&&"object"===Object(h.a)(i)&&!s.isValidElement(i)?a=i:a.right=i,"right"===n&&(t=a.right),"left"===n&&(t=a.left),t?s.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function le(e,t){var n,a=s.useContext(z),u=a.prefixCls,c=a.tabs,l=e.className,f=e.style,h=e.id,d=e.animated,p=e.activeKey,v=e.rtl,m=e.extra,b=e.editable,y=e.locale,O=e.tabPosition,k=e.tabBarGutter,w=e.children,j=e.onTabClick,_=e.onTabScroll,x=Object(s.useRef)(),E=Object(s.useRef)(),T=Object(s.useRef)(),S=Object(s.useRef)(),I=function(){var e=Object(s.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,s.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),N=Object(F.a)(I,2),P=N[0],A=N[1],R="top"===O||"bottom"===O,D=se(0,(function(e,t){R&&_&&_({direction:e>t?"left":"right"})})),M=Object(F.a)(D,2),L=M[0],U=M[1],V=se(0,(function(e,t){!R&&_&&_({direction:e>t?"top":"bottom"})})),q=Object(F.a)(V,2),B=q[0],W=q[1],H=Object(s.useState)(0),K=Object(F.a)(H,2),Y=K[0],X=K[1],te=Object(s.useState)(0),ne=Object(F.a)(te,2),re=ne[0],ae=ne[1],le=Object(s.useState)(null),fe=Object(F.a)(le,2),he=fe[0],de=fe[1],pe=Object(s.useState)(null),ve=Object(F.a)(pe,2),me=ve[0],be=ve[1],ge=Object(s.useState)(0),ye=Object(F.a)(ge,2),Oe=ye[0],ke=ye[1],we=Object(s.useState)(0),je=Object(F.a)(we,2),_e=je[0],xe=je[1],Ee=function(e){var t=Object(s.useRef)([]),n=Object(s.useState)({}),r=Object(F.a)(n,2)[1],i=Object(s.useRef)("function"===typeof e?e():e),a=Q((function(){var e=i.current;t.current.forEach((function(t){e=t(e)})),t.current=[],i.current=e,r({})}));return[i.current,function(e){t.current.push(e),a()}]}(new Map),Ce=Object(F.a)(Ee,2),Te=Ce[0],Se=Ce[1],Ie=function(e,t,n){return Object(s.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||Z,a=i.left+i.width,o=0;o<e.length;o+=1){var u,s=e[o].key,c=t.get(s);c||(c=t.get(null===(u=e[o-1])||void 0===u?void 0:u.key)||Z);var l=r.get(s)||Object(g.a)({},c);l.right=a-l.left-l.width,r.set(s,l)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(c,Te,Y),Ne="".concat(u,"-nav-operations-hidden"),Pe=0,Ae=0;function Re(e){return e<Pe?Pe:e>Ae?Ae:e}R?v?(Pe=0,Ae=Math.max(0,Y-he)):(Pe=Math.min(0,he-Y),Ae=0):(Pe=Math.min(0,me-re),Ae=0);var De=Object(s.useRef)(),Me=Object(s.useState)(),Le=Object(F.a)(Me,2),Fe=Le[0],Ue=Le[1];function Ve(){Ue(Date.now())}function qe(){window.clearTimeout(De.current)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=Ie.get(e)||{width:0,height:0,left:0,right:0,top:0};if(R){var n=L;v?t.right<L?n=t.right:t.right+t.width>L+he&&(n=t.right+t.width-he):t.left<-L?n=-t.left:t.left+t.width>-L+he&&(n=-(t.left+t.width-he)),W(0),U(Re(n))}else{var r=B;t.top<-B?r=-t.top:t.top+t.height>-B+me&&(r=-(t.top+t.height-me)),U(0),W(Re(r))}}!function(e,t){var n=Object(s.useState)(),r=Object(F.a)(n,2),i=r[0],a=r[1],o=Object(s.useState)(0),u=Object(F.a)(o,2),c=u[0],l=u[1],f=Object(s.useState)(0),h=Object(F.a)(f,2),d=h[0],p=h[1],v=Object(s.useState)(),m=Object(F.a)(v,2),b=m[0],g=m[1],y=Object(s.useRef)(),O=Object(s.useRef)(),k=Object(s.useRef)(null);k.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(y.current)},onTouchMove:function(e){if(i){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;a({x:r,y:o});var u=r-i.x,s=o-i.y;t(u,s);var f=Date.now();l(f),p(f-c),g({x:u,y:s})}},onTouchEnd:function(){if(i&&(a(null),g(null),b)){var e=b.x/d,n=b.y/d,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<.1)return;var u=e,s=n;y.current=window.setInterval((function(){Math.abs(u)<.01&&Math.abs(s)<.01?window.clearInterval(y.current):t(20*(u*=ue),20*(s*=ue))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===O.current?n:r:a>o?(i=n,O.current="x"):(i=r,O.current="y"),t(-i,-i)&&e.preventDefault()}},s.useEffect((function(){function t(e){k.current.onTouchMove(e)}function n(e){k.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){k.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){k.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(x,(function(e,t){function n(e,t){e((function(e){return Re(e+t)}))}if(R){if(he>=Y)return!1;n(U,e)}else{if(me>=re)return!1;n(W,t)}return qe(),Ve(),!0})),Object(s.useEffect)((function(){return qe(),Fe&&(De.current=window.setTimeout((function(){Ue(0)}),100)),qe}),[Fe]);var ze=function(e,t,n,r,i){var a,o,u,c=i.tabs,l=i.tabPosition,f=i.rtl;["top","bottom"].includes(l)?(a="width",o=f?"right":"left",u=Math.abs(t.left)):(a="height",o="top",u=-t.top);var h=t[a],d=n[a],p=r[a],v=h;return d+p>h&&d<h&&(v=h-p),Object(s.useMemo)((function(){if(!c.length)return[0,0];for(var t=c.length,n=t,r=0;r<t;r+=1){var i=e.get(c[r].key)||ee;if(i[o]+i[a]>u+v){n=r-1;break}}for(var s=0,l=t-1;l>=0;l-=1)if((e.get(c[l].key)||ee)[o]<u){s=l+1;break}return[s,n]}),[e,u,v,l,c.map((function(e){return e.key})).join("_"),f])}(Ie,{width:he,height:me,left:L,top:B},{width:Y,height:re},{width:Oe,height:_e},Object(g.a)(Object(g.a)({},e),{},{tabs:c})),We=Object(F.a)(ze,2),He=We[0],Ke=We[1],Ge={};"top"===O||"bottom"===O?Ge[v?"marginRight":"marginLeft"]=k:Ge.marginTop=k;var $e=c.map((function(e,t){var n=e.key;return s.createElement(J,{id:h,prefixCls:u,key:n,tab:e,style:0===t?void 0:Ge,closable:e.closable,editable:b,active:n===p,renderWrapper:w,removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:P(n),onClick:function(e){j(n,e)},onRemove:function(){A(n)},onFocus:function(){Be(n),Ve(),x.current&&(v||(x.current.scrollLeft=0),x.current.scrollTop=0)}})})),Qe=Q((function(){var e,t,n,r,i,a,o=(null===(e=x.current)||void 0===e?void 0:e.offsetWidth)||0,u=(null===(t=x.current)||void 0===t?void 0:t.offsetHeight)||0,s=(null===(n=S.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=S.current)||void 0===r?void 0:r.offsetHeight)||0;de(o),be(u),ke(s),xe(l);var f=((null===(i=E.current)||void 0===i?void 0:i.offsetWidth)||0)-s,h=((null===(a=E.current)||void 0===a?void 0:a.offsetHeight)||0)-l;X(f),ae(h),Se((function(){var e=new Map;return c.forEach((function(t){var n=t.key,r=P(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Ye=c.slice(0,He),Xe=c.slice(Ke+1),Je=[].concat(Object(C.a)(Ye),Object(C.a)(Xe)),Ze=Object(s.useState)(),et=Object(F.a)(Ze,2),tt=et[0],nt=et[1],rt=Ie.get(p),it=Object(s.useRef)();function at(){G.a.cancel(it.current)}Object(s.useEffect)((function(){var e={};return rt&&(R?(v?e.right=rt.right:e.left=rt.left,e.width=rt.width):(e.top=rt.top,e.height=rt.height)),at(),it.current=Object(G.a)((function(){nt(e)})),at}),[rt,R,v]),Object(s.useEffect)((function(){Be()}),[p,rt,Ie,R]),Object(s.useEffect)((function(){Qe()}),[v,k,p,c.map((function(e){return e.key})).join("_")]);var ot,ut,st,ct,lt=!!Je.length,ft="".concat(u,"-nav-wrap");return R?v?(ut=L>0,ot=L+he<Y):(ot=L<0,ut=-L+he<Y):(st=B<0,ct=-B+me<re),s.createElement("div",{ref:t,role:"tablist",className:o()("".concat(u,"-nav"),l),style:f,onKeyDown:function(){Ve()}},s.createElement(ce,{position:"left",extra:m,prefixCls:u}),s.createElement($.a,{onResize:Qe},s.createElement("div",{className:o()(ft,(n={},Object(r.a)(n,"".concat(ft,"-ping-left"),ot),Object(r.a)(n,"".concat(ft,"-ping-right"),ut),Object(r.a)(n,"".concat(ft,"-ping-top"),st),Object(r.a)(n,"".concat(ft,"-ping-bottom"),ct),n)),ref:x},s.createElement($.a,{onResize:Qe},s.createElement("div",{ref:E,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(L,"px, ").concat(B,"px)"),transition:Fe?"none":void 0}},$e,s.createElement(ie,{ref:S,prefixCls:u,locale:y,editable:b,style:Object(g.a)(Object(g.a)({},0===$e.length?void 0:Ge),{},{visibility:lt?"hidden":null})}),s.createElement("div",{className:o()("".concat(u,"-ink-bar"),Object(r.a)({},"".concat(u,"-ink-bar-animated"),d.inkBar)),style:tt}))))),s.createElement(oe,Object(i.a)({},e,{removeAriaLabel:null===y||void 0===y?void 0:y.removeAriaLabel,ref:T,prefixCls:u,tabs:Je,className:!lt&&Ne,tabMoving:!!Fe})),s.createElement(ce,{position:"right",extra:m,prefixCls:u}))}var fe=s.forwardRef(le),he=["renderTabBar"],de=["label","key"];function pe(e){var t=e.renderTabBar,n=Object(U.a)(e,he),r=Object(s.useContext)(z).tabs;return t?t(Object(g.a)(Object(g.a)({},n),{},{panes:r.map((function(e){var t=e.label,n=e.key,r=Object(U.a)(e,de);return c.a.createElement(W,Object(i.a)({tab:t,key:n,tabKey:n},r))}))}),fe):c.a.createElement(fe,n)}n(33);var ve=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],me=0;function be(e,t){var n,a=e.id,u=e.prefixCls,c=void 0===u?"rc-tabs":u,l=e.className,f=e.items,d=e.direction,p=e.activeKey,v=e.defaultActiveKey,m=e.editable,b=e.animated,y=e.tabPosition,O=void 0===y?"top":y,k=e.tabBarGutter,w=e.tabBarStyle,j=e.tabBarExtraContent,_=e.locale,x=e.moreIcon,E=e.moreTransitionName,C=e.destroyInactiveTabPane,T=e.renderTabBar,S=e.onChange,I=e.onTabClick,N=e.onTabScroll,P=e.getPopupContainer,A=e.popupClassName,R=Object(U.a)(e,ve),D=s.useMemo((function(){return(f||[]).filter((function(e){return e&&"object"===Object(h.a)(e)&&"key"in e}))}),[f]),M="rtl"===d,L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Object(g.a)({inkBar:!0},"object"===Object(h.a)(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(b),B=Object(s.useState)(!1),W=Object(F.a)(B,2),H=W[0],G=W[1];Object(s.useEffect)((function(){G(Object(V.a)())}),[]);var $=Object(q.a)((function(){var e;return null===(e=D[0])||void 0===e?void 0:e.key}),{value:p,defaultValue:v}),Q=Object(F.a)($,2),Y=Q[0],X=Q[1],J=Object(s.useState)((function(){return D.findIndex((function(e){return e.key===Y}))})),Z=Object(F.a)(J,2),ee=Z[0],te=Z[1];Object(s.useEffect)((function(){var e,t=D.findIndex((function(e){return e.key===Y}));-1===t&&(t=Math.max(0,Math.min(ee,D.length-1)),X(null===(e=D[t])||void 0===e?void 0:e.key));te(t)}),[D.map((function(e){return e.key})).join("_"),Y,ee]);var ne=Object(q.a)(null,{value:a}),re=Object(F.a)(ne,2),ie=re[0],ae=re[1];Object(s.useEffect)((function(){a||(ae("rc-tabs-".concat(me)),me+=1)}),[]);var oe={id:ie,activeKey:Y,animated:L,tabPosition:O,rtl:M,mobile:H},ue=Object(g.a)(Object(g.a)({},oe),{},{editable:m,locale:_,moreIcon:x,moreTransitionName:E,tabBarGutter:k,onTabClick:function(e,t){null===I||void 0===I||I(e,t);var n=e!==Y;X(e),n&&(null===S||void 0===S||S(e))},onTabScroll:N,extra:j,style:w,panes:null,getPopupContainer:P,popupClassName:A});return s.createElement(z.Provider,{value:{tabs:D,prefixCls:c}},s.createElement("div",Object(i.a)({ref:t,id:a,className:o()(c,"".concat(c,"-").concat(O),(n={},Object(r.a)(n,"".concat(c,"-mobile"),H),Object(r.a)(n,"".concat(c,"-editable"),m),Object(r.a)(n,"".concat(c,"-rtl"),M),n),l)},R),undefined,s.createElement(pe,Object(i.a)({},ue,{renderTabBar:T})),s.createElement(K,Object(i.a)({destroyInactiveTabPane:C},oe,{animated:L}))))}var ge=s.forwardRef(be),ye=n(62),Oe={motionAppear:!1,motionEnter:!0,motionLeave:!0};var ke=n(58),we=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var je=function(){return null},_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xe(e){var t,n=e.type,a=e.className,u=e.size,c=e.onEdit,d=e.hideAdd,p=e.centered,v=e.addIcon,m=e.children,b=e.items,g=e.animated,y=_e(e,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),O=y.prefixCls,k=y.moreIcon,w=void 0===k?s.createElement(R.a,null):k,j=s.useContext(l.b),_=j.getPrefixCls,x=j.direction,E=_("tabs",O);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===c||void 0===c||c("add"===e?r:n,e)},removeIcon:s.createElement(A.a,null),addIcon:v||s.createElement(L,null),showAdd:!0!==d});var C=_(),T=function(e,t){return e||function(e){return e.filter((function(e){return e}))}(Object(ke.a)(t).map((function(e){if(s.isValidElement(e)){var t=e.key,n=e.props||{},r=n.tab,a=we(n,["tab"]);return Object(i.a)(Object(i.a)({key:String(t)},a),{label:r})}return null})))}(b,m),S=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!1}:Object(i.a)({inkBar:!0},"object"===Object(h.a)(n)?n:{})).tabPane&&(t.tabPaneMotion=Object(i.a)(Object(i.a)({},Oe),{motionName:Object(ye.c)(e,"switch")})),t}(E,g);return s.createElement(f.b.Consumer,null,(function(e){var c,l=void 0!==u?u:e;return s.createElement(ge,Object(i.a)({direction:x,moreTransitionName:"".concat(C,"-slide-up")},y,{items:T,className:o()((c={},Object(r.a)(c,"".concat(E,"-").concat(l),l),Object(r.a)(c,"".concat(E,"-card"),["card","editable-card"].includes(n)),Object(r.a)(c,"".concat(E,"-editable-card"),"editable-card"===n),Object(r.a)(c,"".concat(E,"-centered"),p),c),a),editable:t,moreIcon:w,prefixCls:E,animated:S}))}))}xe.TabPane=je;var Ee=xe,Ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Te=function(e){var t=e.prefixCls,n=e.className,a=e.hoverable,u=void 0===a||a,c=Ce(e,["prefixCls","className","hoverable"]);return s.createElement(l.a,null,(function(e){var a=(0,e.getPrefixCls)("card",t),l=o()("".concat(a,"-grid"),n,Object(r.a)({},"".concat(a,"-grid-hoverable"),u));return s.createElement("div",Object(i.a)({},c,{className:l}))}))},Se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ne=function(e){return s.createElement(l.a,null,(function(t){var n=t.getPrefixCls,r=e.prefixCls,a=e.className,u=e.avatar,c=e.title,l=e.description,f=Ie(e,["prefixCls","className","avatar","title","description"]),h=n("card",r),d=o()("".concat(h,"-meta"),a),p=u?s.createElement("div",{className:"".concat(h,"-meta-avatar")},u):null,v=c?s.createElement("div",{className:"".concat(h,"-meta-title")},c):null,m=l?s.createElement("div",{className:"".concat(h,"-meta-description")},l):null,b=v||m?s.createElement("div",{className:"".concat(h,"-meta-detail")},v,m):null;return s.createElement("div",Object(i.a)({},f,{className:d}),p,b)}))},Pe=s.forwardRef((function(e,t){var n,a,c,h=s.useContext(l.b),d=h.getPrefixCls,p=h.direction,v=s.useContext(f.b),m=e.prefixCls,b=e.className,g=e.extra,y=e.headStyle,O=void 0===y?{}:y,k=e.bodyStyle,w=void 0===k?{}:k,j=e.title,_=e.loading,x=e.bordered,E=void 0===x||x,C=e.size,T=e.type,S=e.cover,I=e.actions,N=e.tabList,A=e.children,R=e.activeTabKey,D=e.defaultActiveTabKey,M=e.tabBarExtraContent,L=e.hoverable,F=e.tabProps,U=void 0===F?{}:F,V=Se(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),q=d("card",m),B=s.createElement(P,{loading:!0,active:!0,paragraph:{rows:4},title:!1},A),z=void 0!==R,W=Object(i.a)(Object(i.a)({},U),(n={},Object(r.a)(n,z?"activeKey":"defaultActiveKey",z?R:D),Object(r.a)(n,"tabBarExtraContent",M),n)),H=N&&N.length?s.createElement(Ee,Object(i.a)({size:"large"},W,{className:"".concat(q,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:N.map((function(e){var t;return{label:e.tab,key:e.key,disabled:null!==(t=e.disabled)&&void 0!==t&&t}}))})):null;(j||g||H)&&(c=s.createElement("div",{className:"".concat(q,"-head"),style:O},s.createElement("div",{className:"".concat(q,"-head-wrapper")},j&&s.createElement("div",{className:"".concat(q,"-head-title")},j),g&&s.createElement("div",{className:"".concat(q,"-extra")},g)),H));var K=S?s.createElement("div",{className:"".concat(q,"-cover")},S):null,G=s.createElement("div",{className:"".concat(q,"-body"),style:w},_?B:A),$=I&&I.length?s.createElement("ul",{className:"".concat(q,"-actions")},function(e){return e.map((function(t,n){return s.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},s.createElement("span",null,t))}))}(I)):null,Q=Object(u.a)(V,["onTabChange"]),Y=C||v,X=o()(q,(a={},Object(r.a)(a,"".concat(q,"-loading"),_),Object(r.a)(a,"".concat(q,"-bordered"),E),Object(r.a)(a,"".concat(q,"-hoverable"),L),Object(r.a)(a,"".concat(q,"-contain-grid"),function(){var t;return s.Children.forEach(e.children,(function(e){e&&e.type&&e.type===Te&&(t=!0)})),t}()),Object(r.a)(a,"".concat(q,"-contain-tabs"),N&&N.length),Object(r.a)(a,"".concat(q,"-").concat(Y),Y),Object(r.a)(a,"".concat(q,"-type-").concat(T),!!T),Object(r.a)(a,"".concat(q,"-rtl"),"rtl"===p),a),b);return s.createElement("div",Object(i.a)({ref:t},Q,{className:X}),c,K,G,$)}));Pe.Grid=Te,Pe.Meta=Ne;t.a=Pe},function(e,t,n){"use strict";var r=n(28),i=n(5),a=n(7),o=n(15),u=n(11),s=n.n(u),c=n(46),l=n(0),f=n(65),h=n(62),d=n(9);function p(e){var t=l.useState(e),n=Object(d.a)(t,2),r=n[0],i=n[1];return l.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var v=[];function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function b(e){var t=e.help,n=e.helpStatus,u=e.errors,d=void 0===u?v:u,b=e.warnings,g=void 0===b?v:b,y=e.className,O=e.fieldId,k=e.onVisibleChanged,w=l.useContext(r.c).prefixCls,j=l.useContext(f.b).getPrefixCls,_="".concat(w,"-item-explain"),x=j(),E=p(d),C=p(g),T=l.useMemo((function(){return void 0!==t&&null!==t?[m(t,n,"help")]:[].concat(Object(o.a)(E.map((function(e,t){return m(e,"error","error",t)}))),Object(o.a)(C.map((function(e,t){return m(e,"warning","warning",t)}))))}),[t,n,E,C]),S={};return O&&(S.id="".concat(O,"_help")),l.createElement(c.b,{motionDeadline:h.a.motionDeadline,motionName:"".concat(x,"-show-help"),visible:!!T.length,onVisibleChanged:k},(function(e){var t=e.className,n=e.style;return l.createElement("div",Object(a.a)({},S,{className:s()(_,t,y),style:n,role:"alert"}),l.createElement(c.a,Object(a.a)({keys:T},h.a,{motionName:"".concat(x,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,r=e.errorStatus,a=e.className,o=e.style;return l.createElement("div",{key:t,className:s()(a,Object(i.a)({},"".concat(_,"-").concat(r),r)),style:o},n)})))}))}var g=n(21),y=n(43),O=n(60),k=n(54);function w(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function j(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function _(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return j(n.overflowY,t)||j(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function x(e,t,n,r,i,a,o,u){return a<e&&o>t||a>e&&o<t?0:a<=e&&u<=n||o>=t&&u>=n?a-e-r:o>t&&u<n||a<e&&u>n?o-t+i:0}var E=function(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,u=t.skipOverflowHiddenElements,s="function"==typeof o?o:function(e){return e!==o};if(!w(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;w(f)&&s(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&_(f)&&!_(document.documentElement)||null!=f&&_(f,u)&&l.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),b=m.height,g=m.width,y=m.top,O=m.right,k=m.bottom,j=m.left,E="start"===i||"nearest"===i?y:"end"===i?k:y+b/2,C="center"===a?j+g/2:"end"===a?O:j,T=[],S=0;S<l.length;S++){var I=l[S],N=I.getBoundingClientRect(),P=N.height,A=N.width,R=N.top,D=N.right,M=N.bottom,L=N.left;if("if-needed"===r&&y>=0&&j>=0&&k<=d&&O<=h&&y>=R&&k<=M&&j>=L&&O<=D)return T;var F=getComputedStyle(I),U=parseInt(F.borderLeftWidth,10),V=parseInt(F.borderTopWidth,10),q=parseInt(F.borderRightWidth,10),B=parseInt(F.borderBottomWidth,10),z=0,W=0,H="offsetWidth"in I?I.offsetWidth-I.clientWidth-U-q:0,K="offsetHeight"in I?I.offsetHeight-I.clientHeight-V-B:0;if(c===I)z="start"===i?E:"end"===i?E-d:"nearest"===i?x(v,v+d,d,V,B,v+E,v+E+b,b):E-d/2,W="start"===a?C:"center"===a?C-h/2:"end"===a?C-h:x(p,p+h,h,U,q,p+C,p+C+g,g),z=Math.max(0,z+v),W=Math.max(0,W+p);else{z="start"===i?E-R-V:"end"===i?E-M+B+K:"nearest"===i?x(R,M,P,V,B+K,E,E+b,b):E-(R+P/2)+K/2,W="start"===a?C-L-U:"center"===a?C-(L+A/2)+H/2:"end"===a?C-D+q+H:x(L,D,A,U,q+H,C,C+g,g);var G=I.scrollLeft,$=I.scrollTop;E+=$-(z=Math.max(0,Math.min($+z,I.scrollHeight-P+K))),C+=G-(W=Math.max(0,Math.min(G+W,I.scrollWidth-A+H)))}T.push({el:I,top:z,left:W})}return T};function C(e){return e===Object(e)&&0!==Object.keys(e).length}var T=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(C(t)&&"function"===typeof t.behavior)return t.behavior(n?E(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:C(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(E(e,r),r.behavior)}},S=["parentNode"];function I(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function N(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):S.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function P(e){return I(e).join("_")}function A(e){var t=Object(y.g)(),n=Object(d.a)(t,1)[0],r=l.useRef({}),i=l.useMemo((function(){return null!==e&&void 0!==e?e:Object(a.a)(Object(a.a)({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=P(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=I(e),r=N(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&T(o,Object(a.a)({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=P(e);return r.current[t]}})}),[e,n]);return[i]}var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},D=function(e,t){var n,o=l.useContext(k.b),u=l.useContext(O.b),c=l.useContext(f.b),h=c.getPrefixCls,p=c.direction,v=c.form,m=e.prefixCls,b=e.className,w=void 0===b?"":b,j=e.size,_=void 0===j?o:j,x=e.disabled,E=void 0===x?u:x,C=e.form,T=e.colon,S=e.labelAlign,I=e.labelWrap,N=e.labelCol,P=e.wrapperCol,D=e.hideRequiredMark,M=e.layout,L=void 0===M?"horizontal":M,F=e.scrollToFirstError,U=e.requiredMark,V=e.onFinishFailed,q=e.name,B=R(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),z=Object(l.useMemo)((function(){return void 0!==U?U:v&&void 0!==v.requiredMark?v.requiredMark:!D}),[D,U,v]),W=null!==T&&void 0!==T?T:null===v||void 0===v?void 0:v.colon,H=h("form",m),K=s()(H,(n={},Object(i.a)(n,"".concat(H,"-").concat(L),!0),Object(i.a)(n,"".concat(H,"-hide-required-mark"),!1===z),Object(i.a)(n,"".concat(H,"-rtl"),"rtl"===p),Object(i.a)(n,"".concat(H,"-").concat(_),_),n),w),G=A(C),$=Object(d.a)(G,1)[0],Q=$.__INTERNAL__;Q.name=q;var Y=Object(l.useMemo)((function(){return{name:q,labelAlign:S,labelCol:N,labelWrap:I,wrapperCol:P,vertical:"vertical"===L,colon:W,requiredMark:z,itemRef:Q.itemRef,form:$}}),[q,S,N,P,L,W,z,$]);l.useImperativeHandle(t,(function(){return $}));return l.createElement(O.a,{disabled:E},l.createElement(k.a,{size:_},l.createElement(r.a.Provider,{value:Y},l.createElement(y.f,Object(a.a)({id:q},B,{name:q,onFinishFailed:function(e){null===V||void 0===V||V(e);var t={block:"nearest"};F&&e.errorFields.length&&("object"===Object(g.a)(F)&&(t=F),$.scrollToField(e.errorFields[0].name,t))},form:$,className:K})))))},M=l.forwardRef(D),L=n(49),F=n(40),U=function(){return{status:Object(l.useContext)(r.b).status}},V=n(39),q=n(57),B=n(27);var z=n(112),W=n(98),H=n(113),K=n(96),G=n(59),$=n(34),Q=n(264),Y=n(8),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},J=n(26),Z=function(e,t){return l.createElement(J.a,Object(Y.a)(Object(Y.a)({},e),{},{ref:t,icon:X}))};Z.displayName="QuestionCircleOutlined";var ee=l.forwardRef(Z),te=n(95),ne=n(99),re=n(63),ie=n(103),ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var oe=function(e){var t=e.prefixCls,n=e.label,o=e.htmlFor,u=e.labelCol,c=e.labelAlign,f=e.colon,h=e.required,p=e.requiredMark,v=e.tooltip,m=Object(ne.b)("Form"),b=Object(d.a)(m,1)[0];return n?l.createElement(r.a.Consumer,{key:"label"},(function(e){var r,d,m=e.vertical,y=e.labelAlign,O=e.labelCol,k=e.labelWrap,w=e.colon,j=u||O||{},_=c||y,x="".concat(t,"-item-label"),E=s()(x,"left"===_&&"".concat(x,"-left"),j.className,Object(i.a)({},"".concat(x,"-wrap"),!!k)),C=n,T=!0===f||!1!==w&&!1!==f;T&&!m&&"string"===typeof n&&""!==n.trim()&&(C=n.replace(/[:|\uff1a]\s*$/,""));var S=function(e){return e?"object"!==Object(g.a)(e)||l.isValidElement(e)?{title:e}:e:null}(v);if(S){var I=S.icon,N=void 0===I?l.createElement(ee,null):I,P=ae(S,["icon"]),A=l.createElement(ie.a,Object(a.a)({},P),l.cloneElement(N,{className:"".concat(t,"-item-tooltip"),title:""}));C=l.createElement(l.Fragment,null,C,A)}"optional"!==p||h||(C=l.createElement(l.Fragment,null,C,l.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===b||void 0===b?void 0:b.optional)||(null===(d=re.a.Form)||void 0===d?void 0:d.optional))));var R=s()((r={},Object(i.a)(r,"".concat(t,"-item-required"),h),Object(i.a)(r,"".concat(t,"-item-required-mark-optional"),"optional"===p),Object(i.a)(r,"".concat(t,"-item-no-colon"),!T),r));return l.createElement(te.a,Object(a.a)({},j,{className:E}),l.createElement("label",{htmlFor:o,className:R,title:"string"===typeof n?n:""},C))})):null},ue=function(e){var t=e.prefixCls,n=e.status,i=e.wrapperCol,o=e.children,u=e.errors,c=e.warnings,f=e._internalItemRender,h=e.extra,d=e.help,p=e.fieldId,v=e.marginBottom,m=e.onErrorVisibleChanged,g="".concat(t,"-item"),y=l.useContext(r.a),O=i||y.wrapperCol||{},k=s()("".concat(g,"-control"),O.className),w=l.useMemo((function(){return Object(a.a)({},y)}),[y]);delete w.labelCol,delete w.wrapperCol;var j=l.createElement("div",{className:"".concat(g,"-control-input")},l.createElement("div",{className:"".concat(g,"-control-input-content")},o)),_=l.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),x=null!==v||u.length||c.length?l.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},l.createElement(r.c.Provider,{value:_},l.createElement(b,{fieldId:p,errors:u,warnings:c,help:d,helpStatus:n,className:"".concat(g,"-explain-connected"),onVisibleChanged:m})),!!v&&l.createElement("div",{style:{width:0,height:v}})):null,E={};p&&(E.id="".concat(p,"_extra"));var C=h?l.createElement("div",Object(a.a)({},E,{className:"".concat(g,"-extra")}),h):null,T=f&&"pro_table_render"===f.mark&&f.render?f.render(e,{input:j,errorList:x,extra:C}):l.createElement(l.Fragment,null,j,x,C);return l.createElement(r.a.Provider,{value:w},l.createElement(te.a,Object(a.a)({},O,{className:k}),T))},se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ce={success:z.a,warning:H.a,error:W.a,validating:K.a};function le(e){var t,n=e.prefixCls,o=e.className,u=e.style,c=e.help,f=e.errors,h=e.warnings,v=e.validateStatus,m=e.meta,b=e.hasFeedback,g=e.hidden,y=e.children,O=e.fieldId,k=e.isRequired,w=e.onSubItemMetaChange,j=se(e,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),_="".concat(n,"-item"),x=l.useContext(r.a).requiredMark,E=l.useRef(null),C=p(f),T=p(h),S=void 0!==c&&null!==c,I=!!(S||f.length||h.length),N=l.useState(null),P=Object(d.a)(N,2),A=P[0],R=P[1];Object(G.a)((function(){if(I&&E.current){var e=getComputedStyle(E.current);R(parseInt(e.marginBottom,10))}}),[I]);var D="";void 0!==v?D=v:m.validating?D="validating":C.length?D="error":T.length?D="warning":m.touched&&(D="success");var M=l.useMemo((function(){var e;if(b){var t=D&&ce[D];e=t?l.createElement("span",{className:s()("".concat(_,"-feedback-icon"),"".concat(_,"-feedback-icon-").concat(D))},l.createElement(t,null)):null}return{status:D,hasFeedback:b,feedbackIcon:e,isFormItemInput:!0}}),[D,b]),L=(t={},Object(i.a)(t,_,!0),Object(i.a)(t,"".concat(_,"-with-help"),S||C.length||T.length),Object(i.a)(t,"".concat(o),!!o),Object(i.a)(t,"".concat(_,"-has-feedback"),D&&b),Object(i.a)(t,"".concat(_,"-has-success"),"success"===D),Object(i.a)(t,"".concat(_,"-has-warning"),"warning"===D),Object(i.a)(t,"".concat(_,"-has-error"),"error"===D),Object(i.a)(t,"".concat(_,"-is-validating"),"validating"===D),Object(i.a)(t,"".concat(_,"-hidden"),g),t);return l.createElement("div",{className:s()(L),style:u,ref:E},l.createElement(Q.a,Object(a.a)({className:"".concat(_,"-row")},Object($.a)(j,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),l.createElement(oe,Object(a.a)({htmlFor:O,required:k,requiredMark:x},e,{prefixCls:n})),l.createElement(ue,Object(a.a)({},e,m,{errors:C,warnings:T,prefixCls:n,status:D,help:c,marginBottom:A,onErrorVisibleChanged:function(e){e||R(null)}}),l.createElement(r.f.Provider,{value:w},l.createElement(r.b.Provider,{value:M},y)))),!!A&&l.createElement("div",{className:"".concat(_,"-margin-offset"),style:{marginBottom:-A}}))}Object(q.a)("success","warning","error","validating","");var fe=l.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((function(e,n){return e===t.childProps[n]}))}));var he=function(e){var t=e.name,n=e.noStyle,i=e.dependencies,u=e.prefixCls,s=e.shouldUpdate,c=e.rules,h=e.children,p=e.required,v=e.label,m=e.messageVariables,b=e.trigger,O=void 0===b?"onChange":b,k=e.validateTrigger,w=e.hidden,j=Object(l.useContext)(f.b).getPrefixCls,_=Object(l.useContext)(r.a).name,x="function"===typeof h,E=Object(l.useContext)(r.f),C=Object(l.useContext)(y.b).validateTrigger,T=void 0!==k?k:C,S=function(e){return!(void 0===e||null===e)}(t),P=j("form",u),A=l.useContext(y.e),R=l.useRef(),D=function(e){var t=l.useState(e),n=Object(d.a)(t,2),r=n[0],i=n[1],a=Object(l.useRef)(null),o=Object(l.useRef)([]),u=Object(l.useRef)(!1);return l.useEffect((function(){return u.current=!1,function(){u.current=!0,B.a.cancel(a.current),a.current=null}}),[]),[r,function(e){u.current||(null===a.current&&(o.current=[],a.current=Object(B.a)((function(){a.current=null,i((function(e){var t=e;return o.current.forEach((function(e){t=e(t)})),t}))}))),o.current.push(e))}]}({}),M=Object(d.a)(D,2),U=M[0],q=M[1],z=Object(L.a)((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),W=Object(d.a)(z,2),H=W[0],K=W[1],G=function(e,t){q((function(n){var r=Object(a.a)({},n),i=[].concat(Object(o.a)(e.name.slice(0,-1)),Object(o.a)(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},$=l.useMemo((function(){var e=Object(o.a)(H.errors),t=Object(o.a)(H.warnings);return Object.values(U).forEach((function(n){e.push.apply(e,Object(o.a)(n.errors||[])),t.push.apply(t,Object(o.a)(n.warnings||[]))})),[e,t]}),[U,H.errors,H.warnings]),Q=Object(d.a)($,2),Y=Q[0],X=Q[1],J=function(){var e=l.useContext(r.a).itemRef,t=l.useRef({});return function(n,r){var i=r&&"object"===Object(g.a)(r)&&r.ref,a=n.join("_");return t.current.name===a&&t.current.originRef===i||(t.current.name=a,t.current.originRef=i,t.current.ref=Object(F.a)(e(n),i)),t.current.ref}}();function Z(t,r,i){return n&&!w?t:l.createElement(le,Object(a.a)({key:"row"},e,{prefixCls:P,fieldId:r,isRequired:i,errors:Y,warnings:X,meta:H,onSubItemMetaChange:G}),t)}if(!S&&!x&&!i)return Z(h);var ee={};return"string"===typeof v?ee.label=v:t&&(ee.label=String(t)),m&&(ee=Object(a.a)(Object(a.a)({},ee),m)),l.createElement(y.a,Object(a.a)({},e,{messageVariables:ee,trigger:O,validateTrigger:T,onMetaChange:function(e){var t=null===A||void 0===A?void 0:A.getKey(e.name);if(K(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),n&&E){var r=e.name;if(e.destroy)r=R.current||r;else if(void 0!==t){var i=Object(d.a)(t,2),a=i[0],u=i[1];r=[a].concat(Object(o.a)(u)),R.current=r}E(e,r)}}}),(function(n,r,u){var f=I(t).length&&r?r.name:[],d=N(f,_),v=void 0!==p?p:!(!c||!c.some((function(e){if(e&&"object"===Object(g.a)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(u);return t&&t.required&&!t.warningOnly}return!1}))),m=Object(a.a)({},n),b=null;if(Array.isArray(h)&&S)b=h;else if(x&&(!s&&!i||S));else if(!i||x||S)if(Object(V.c)(h)){var y=Object(a.a)(Object(a.a)({},h.props),m);if(y.id||(y.id=d),e.help||Y.length>0||X.length>0||e.extra){var k=[];(e.help||Y.length>0)&&k.push("".concat(d,"_help")),e.extra&&k.push("".concat(d,"_extra")),y["aria-describedby"]=k.join(" ")}Y.length>0&&(y["aria-invalid"]="true"),v&&(y["aria-required"]="true"),Object(F.c)(h)&&(y.ref=J(f,h)),new Set([].concat(Object(o.a)(I(O)),Object(o.a)(I(T)))).forEach((function(e){y[e]=function(){for(var t,n,r,i,a,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];null===(r=m[e])||void 0===r||(t=r).call.apply(t,[m].concat(u)),null===(a=(i=h.props)[e])||void 0===a||(n=a).call.apply(n,[i].concat(u))}}));var w=[y["aria-required"],y["aria-invalid"],y["aria-describedby"]];b=l.createElement(fe,{value:m[e.valuePropName||"value"],update:h,childProps:w},Object(V.a)(h,y))}else b=x&&(s||i)&&!S?h(u):h;else;return Z(b,d,v)}))};he.useStatus=U;var de=he,pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ve=function(e){var t=e.prefixCls,n=e.children,i=pe(e,["prefixCls","children"]),o=(0,l.useContext(f.b).getPrefixCls)("form",t),u=l.useMemo((function(){return{prefixCls:o,status:"error"}}),[o]);return l.createElement(y.d,Object(a.a)({},i),(function(e,t,i){return l.createElement(r.c.Provider,{value:u},n(e.map((function(e){return Object(a.a)(Object(a.a)({},e),{fieldKey:e.key})})),t,{errors:i.errors,warnings:i.warnings}))}))};var me=M;me.Item=de,me.List=ve,me.ErrorList=b,me.useForm=A,me.useFormInstance=function(){return Object(l.useContext)(r.a).form},me.useWatch=y.h,me.Provider=r.d,me.create=function(){};t.a=me}]]);